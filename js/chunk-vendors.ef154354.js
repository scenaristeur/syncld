(self["webpackChunksyncld"]=self["webpackChunksyncld"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),i=n(6330),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},5787:function(e,t,n){var r=n(7976),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},9670:function(e,t,n){var r=n(111),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},3013:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,i,o,a=n(3013),s=n(9781),l=n(7854),c=n(614),u=n(111),d=n(2597),h=n(648),f=n(6330),p=n(8880),m=n(8052),g=n(7045),v=n(7976),y=n(9518),b=n(7674),_=n(5112),w=n(9711),x=n(9909),S=x.enforce,E=x.get,T=l.Int8Array,M=T&&T.prototype,C=l.Uint8ClampedArray,A=C&&C.prototype,R=T&&y(T),k=M&&y(M),O=Object.prototype,L=l.TypeError,I=_("toStringTag"),P=w("TYPED_ARRAY_TAG"),D="TypedArrayConstructor",N=a&&!!b&&"Opera"!==h(l.opera),U=!1,F={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},j=function(e){if(!u(e))return!1;var t=h(e);return"DataView"===t||d(F,t)||d(B,t)},V=function(e){var t=y(e);if(u(t)){var n=E(t);return n&&d(n,D)?n[D]:V(t)}},z=function(e){if(!u(e))return!1;var t=h(e);return d(F,t)||d(B,t)},H=function(e){if(z(e))return e;throw L("Target is not a typed array")},W=function(e){if(c(e)&&(!b||v(R,e)))return e;throw L(f(e)+" is not a typed array constructor")},G=function(e,t,n,r){if(s){if(n)for(var i in F){var o=l[i];if(o&&d(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(c){}}}k[e]&&!n||m(k,e,n?t:N&&M[e]||t,r)}},$=function(e,t,n){var r,i;if(s){if(b){if(n)for(r in F)if(i=l[r],i&&d(i,e))try{delete i[e]}catch(o){}if(R[e]&&!n)return;try{return m(R,e,n?t:N&&R[e]||t)}catch(o){}}for(r in F)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in F)i=l[r],o=i&&i.prototype,o?S(o)[D]=i:N=!1;for(r in B)i=l[r],o=i&&i.prototype,o&&(S(o)[D]=i);if((!N||!c(R)||R===Function.prototype)&&(R=function(){throw L("Incorrect invocation")},N))for(r in F)l[r]&&b(l[r],R);if((!N||!k||k===O)&&(k=R.prototype,N))for(r in F)l[r]&&b(l[r].prototype,k);if(N&&y(A)!==k&&b(A,k),s&&!d(k,I))for(r in U=!0,g(k,I,{configurable:!0,get:function(){return u(this)?this[P]:void 0}}),F)l[r]&&p(l[r],P,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:N,TYPED_ARRAY_TAG:U&&P,aTypedArray:H,aTypedArrayConstructor:W,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:$,getTypedArrayConstructor:V,isView:j,isTypedArray:z,TypedArray:R,TypedArrayPrototype:k}},7745:function(e,t,n){var r=n(6244);e.exports=function(e,t){var n=0,i=r(t),o=new e(i);while(i>n)o[n]=t[n++];return o}},1318:function(e,t,n){var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,l=r(t),c=o(l),u=i(a,c);if(e&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3658:function(e,t,n){"use strict";var r=n(9781),i=n(3157),o=TypeError,a=Object.getOwnPropertyDescriptor,s=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},206:function(e,t,n){var r=n(1702);e.exports=r([].slice)},1843:function(e,t,n){var r=n(6244);e.exports=function(e,t){for(var n=r(e),i=new t(n),o=0;o<n;o++)i[o]=e[n-o-1];return i}},1572:function(e,t,n){var r=n(6244),i=n(9303),o=RangeError;e.exports=function(e,t,n,a){var s=r(e),l=i(n),c=l<0?s+l:l;if(c>=s||c<0)throw o("Incorrect index");for(var u=new t(s),d=0;d<s;d++)u[d]=d===c?a:e[d];return u}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:function(e,t,n){var r=n(1694),i=n(614),o=n(4326),a=n(5112),s=a("toStringTag"),l=Object,c="Arguments"==o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),s))?n:c?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},9920:function(e,t,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t,n){for(var s=i(t),l=a.f,c=o.f,u=0;u<s.length;u++){var d=s[u];r(e,d)||n&&r(n,d)||l(e,d,c(t,d))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7045:function(e,t,n){var r=n(6339),i=n(3070);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},8052:function(e,t,n){var r=n(614),i=n(3070),o=n(6339),a=n(3072);e.exports=function(e,t,n,s){s||(s={});var l=s.enumerable,c=void 0!==s.name?s.name:t;if(r(n)&&o(n,c,s),s.global)l?e[t]=n:a(t,n);else{try{s.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:function(e){var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},317:function(e,t,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},7207:function(e){var t=TypeError,n=9007199254740991;e.exports=function(e){if(e>n)throw t("Maximum allowed index exceeded");return e}},3678:function(e){e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},9363:function(e){e.exports="function"==typeof Bun&&Bun&&"string"==typeof Bun.version},6833:function(e,t,n){var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(e,t,n){var r=n(4326);e.exports="undefined"!=typeof process&&"process"==r(process)},8113:function(e){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(e,t,n){var r,i,o=n(7854),a=n(8113),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:function(e,t,n){var r=n(1702),i=Error,o=r("".replace),a=function(e){return String(i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,s,"");return e}},2109:function(e,t,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(8052),s=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,d,h,f,p,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||s(m,{}):(r[m]||{}).prototype,u)for(d in t){if(f=t[d],e.dontCallGetSet?(p=i(u,d),h=p&&p.value):h=u[d],n=c(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==h){if(typeof f==typeof h)continue;l(f,h)}(e.sham||h&&h.sham)&&o(f,"sham",!0),a(u,d,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(e,t,n){var r=n(1470),i=n(9662),o=n(4374),a=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},5668:function(e,t,n){var r=n(1702),i=n(9662);e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},1470:function(e,t,n){var r=n(4326),i=n(1702);e.exports=function(e){if("Function"===r(e))return i(e)}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);e.exports=r?a:function(e){return function(){return o.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662),i=n(8554);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),i=n(7293),o=n(4326),a=Object,s=r("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):a(e)}:a},9587:function(e,t,n){var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:function(e,t,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},9909:function(e,t,n){var r,i,o,a=n(4811),s=n(7854),l=n(111),c=n(8880),u=n(2597),d=n(5465),h=n(6200),f=n(3501),p="Object already initialized",m=s.TypeError,g=s.WeakMap,v=function(e){return o(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!l(t)||(n=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return n}};if(a||d.state){var b=d.state||(d.state=new g);b.get=b.get,b.has=b.has,b.set=b.set,r=function(e,t){if(b.has(e))throw m(p);return t.facade=e,b.set(e,t),t},i=function(e){return b.get(e)||{}},o=function(e){return b.has(e)}}else{var _=h("state");f[_]=!0,r=function(e,t){if(u(e,_))throw m(p);return t.facade=e,c(e,_,t),t},i=function(e){return u(e,_)?e[_]:{}},o=function(e){return u(e,_)}}e.exports={set:r,get:i,has:o,enforce:v,getterFor:y}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},4067:function(e,t,n){var r=n(648);e.exports=function(e){var t=r(e);return"BigInt64Array"==t||"BigUint64Array"==t}},614:function(e,t,n){var r=n(4154),i=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=l[s(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},8554:function(e){e.exports=function(e){return null===e||void 0===e}},111:function(e,t,n){var r=n(614),i=n(4154),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===o}:function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),i=n(614),o=n(7976),a=n(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,s(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(1702),i=n(7293),o=n(614),a=n(2597),s=n(9781),l=n(6530).CONFIGURABLE,c=n(2788),u=n(9909),d=u.enforce,h=u.get,f=String,p=Object.defineProperty,m=r("".slice),g=r("".replace),v=r([].join),y=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),b=String(String).split("String"),_=e.exports=function(e,t,n){"Symbol("===m(f(t),0,7)&&(t="["+g(f(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!a(e,"name")||l&&e.name!==t)&&(s?p(e,"name",{value:t,configurable:!0}):e.name=t),y&&n&&a(n,"arity")&&e.length!==n.arity&&p(e,"length",{value:n.arity});try{n&&a(n,"constructor")&&n.constructor?s&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=d(e);return a(r,"source")||(r.source=v(b,"string"==typeof t?t:"")),e};Function.prototype.toString=_((function(){return o(this)&&h(this).source||c(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},3070:function(e,t,n){var r=n(9781),i=n(4664),o=n(3353),a=n(9670),s=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";t.f=r?o?function(e,t,n){if(a(e),t=s(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=u(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:d in n?n[d]:r[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(a(e),t=s(t),a(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),l=n(4948),c=n(2597),u=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),i=n(614),o=n(7908),a=n(6200),s=n(8544),l=a("IE_PROTO"),c=Object,u=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),l=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~a(u,n)||l(u,n));return u}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(5668),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),i=n(614),o=n(111),a=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=r(n,e)))return s;if(i(n=e.valueOf)&&!o(s=r(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=r(n,e)))return s;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?l(t,n(e)):t}},4488:function(e,t,n){var r=n(8554),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},7152:function(e,t,n){"use strict";var r=n(7854),i=n(2104),o=n(614),a=n(9363),s=n(8113),l=n(206),c=n(8053),u=r.Function,d=/MSIE .\./.test(s)||a&&function(){var e=r.Bun.version.split(".");return e.length<3||0==e[0]&&(e[1]<3||3==e[1]&&0==e[2])}();e.exports=function(e,t){var n=t?2:1;return d?function(r,a){var s=c(arguments.length,1)>n,d=o(r)?r:u(r),h=s?l(arguments,n):[],f=s?function(){i(d,this,h)}:d;return t?e(f,a):e(f)}:e}},6200:function(e,t,n){var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3072),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.31.1",mode:r?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:function(e,t,n){var r=n(7392),i=n(7293),o=n(7854),a=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},261:function(e,t,n){var r,i,o,a,s=n(7854),l=n(2104),c=n(9974),u=n(614),d=n(2597),h=n(7293),f=n(490),p=n(206),m=n(317),g=n(8053),v=n(6833),y=n(5268),b=s.setImmediate,_=s.clearImmediate,w=s.process,x=s.Dispatch,S=s.Function,E=s.MessageChannel,T=s.String,M=0,C={},A="onreadystatechange";h((function(){r=s.location}));var R=function(e){if(d(C,e)){var t=C[e];delete C[e],t()}},k=function(e){return function(){R(e)}},O=function(e){R(e.data)},L=function(e){s.postMessage(T(e),r.protocol+"//"+r.host)};b&&_||(b=function(e){g(arguments.length,1);var t=u(e)?e:S(e),n=p(arguments,1);return C[++M]=function(){l(t,void 0,n)},i(M),M},_=function(e){delete C[e]},y?i=function(e){w.nextTick(k(e))}:x&&x.now?i=function(e){x.now(k(e))}:E&&!v?(o=new E,a=o.port2,o.port1.onmessage=O,i=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(L)?(i=L,s.addEventListener("message",O,!1)):i=A in m("script")?function(e){f.appendChild(m("script"))[A]=function(){f.removeChild(this),R(e)}}:function(e){setTimeout(k(e),0)}),e.exports={set:b,clear:_}},1400:function(e,t,n){var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},4599:function(e,t,n){var r=n(7593),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},7593:function(e,t,n){var r=n(6916),i=n(111),o=n(2190),a=n(8173),s=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=a(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},1340:function(e,t,n){var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3307:function(e,t,n){var r=n(6293);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e){var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},4811:function(e,t,n){var r=n(7854),i=n(614),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},5112:function(e,t,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(6293),l=n(3307),c=r.Symbol,u=i("wks"),d=l?c["for"]||c:c&&c.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},7658:function(e,t,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(3658),s=n(7207),l=n(7293),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=c||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),n=o(t),r=arguments.length;s(n+r);for(var l=0;l<r;l++)t[n]=arguments[l],n++;return a(t,n),n}})},1439:function(e,t,n){"use strict";var r=n(1843),i=n(260),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return r(o(this),s(this))}))},7585:function(e,t,n){"use strict";var r=n(260),i=n(1702),o=n(9662),a=n(7745),s=r.aTypedArray,l=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,u=i(r.TypedArrayPrototype.sort);c("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),n=a(l(t),t);return u(n,e)}))},5315:function(e,t,n){"use strict";var r=n(1572),i=n(260),o=n(4067),a=n(9303),s=n(4599),l=i.aTypedArray,c=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,d=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var n=l(this),i=a(e),u=o(n)?s(t):+t;return r(n,c(n),i,u)}}["with"],!d)},1091:function(e,t,n){var r=n(2109),i=n(7854),o=n(261).clear;r({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},2801:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),a=n(9114),s=n(3070).f,l=n(2597),c=n(5787),u=n(9587),d=n(6277),h=n(3678),f=n(1060),p=n(9781),m=n(1913),g="DOMException",v=o("Error"),y=o(g),b=function(){c(this,_);var e=arguments.length,t=d(e<1?void 0:arguments[0]),n=d(e<2?void 0:arguments[1],"Error"),r=new y(t,n),i=v(t);return i.name=g,s(r,"stack",a(1,f(i.stack,1))),u(r,this,b),r},_=b.prototype=y.prototype,w="stack"in v(g),x="stack"in new y(1,2),S=y&&p&&Object.getOwnPropertyDescriptor(i,g),E=!!S&&!(S.writable&&S.configurable),T=w&&!E&&!x;r({global:!0,constructor:!0,forced:m||T},{DOMException:T?b:y});var M=o(g),C=M.prototype;if(C.constructor!==M)for(var A in m||s(C,"constructor",a(1,M)),h)if(l(h,A)){var R=h[A],k=R.s;l(M,k)||s(M,k,a(6,R.c))}},4633:function(e,t,n){n(1091),n(2986)},2986:function(e,t,n){var r=n(2109),i=n(7854),o=n(261).set,a=n(7152),s=i.setImmediate?a(o,!1):o;r({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},4870:function(e,t,n){"use strict";n.d(t,{$y:function(){return Ne},B:function(){return a},BK:function(){return rt},Bj:function(){return o},EB:function(){return c},Fl:function(){return ct},IU:function(){return Be},Jd:function(){return A},OT:function(){return Le},PG:function(){return De},SU:function(){return Ze},Tn:function(){return Ke},Um:function(){return Oe},Vh:function(){return at},WL:function(){return et},X$:function(){return L},X3:function(){return Fe},XI:function(){return qe},Xl:function(){return je},YS:function(){return Ie},ZM:function(){return nt},cE:function(){return E},dq:function(){return Ge},iH:function(){return $e},j:function(){return k},lk:function(){return R},nZ:function(){return l},oR:function(){return Je},qj:function(){return ke},qq:function(){return x},sT:function(){return T},yT:function(){return Ue}});n(7658);var r=n(7139);let i;class o{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!e&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function a(e){return new o(e)}function s(e,t=i){t&&t.active&&t.effects.push(e)}function l(){return i}function c(e){i&&i.cleanups.push(e)}const u=e=>{const t=new Set(e);return t.w=0,t.n=0,t},d=e=>(e.w&v)>0,h=e=>(e.n&v)>0,f=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=v},p=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];d(i)&&!h(i)?i.delete(e):t[n++]=i,i.w&=~v,i.n&=~v}t.length=n}},m=new WeakMap;let g=0,v=1;const y=30;let b;const _=Symbol(""),w=Symbol("");class x{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let e=b,t=M;while(e){if(e===this)return;e=e.parent}try{return this.parent=b,b=this,M=!0,v=1<<++g,g<=y?f(this):S(this),this.fn()}finally{g<=y&&p(this),v=1<<--g,b=this.parent,M=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){b===this?this.deferStop=!0:this.active&&(S(this),this.onStop&&this.onStop(),this.active=!1)}}function S(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function E(e,t){e.effect&&(e=e.effect.fn);const n=new x(e);t&&((0,r.l7)(n,t),t.scope&&s(n,t.scope)),t&&t.lazy||n.run();const i=n.run.bind(n);return i.effect=n,i}function T(e){e.effect.stop()}let M=!0;const C=[];function A(){C.push(M),M=!1}function R(){const e=C.pop();M=void 0===e||e}function k(e,t,n){if(M&&b){let t=m.get(e);t||m.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=u());const i=void 0;O(r,i)}}function O(e,t){let n=!1;g<=y?h(e)||(e.n|=v,n=!d(e)):n=!e.has(b),n&&(e.add(b),b.deps.push(e))}function L(e,t,n,i,o,a){const s=m.get(e);if(!s)return;let l=[];if("clear"===t)l=[...s.values()];else if("length"===n&&(0,r.kJ)(e)){const e=Number(i);s.forEach(((t,n)=>{("length"===n||n>=e)&&l.push(t)}))}else switch(void 0!==n&&l.push(s.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&l.push(s.get("length")):(l.push(s.get(_)),(0,r._N)(e)&&l.push(s.get(w)));break;case"delete":(0,r.kJ)(e)||(l.push(s.get(_)),(0,r._N)(e)&&l.push(s.get(w)));break;case"set":(0,r._N)(e)&&l.push(s.get(_));break}if(1===l.length)l[0]&&I(l[0]);else{const e=[];for(const t of l)t&&e.push(...t);I(u(e))}}function I(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&P(r,t);for(const r of n)r.computed||P(r,t)}function P(e,t){(e!==b||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function D(e,t){var n;return null==(n=m.get(e))?void 0:n.get(t)}const N=(0,r.fY)("__proto__,__v_isRef,__isVue"),U=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),F=G(),B=G(!1,!0),j=G(!0),V=G(!0,!0),z=H();function H(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Be(this);for(let t=0,i=this.length;t<i;t++)k(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Be)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){A();const n=Be(this)[t].apply(this,e);return R(),n}})),e}function W(e){const t=Be(this);return k(t,"has",e),t.hasOwnProperty(e)}function G(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&o===(e?t?Ce:Me:t?Te:Ee).get(n))return n;const a=(0,r.kJ)(n);if(!e){if(a&&(0,r.RI)(z,i))return Reflect.get(z,i,o);if("hasOwnProperty"===i)return W}const s=Reflect.get(n,i,o);return((0,r.yk)(i)?U.has(i):N(i))?s:(e||k(n,"get",i),t?s:Ge(s)?a&&(0,r.S0)(i)?s:s.value:(0,r.Kn)(s)?e?Le(s):ke(s):s)}}const $=X(),q=X(!0);function X(e=!1){return function(t,n,i,o){let a=t[n];if(Ne(a)&&Ge(a)&&!Ge(i))return!1;if(!e&&(Ue(i)||Ne(i)||(a=Be(a),i=Be(i)),!(0,r.kJ)(t)&&Ge(a)&&!Ge(i)))return a.value=i,!0;const s=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,o);return t===Be(o)&&(s?(0,r.aU)(i,a)&&L(t,"set",n,i,a):L(t,"add",n,i)),l}}function Y(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&L(e,"delete",t,void 0,i),o}function J(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&U.has(t)||k(e,"has",t),n}function Z(e){return k(e,"iterate",(0,r.kJ)(e)?"length":_),Reflect.ownKeys(e)}const K={get:F,set:$,deleteProperty:Y,has:J,ownKeys:Z},Q={get:j,set(e,t){return!0},deleteProperty(e,t){return!0}},ee=(0,r.l7)({},K,{get:B,set:q}),te=(0,r.l7)({},Q,{get:V}),ne=e=>e,re=e=>Reflect.getPrototypeOf(e);function ie(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Be(e),o=Be(t);n||(t!==o&&k(i,"get",t),k(i,"get",o));const{has:a}=re(i),s=r?ne:n?ze:Ve;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void(e!==i&&e.get(t))}function oe(e,t=!1){const n=this["__v_raw"],r=Be(n),i=Be(e);return t||(e!==i&&k(r,"has",e),k(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function ae(e,t=!1){return e=e["__v_raw"],!t&&k(Be(e),"iterate",_),Reflect.get(e,"size",e)}function se(e){e=Be(e);const t=Be(this),n=re(t),r=n.has.call(t,e);return r||(t.add(e),L(t,"add",e,e)),this}function le(e,t){t=Be(t);const n=Be(this),{has:i,get:o}=re(n);let a=i.call(n,e);a||(e=Be(e),a=i.call(n,e));const s=o.call(n,e);return n.set(e,t),a?(0,r.aU)(t,s)&&L(n,"set",e,t,s):L(n,"add",e,t),this}function ce(e){const t=Be(this),{has:n,get:r}=re(t);let i=n.call(t,e);i||(e=Be(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,a=t.delete(e);return i&&L(t,"delete",e,void 0,o),a}function ue(){const e=Be(this),t=0!==e.size,n=void 0,r=e.clear();return t&&L(e,"clear",void 0,void 0,n),r}function de(e,t){return function(n,r){const i=this,o=i["__v_raw"],a=Be(o),s=t?ne:e?ze:Ve;return!e&&k(a,"iterate",_),o.forEach(((e,t)=>n.call(r,s(e),s(t),i)))}}function he(e,t,n){return function(...i){const o=this["__v_raw"],a=Be(o),s=(0,r._N)(a),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=o[e](...i),d=n?ne:t?ze:Ve;return!t&&k(a,"iterate",c?w:_),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function fe(e){return function(...t){return"delete"!==e&&this}}function pe(){const e={get(e){return ie(this,e)},get size(){return ae(this)},has:oe,add:se,set:le,delete:ce,clear:ue,forEach:de(!1,!1)},t={get(e){return ie(this,e,!1,!0)},get size(){return ae(this)},has:oe,add:se,set:le,delete:ce,clear:ue,forEach:de(!1,!0)},n={get(e){return ie(this,e,!0)},get size(){return ae(this,!0)},has(e){return oe.call(this,e,!0)},add:fe("add"),set:fe("set"),delete:fe("delete"),clear:fe("clear"),forEach:de(!0,!1)},r={get(e){return ie(this,e,!0,!0)},get size(){return ae(this,!0)},has(e){return oe.call(this,e,!0)},add:fe("add"),set:fe("set"),delete:fe("delete"),clear:fe("clear"),forEach:de(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=he(i,!1,!1),n[i]=he(i,!0,!1),t[i]=he(i,!1,!0),r[i]=he(i,!0,!0)})),[e,n,t,r]}const[me,ge,ve,ye]=pe();function be(e,t){const n=t?e?ye:ve:e?ge:me;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const _e={get:be(!1,!1)},we={get:be(!1,!0)},xe={get:be(!0,!1)},Se={get:be(!0,!0)};const Ee=new WeakMap,Te=new WeakMap,Me=new WeakMap,Ce=new WeakMap;function Ae(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Re(e){return e["__v_skip"]||!Object.isExtensible(e)?0:Ae((0,r.W7)(e))}function ke(e){return Ne(e)?e:Pe(e,!1,K,_e,Ee)}function Oe(e){return Pe(e,!1,ee,we,Te)}function Le(e){return Pe(e,!0,Q,xe,Me)}function Ie(e){return Pe(e,!0,te,Se,Ce)}function Pe(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const a=o.get(e);if(a)return a;const s=Re(e);if(0===s)return e;const l=new Proxy(e,2===s?i:n);return o.set(e,l),l}function De(e){return Ne(e)?De(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Ne(e){return!(!e||!e["__v_isReadonly"])}function Ue(e){return!(!e||!e["__v_isShallow"])}function Fe(e){return De(e)||Ne(e)}function Be(e){const t=e&&e["__v_raw"];return t?Be(t):e}function je(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Ve=e=>(0,r.Kn)(e)?ke(e):e,ze=e=>(0,r.Kn)(e)?Le(e):e;function He(e){M&&b&&(e=Be(e),O(e.dep||(e.dep=u())))}function We(e,t){e=Be(e);const n=e.dep;n&&I(n)}function Ge(e){return!(!e||!0!==e.__v_isRef)}function $e(e){return Xe(e,!1)}function qe(e){return Xe(e,!0)}function Xe(e,t){return Ge(e)?e:new Ye(e,t)}class Ye{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Be(e),this._value=t?e:Ve(e)}get value(){return He(this),this._value}set value(e){const t=this.__v_isShallow||Ue(e)||Ne(e);e=t?e:Be(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Ve(e),We(this,e))}}function Je(e){We(e,void 0)}function Ze(e){return Ge(e)?e.value:e}function Ke(e){return(0,r.mf)(e)?e():Ze(e)}const Qe={get:(e,t,n)=>Ze(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ge(i)&&!Ge(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function et(e){return De(e)?e:new Proxy(e,Qe)}class tt{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:n}=e((()=>He(this)),(()=>We(this)));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function nt(e){return new tt(e)}function rt(e){const t=(0,r.kJ)(e)?new Array(e.length):{};for(const n in e)t[n]=st(e,n);return t}class it{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return D(Be(this._object),this._key)}}class ot{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function at(e,t,n){return Ge(e)?e:(0,r.mf)(e)?new ot(e):(0,r.Kn)(e)&&arguments.length>1?st(e,t,n):$e(e)}function st(e,t,n){const r=e[t];return Ge(r)?r:new it(e,t,n)}class lt{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this._dirty=!0,this.effect=new x(e,(()=>{this._dirty||(this._dirty=!0,We(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Be(this);return He(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ct(e,t,n=!1){let i,o;const a=(0,r.mf)(e);a?(i=e,o=r.dG):(i=e.get,o=e.set);const s=new lt(i,o,a||!o,n);return s}},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return l},$y:function(){return r.$y},Ah:function(){return et},B:function(){return r.B},BK:function(){return r.BK},Bj:function(){return r.Bj},Bz:function(){return Et},C3:function(){return lr},C_:function(){return i.C_},Cn:function(){return z},EB:function(){return r.EB},EM:function(){return sn},Eo:function(){return Ln},F4:function(){return mr},FN:function(){return Rr},Fl:function(){return Jr},G:function(){return oi},Gn:function(){return At},HX:function(){return H},HY:function(){return $n},Ho:function(){return gr},IU:function(){return r.IU},JJ:function(){return on},Jd:function(){return Qe},KU:function(){return s},Ko:function(){return ft},LL:function(){return ct},MW:function(){return St},MX:function(){return ti},Mr:function(){return ei},Nv:function(){return pt},OT:function(){return r.OT},Ob:function(){return Be},P$:function(){return Me},PG:function(){return r.PG},Q2:function(){return ut},Q6:function(){return Le},RC:function(){return De},Rh:function(){return he},Rr:function(){return kt},S3:function(){return c},SU:function(){return r.SU},Tn:function(){return r.Tn},U2:function(){return Ae},Uc:function(){return Kr},Uk:function(){return vr},Um:function(){return r.Um},Us:function(){return On},Vf:function(){return Nt},Vh:function(){return r.Vh},WI:function(){return mt},WL:function(){return r.WL},WY:function(){return Tt},Wl:function(){return Ct},Wm:function(){return fr},Wu:function(){return a},X3:function(){return r.X3},XI:function(){return r.XI},Xl:function(){return r.Xl},Xn:function(){return Ze},Y1:function(){return zr},Y3:function(){return _},Y8:function(){return xe},YP:function(){return me},YS:function(){return r.YS},Yq:function(){return nt},Yu:function(){return Mt},ZK:function(){return o},ZM:function(){return r.ZM},Zq:function(){return Qr},_:function(){return hr},_A:function(){return i._A},aZ:function(){return Ie},b9:function(){return Rt},bT:function(){return rt},bv:function(){return Je},cE:function(){return r.cE},d1:function(){return it},dD:function(){return V},dG:function(){return Sr},dl:function(){return Ve},dq:function(){return r.dq},ec:function(){return P},eq:function(){return ai},f3:function(){return an},h:function(){return Zr},hR:function(){return i.hR},i8:function(){return ri},iD:function(){return ir},iH:function(){return r.iH},ic:function(){return Ke},j4:function(){return or},j5:function(){return i.j5},kC:function(){return i.kC},kq:function(){return br},l1:function(){return Ot},lA:function(){return ar},lR:function(){return Wn},m0:function(){return de},mW:function(){return O},mv:function(){return Ft},mx:function(){return vt},n4:function(){return ee},nJ:function(){return Ee},nK:function(){return Oe},nQ:function(){return ni},nZ:function(){return r.nZ},oR:function(){return r.oR},of:function(){return Hr},p1:function(){return Ut},qG:function(){return Yn},qZ:function(){return nr},qb:function(){return T},qj:function(){return r.qj},qq:function(){return r.qq},ry:function(){return si},sT:function(){return r.sT},se:function(){return ze},sv:function(){return Xn},tT:function(){return Lt},uE:function(){return yr},u_:function(){return Dt},up:function(){return st},vl:function(){return tt},vs:function(){return i.vs},w5:function(){return W},wF:function(){return Ye},wg:function(){return Kn},wy:function(){return _e},xv:function(){return qn},yT:function(){return r.yT},yX:function(){return fe},zw:function(){return i.zw}});n(7658);var r=n(4870),i=n(7139);function o(e,...t){}function a(e,t){}function s(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){c(o,t,n)}return i}function l(e,t,n,r){if((0,i.mf)(e)){const o=s(e,t,n,r);return o&&(0,i.tI)(o)&&o.catch((e=>{c(e,t,n)})),o}const o=[];for(let i=0;i<e.length;i++)o.push(l(e[i],t,n,r));return o}function c(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,i,o])}u(e,n,i,r)}function u(e,t,n,r=!0){console.error(e)}let d=!1,h=!1;const f=[];let p=0;const m=[];let g=null,v=0;const y=Promise.resolve();let b=null;function _(e){const t=b||y;return e?t.then(this?e.bind(this):e):t}function w(e){let t=p+1,n=f.length;while(t<n){const r=t+n>>>1,i=A(f[r]);i<e?t=r+1:n=r}return t}function x(e){f.length&&f.includes(e,d&&e.allowRecurse?p+1:p)||(null==e.id?f.push(e):f.splice(w(e.id),0,e),S())}function S(){d||h||(h=!0,b=y.then(k))}function E(e){const t=f.indexOf(e);t>p&&f.splice(t,1)}function T(e){(0,i.kJ)(e)?m.push(...e):g&&g.includes(e,e.allowRecurse?v+1:v)||m.push(e),S()}function M(e,t=(d?p+1:0)){for(0;t<f.length;t++){const e=f[t];e&&e.pre&&(f.splice(t,1),t--,e())}}function C(e){if(m.length){const e=[...new Set(m)];if(m.length=0,g)return void g.push(...e);for(g=e,g.sort(((e,t)=>A(e)-A(t))),v=0;v<g.length;v++)g[v]();g=null,v=0}}const A=e=>null==e.id?1/0:e.id,R=(e,t)=>{const n=A(e)-A(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function k(e){h=!1,d=!0,f.sort(R);i.dG;try{for(p=0;p<f.length;p++){const e=f[p];e&&!1!==e.active&&s(e,null,14)}}finally{p=0,f.length=0,C(e),d=!1,b=null,(f.length||m.length)&&k(e)}}let O,L=[],I=!1;function P(e,t){var n,r;if(O=e,O)O.enabled=!0,L.forEach((({event:e,args:t})=>O.emit(e,...t))),L=[];else if("undefined"!==typeof window&&window.HTMLElement&&!(null==(r=null==(n=window.navigator)?void 0:n.userAgent)?void 0:r.includes("jsdom"))){const e=t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[];e.push((e=>{P(e,t)})),setTimeout((()=>{O||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,I=!0,L=[])}),3e3)}else I=!0,L=[]}function D(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let o=n;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in r){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:a}=r[e]||i.kT;a&&(o=n.map((e=>(0,i.HD)(e)?e.trim():e))),t&&(o=n.map(i.h5))}let c;let u=r[c=(0,i.hR)(t)]||r[c=(0,i.hR)((0,i._A)(t))];!u&&a&&(u=r[c=(0,i.hR)((0,i.rs)(t))]),u&&l(u,e,6,o);const d=r[c+"Once"];if(d){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,l(d,e,6,o)}}function N(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const a=e.emits;let s={},l=!1;if(!(0,i.mf)(e)){const r=e=>{const n=N(e,t,!0);n&&(l=!0,(0,i.l7)(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||l?((0,i.kJ)(a)?a.forEach((e=>s[e]=null)):(0,i.l7)(s,a),(0,i.Kn)(e)&&r.set(e,s),s):((0,i.Kn)(e)&&r.set(e,null),null)}function U(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let F=null,B=null;function j(e){const t=F;return F=e,B=e&&e.type.__scopeId||null,t}function V(e){B=e}function z(){B=null}const H=e=>W;function W(e,t=F,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&nr(-1);const i=j(t);let o;try{o=e(...n)}finally{j(i),r._d&&nr(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function G(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[s],slots:l,attrs:u,emit:d,render:h,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const _=j(e);try{if(4&n.shapeFlag){const e=o||r;y=_r(h.call(e,e,f,a,m,p,g)),b=u}else{const e=t;0,y=_r(e.length>1?e(a,{attrs:u,slots:l,emit:d}):e(a,null)),b=t.props?u:q(u)}}catch(x){Jn.length=0,c(x,e,1),y=fr(Xn)}let w=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=w;e.length&&7&t&&(s&&e.some(i.tR)&&(b=X(b,s)),w=gr(w,b))}return n.dirs&&(w=gr(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),y=w,j(_),y}function $(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!ar(r))return;if(r.type!==Xn||"v-if"===r.children){if(t)return;t=r}}return t}const q=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},X=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function Y(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||J(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?J(r,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!U(c,n))return!0}}return!1}function J(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!U(n,o))return!0}return!1}function Z({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const K=e=>e.__isSuspense,Q={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,a,s,l,c){null==e?ne(t,n,r,i,o,a,s,l,c):re(e,t,n,r,i,a,s,l,c)},hydrate:oe,create:ie,normalize:ae},ee=Q;function te(e,t){const n=e.props&&e.props[t];(0,i.mf)(n)&&n()}function ne(e,t,n,r,i,o,a,s,l){const{p:c,o:{createElement:u}}=l,d=u("div"),h=e.suspense=ie(e,i,r,t,d,n,o,a,s,l);c(null,h.pendingBranch=e.ssContent,d,null,r,h,o,a),h.deps>0?(te(e,"onPending"),te(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,a),ce(h,e.ssFallback)):h.resolve(!1,!0)}function re(e,t,n,r,i,o,a,s,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const h=t.ssContent,f=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=d;if(m)d.pendingBranch=h,sr(h,m)?(l(m,h,d.hiddenContainer,null,i,d,o,a,s),d.deps<=0?d.resolve():g&&(l(p,f,n,r,i,null,o,a,s),ce(d,f))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=m):c(m,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),g?(l(null,h,d.hiddenContainer,null,i,d,o,a,s),d.deps<=0?d.resolve():(l(p,f,n,r,i,null,o,a,s),ce(d,f))):p&&sr(h,p)?(l(p,h,n,r,i,d,o,a,s),d.resolve(!0)):(l(null,h,d.hiddenContainer,null,i,d,o,a,s),d.deps<=0&&d.resolve()));else if(p&&sr(h,p))l(p,h,n,r,i,d,o,a,s),ce(d,h);else if(te(t,"onPending"),d.pendingBranch=h,d.pendingId++,l(null,h,d.hiddenContainer,null,i,d,o,a,s),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout((()=>{d.pendingId===t&&d.fallback(f)}),e):0===e&&d.fallback(f)}}function ie(e,t,n,r,o,a,s,l,u,d,h=!1){const{p:f,m:p,um:m,n:g,o:{parentNode:v,remove:y}}=d;let b;const _=ue(e);_&&(null==t?void 0:t.pendingBranch)&&(b=t.pendingId,t.deps++);const w=e.props?(0,i.He)(e.props.timeout):void 0;const x={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:o,anchor:a,deps:0,pendingId:0,timeout:"number"===typeof w?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:i,pendingBranch:o,pendingId:a,effects:s,parentComponent:l,container:c}=x;if(x.isHydrating)x.isHydrating=!1;else if(!e){const e=i&&o.transition&&"out-in"===o.transition.mode;e&&(i.transition.afterLeave=()=>{a===x.pendingId&&p(o,c,t,0)});let{anchor:t}=x;i&&(t=g(i),m(i,l,x,!0)),e||p(o,c,t,0)}ce(x,o),x.pendingBranch=null,x.isInFallback=!1;let u=x.parent,d=!1;while(u){if(u.pendingBranch){u.effects.push(...s),d=!0;break}u=u.parent}d||T(s),x.effects=[],_&&t&&t.pendingBranch&&b===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),te(r,"onResolve")},fallback(e){if(!x.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,isSVG:o}=x;te(t,"onFallback");const a=g(n),s=()=>{x.isInFallback&&(f(null,e,i,a,r,null,o,l,u),ce(x,e))},c=e.transition&&"out-in"===e.transition.mode;c&&(n.transition.afterLeave=s),x.isInFallback=!0,m(n,r,null,!0),c||s()},move(e,t,n){x.activeBranch&&p(x.activeBranch,e,t,n),x.container=e},next(){return x.activeBranch&&g(x.activeBranch)},registerDep(e,t){const n=!!x.pendingBranch;n&&x.deps++;const r=e.vnode.el;e.asyncDep.catch((t=>{c(t,e,0)})).then((i=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:o}=e;Vr(e,i,!1),r&&(o.el=r);const a=!r&&e.subTree.el;t(e,o,v(r||e.subTree.el),r?null:g(e.subTree),x,s,u),a&&y(a),Z(e,o.el),n&&0===--x.deps&&x.resolve()}))},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&m(x.activeBranch,n,e,t),x.pendingBranch&&m(x.pendingBranch,n,e,t)}};return x}function oe(e,t,n,r,i,o,a,s,l){const c=t.suspense=ie(t,r,n,e.parentNode,document.createElement("div"),null,i,o,a,s,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,a);return 0===c.deps&&c.resolve(!1,!0),u}function ae(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=se(r?n.default:n),e.ssFallback=r?se(n.fallback):fr(Xn)}function se(e){let t;if((0,i.mf)(e)){const n=tr&&e._c;n&&(e._d=!1,Kn()),e=e(),n&&(e._d=!0,t=Zn,Qn())}if((0,i.kJ)(e)){const t=$(e);0,e=t}return e=_r(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter((t=>t!==e))),e}function le(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):T(e)}function ce(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,Z(r,i))}function ue(e){var t;return null!=(null==(t=e.props)?void 0:t.suspensible)&&!1!==e.props.suspensible}function de(e,t){return ge(e,null,t)}function he(e,t){return ge(e,null,{flush:"post"})}function fe(e,t){return ge(e,null,{flush:"sync"})}const pe={};function me(e,t,n){return ge(e,t,n)}function ge(e,t,{immediate:n,deep:o,flush:a,onTrack:c,onTrigger:u}=i.kT){var d;const h=(0,r.nZ)()===(null==(d=Ar)?void 0:d.scope)?Ar:null;let f,p,m=!1,g=!1;if((0,r.dq)(e)?(f=()=>e.value,m=(0,r.yT)(e)):(0,r.PG)(e)?(f=()=>e,o=!0):(0,i.kJ)(e)?(g=!0,m=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),f=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?be(e):(0,i.mf)(e)?s(e,h,2):void 0))):f=(0,i.mf)(e)?t?()=>s(e,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),l(e,h,3,[y])}:i.dG,t&&o){const e=f;f=()=>be(e())}let v,y=e=>{p=S.onStop=()=>{s(e,h,4)}};if(Fr){if(y=i.dG,t?n&&l(t,h,3,[f(),g?[]:void 0,y]):f(),"sync"!==a)return i.dG;{const e=Qr();v=e.__watcherHandles||(e.__watcherHandles=[])}}let b=g?new Array(e.length).fill(pe):pe;const _=()=>{if(S.active)if(t){const e=S.run();(o||m||(g?e.some(((e,t)=>(0,i.aU)(e,b[t]))):(0,i.aU)(e,b)))&&(p&&p(),l(t,h,3,[e,b===pe?void 0:g&&b[0]===pe?[]:b,y]),b=e)}else S.run()};let w;_.allowRecurse=!!t,"sync"===a?w=_:"post"===a?w=()=>kn(_,h&&h.suspense):(_.pre=!0,h&&(_.id=h.uid),w=()=>x(_));const S=new r.qq(f,w);t?n?_():b=S.run():"post"===a?kn(S.run.bind(S),h&&h.suspense):S.run();const E=()=>{S.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,S)};return v&&v.push(E),E}function ve(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?ye(r,e):()=>r[e]:e.bind(r,r);let a;(0,i.mf)(t)?a=t:(a=t.handler,n=t);const s=Ar;Ir(this);const l=ge(o,a.bind(r),n);return s?Ir(s):Pr(),l}function ye(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function be(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))be(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)be(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{be(e,t)}));else if((0,i.PO)(e))for(const n in e)be(e[n],t);return e}function _e(e,t){const n=F;if(null===n)return e;const r=qr(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,n,s,l=i.kT]=t[a];e&&((0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&be(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:s,modifiers:l}))}return e}function we(e,t,n,i){const o=e.dirs,a=t&&t.dirs;for(let s=0;s<o.length;s++){const c=o[s];a&&(c.oldValue=a[s].value);let u=c.dir[i];u&&((0,r.Jd)(),l(u,n,8,[e.el,c,e,t]),(0,r.lk)())}}function xe(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Je((()=>{e.isMounted=!0})),Qe((()=>{e.isUnmounting=!0})),e}const Se=[Function,Array],Ee={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Se,onEnter:Se,onAfterEnter:Se,onEnterCancelled:Se,onBeforeLeave:Se,onLeave:Se,onAfterLeave:Se,onLeaveCancelled:Se,onBeforeAppear:Se,onAppear:Se,onAfterAppear:Se,onAppearCancelled:Se},Te={name:"BaseTransition",props:Ee,setup(e,{slots:t}){const n=Rr(),i=xe();let o;return()=>{const a=t.default&&Le(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){let e=!1;for(const t of a)if(t.type!==Xn){0,s=t,e=!0;break}}const l=(0,r.IU)(e),{mode:c}=l;if(i.isLeaving)return Re(s);const u=ke(s);if(!u)return Re(s);const d=Ae(u,l,i,n);Oe(u,d);const h=n.subTree,f=h&&ke(h);let p=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(f&&f.type!==Xn&&(!sr(u,f)||p)){const e=Ae(f,l,i,n);if(Oe(f,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&n.update()},Re(s);"in-out"===c&&u.type!==Xn&&(e.delayLeave=(e,t,n)=>{const r=Ce(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=n})}return s}}},Me=Te;function Ce(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ae(e,t,n,r){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=t,w=String(e.key),x=Ce(n,e),S=(e,t)=>{e&&l(e,r,9,t)},E=(e,t)=>{const n=t[1];S(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},T={mode:a,persisted:s,beforeEnter(t){let r=c;if(!n.isMounted){if(!o)return;r=v||c}t._leaveCb&&t._leaveCb(!0);const i=x[w];i&&sr(e,i)&&i.el._leaveCb&&i.el._leaveCb(),S(r,[t])},enter(e){let t=u,r=d,i=h;if(!n.isMounted){if(!o)return;t=y||u,r=b||d,i=_||h}let a=!1;const s=e._enterCb=t=>{a||(a=!0,S(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e._enterCb=void 0)};t?E(t,[e,s]):s()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(f,[t]);let o=!1;const a=t._leaveCb=n=>{o||(o=!0,r(),S(n?g:m,[t]),t._leaveCb=void 0,x[i]===e&&delete x[i])};x[i]=e,p?E(p,[t,a]):a()},clone(e){return Ae(e,t,n,r)}};return T}function Re(e){if(Ue(e))return e=gr(e),e.children=null,e}function ke(e){return Ue(e)?e.children?e.children[0]:void 0:e}function Oe(e,t){6&e.shapeFlag&&e.component?Oe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Le(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===$n?(128&a.patchFlag&&i++,r=r.concat(Le(a.children,t,s))):(t||a.type!==Xn)&&r.push(null!=s?gr(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Ie(e,t){return(0,i.mf)(e)?(()=>(0,i.l7)({name:e.name},t,{setup:e}))():e}const Pe=e=>!!e.type.__asyncLoader;function De(e){(0,i.mf)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:a=200,timeout:s,suspensible:l=!0,onError:u}=e;let d,h=null,f=0;const p=()=>(f++,h=null,m()),m=()=>{let e;return h||(e=h=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise(((t,n)=>{const r=()=>t(p()),i=()=>n(e);u(e,r,i,f+1)}));throw e})).then((t=>e!==h&&h?h:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),d=t,t))))};return Ie({name:"AsyncComponentWrapper",__asyncLoader:m,get __asyncResolved(){return d},setup(){const e=Ar;if(d)return()=>Ne(d,e);const t=t=>{h=null,c(t,e,13,!o)};if(l&&e.suspense||Fr)return m().then((t=>()=>Ne(t,e))).catch((e=>(t(e),()=>o?fr(o,{error:e}):null)));const i=(0,r.iH)(!1),u=(0,r.iH)(),f=(0,r.iH)(!!a);return a&&setTimeout((()=>{f.value=!1}),a),null!=s&&setTimeout((()=>{if(!i.value&&!u.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),u.value=e}}),s),m().then((()=>{i.value=!0,e.parent&&Ue(e.parent.vnode)&&x(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>i.value&&d?Ne(d,e):u.value&&o?fr(o,{error:u.value}):n&&!f.value?fr(n):void 0}})}function Ne(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,a=fr(e,r,i);return a.ref=n,a.ce=o,delete t.vnode.ce,a}const Ue=e=>e.type.__isKeepAlive,Fe={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Rr(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,a=new Set;let s=null;const l=n.suspense,{renderer:{p:c,m:u,um:d,o:{createElement:h}}}=r,f=h("div");function p(e){Ge(e),d(e,n,l,!0)}function m(e){o.forEach(((t,n)=>{const r=Xr(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=o.get(e);s&&sr(t,s)?s&&Ge(s):p(t),o.delete(e),a.delete(e)}r.activate=(e,t,n,r,o)=>{const a=e.component;u(e,t,n,0,l),c(a.vnode,e,t,n,a,l,r,e.slotScopeIds,o),kn((()=>{a.isDeactivated=!1,a.a&&(0,i.ir)(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Er(t,a.parent,e)}),l)},r.deactivate=e=>{const t=e.component;u(e,f,null,1,l),kn((()=>{t.da&&(0,i.ir)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Er(n,t.parent,e),t.isDeactivated=!0}),l)},me((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>je(e,t))),t&&m((e=>!je(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&o.set(v,$e(n.subTree))};return Je(y),Ke(y),Qe((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,i=$e(t);if(e.type!==i.type||e.key!==i.key)p(e);else{Ge(i);const e=i.component.da;e&&kn(e,r)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!ar(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return s=null,r;let i=$e(r);const l=i.type,c=Xr(Pe(i)?i.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!je(u,c))||d&&c&&je(d,c))return s=i,r;const f=null==i.key?l:i.key,p=o.get(f);return i.el&&(i=gr(i),128&r.shapeFlag&&(r.ssContent=i)),v=f,p?(i.el=p.el,i.component=p.component,i.transition&&Oe(i,i.transition),i.shapeFlag|=512,a.delete(f),a.add(f)):(a.add(f),h&&a.size>parseInt(h,10)&&g(a.values().next().value)),i.shapeFlag|=256,s=i,K(r.type)?r:i}}},Be=Fe;function je(e,t){return(0,i.kJ)(e)?e.some((e=>je(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!(0,i.Kj)(e)&&e.test(t)}function Ve(e,t){He(e,"a",t)}function ze(e,t){He(e,"da",t)}function He(e,t,n=Ar){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(qe(t,r,n),n){let e=n.parent;while(e&&e.parent)Ue(e.parent.vnode)&&We(r,t,n,e),e=e.parent}}function We(e,t,n,r){const o=qe(t,e,r,!0);et((()=>{(0,i.Od)(r[t],o)}),n)}function Ge(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function $e(e){return 128&e.shapeFlag?e.ssContent:e}function qe(e,t,n=Ar,i=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),Ir(n);const o=l(t,n,e,i);return Pr(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const Xe=e=>(t,n=Ar)=>(!Fr||"sp"===e)&&qe(e,((...e)=>t(...e)),n),Ye=Xe("bm"),Je=Xe("m"),Ze=Xe("bu"),Ke=Xe("u"),Qe=Xe("bum"),et=Xe("um"),tt=Xe("sp"),nt=Xe("rtg"),rt=Xe("rtc");function it(e,t=Ar){qe("ec",e,t)}const ot="components",at="directives";function st(e,t){return dt(ot,e,!0,t)||e}const lt=Symbol.for("v-ndc");function ct(e){return(0,i.HD)(e)?dt(ot,e,!1)||e:e||lt}function ut(e){return dt(at,e)}function dt(e,t,n=!0,r=!1){const o=F||Ar;if(o){const n=o.type;if(e===ot){const e=Xr(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const a=ht(o[e]||n[e],t)||ht(o.appContext[e],t);return!a&&r?n:a}}function ht(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function ft(e,t,n,r){let o;const a=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,a&&a[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,a&&a[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,a&&a[r])}}else o=[];return n&&(n[r]=o),o}function pt(e,t){for(let n=0;n<t.length;n++){const r=t[n];if((0,i.kJ)(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e}function mt(e,t,n={},r,i){if(F.isCE||F.parent&&Pe(F.parent)&&F.parent.isCE)return"default"!==t&&(n.name=t),fr("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Kn();const a=o&&gt(o(n)),s=or($n,{key:n.key||a&&a.key||`_${t}`},a||(r?r():[]),a&&1===e._?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function gt(e){return e.some((e=>!ar(e)||e.type!==Xn&&!(e.type===$n&&!gt(e.children))))?e:null}function vt(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:(0,i.hR)(r)]=e[r];return n}const yt=e=>e?Dr(e)?qr(e)||e.proxy:yt(e.parent):null,bt=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>yt(e.parent),$root:e=>yt(e.root),$emit:e=>e.emit,$options:e=>Wt(e),$forceUpdate:e=>e.f||(e.f=()=>x(e.update)),$nextTick:e=>e.n||(e.n=_.bind(e.proxy)),$watch:e=>ve.bind(e)}),_t=(e,t)=>e!==i.kT&&!e.__isScriptSetup&&(0,i.RI)(e,t),wt={get({_:e},t){const{ctx:n,setupState:o,data:a,props:s,accessCache:l,type:c,appContext:u}=e;let d;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(_t(o,t))return l[t]=1,o[t];if(a!==i.kT&&(0,i.RI)(a,t))return l[t]=2,a[t];if((d=e.propsOptions[0])&&(0,i.RI)(d,t))return l[t]=3,s[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=4,n[t];Bt&&(l[t]=0)}}const h=bt[t];let f,p;return h?("$attrs"===t&&(0,r.j)(e,"get",t),h(e)):(f=c.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=4,n[t]):(p=u.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;return _t(o,t)?(o[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a}},s){let l;return!!n[s]||e!==i.kT&&(0,i.RI)(e,s)||_t(t,s)||(l=a[0])&&(0,i.RI)(l,s)||(0,i.RI)(r,s)||(0,i.RI)(bt,s)||(0,i.RI)(o.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const xt=(0,i.l7)({},wt,{get(e,t){if(t!==Symbol.unscopables)return wt.get(e,t,e)},has(e,t){const n="_"!==t[0]&&!(0,i.e1)(t);return n}});function St(){return null}function Et(){return null}function Tt(e){0}function Mt(e){0}function Ct(){return null}function At(){0}function Rt(e,t){return null}function kt(){return It().slots}function Ot(){return It().attrs}function Lt(e,t,n){const i=Rr();if(n&&n.local){const n=(0,r.iH)(e[t]);return me((()=>e[t]),(e=>n.value=e)),me(n,(n=>{n!==e[t]&&i.emit(`update:${t}`,n)})),n}return{__v_isRef:!0,get value(){return e[t]},set value(e){i.emit(`update:${t}`,e)}}}function It(){const e=Rr();return e.setupContext||(e.setupContext=$r(e))}function Pt(e){return(0,i.kJ)(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function Dt(e,t){const n=Pt(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?(0,i.kJ)(e)||(0,i.mf)(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}function Nt(e,t){return e&&t?(0,i.kJ)(e)&&(0,i.kJ)(t)?e.concat(t):(0,i.l7)({},Pt(e),Pt(t)):e||t}function Ut(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function Ft(e){const t=Rr();let n=e();return Pr(),(0,i.tI)(n)&&(n=n.catch((e=>{throw Ir(t),e}))),[n,()=>Ir(t)]}let Bt=!0;function jt(e){const t=Wt(e),n=e.proxy,o=e.ctx;Bt=!1,t.beforeCreate&&zt(t.beforeCreate,e,"bc");const{data:a,computed:s,methods:l,watch:c,provide:u,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:_,destroyed:w,unmounted:x,render:S,renderTracked:E,renderTriggered:T,errorCaptured:M,serverPrefetch:C,expose:A,inheritAttrs:R,components:k,directives:O,filters:L}=t,I=null;if(d&&Vt(d,o,I),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(a){0;const t=a.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(Bt=!0,s)for(const r in s){const e=s[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const a=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=Jr({get:t,set:a});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const r in c)Ht(c[r],o,n,r);if(u){const e=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{on(t,e[t])}))}function P(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&zt(h,e,"c"),P(Ye,f),P(Je,p),P(Ze,m),P(Ke,g),P(Ve,v),P(ze,y),P(it,M),P(rt,E),P(nt,T),P(Qe,_),P(et,x),P(tt,C),(0,i.kJ)(A))if(A.length){const t=e.exposed||(e.exposed={});A.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===i.dG&&(e.render=S),null!=R&&(e.inheritAttrs=R),k&&(e.components=k),O&&(e.directives=O)}function Vt(e,t,n=i.dG){(0,i.kJ)(e)&&(e=Yt(e));for(const o in e){const n=e[o];let a;a=(0,i.Kn)(n)?"default"in n?an(n.from||o,n.default,!0):an(n.from||o):an(n),(0,r.dq)(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function zt(e,t,n){l((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Ht(e,t,n,r){const o=r.includes(".")?ye(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&me(o,n)}else if((0,i.mf)(e))me(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>Ht(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&me(o,r,e)}else 0}function Wt(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,l=a.get(t);let c;return l?c=l:o.length||n||r?(c={},o.length&&o.forEach((e=>Gt(c,e,s,!0))),Gt(c,t,s)):c=t,(0,i.Kn)(t)&&a.set(t,c),c}function Gt(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Gt(e,o,n,!0),i&&i.forEach((t=>Gt(e,t,n,!0)));for(const a in t)if(r&&"expose"===a);else{const r=$t[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const $t={data:qt,props:Kt,emits:Kt,methods:Zt,computed:Zt,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Zt,directives:Zt,watch:Qt,provide:qt,inject:Xt};function qt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function Xt(e,t){return Zt(Yt(e),Yt(t))}function Yt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function Zt(e,t){return e?(0,i.l7)(Object.create(null),e,t):t}function Kt(e,t){return e?(0,i.kJ)(e)&&(0,i.kJ)(t)?[...new Set([...e,...t])]:(0,i.l7)(Object.create(null),Pt(e),Pt(null!=t?t:{})):t}function Qt(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=Jt(e[r],t[r]);return n}function en(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tn=0;function nn(e,t){return function(n,r=null){(0,i.mf)(n)||(n=(0,i.l7)({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=en();const a=new Set;let s=!1;const l=o.app={_uid:tn++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:ri,get config(){return o.config},set config(e){0},use(e,...t){return a.has(e)||(e&&(0,i.mf)(e.install)?(a.add(e),e.install(l,...t)):(0,i.mf)(e)&&(a.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,a,c){if(!s){0;const u=fr(n,r);return u.appContext=o,a&&t?t(u,i):e(u,i,c),s=!0,l._container=i,i.__vue_app__=l,qr(u.component)||u.component.proxy}},unmount(){s&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l},runWithContext(e){rn=l;try{return e()}finally{rn=null}}};return l}}let rn=null;function on(e,t){if(Ar){let n=Ar.provides;const r=Ar.parent&&Ar.parent.provides;r===n&&(n=Ar.provides=Object.create(r)),n[e]=t}else 0}function an(e,t,n=!1){const r=Ar||F;if(r||rn){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:rn._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r&&r.proxy):t}else 0}function sn(){return!!(Ar||F||rn)}function ln(e,t,n,o=!1){const a={},s={};(0,i.Nj)(s,cr,1),e.propsDefaults=Object.create(null),un(e,t,a,s);for(const r in e.propsOptions[0])r in a||(a[r]=void 0);n?e.props=o?a:(0,r.Um)(a):e.type.props?e.props=a:e.props=s,e.attrs=s}function cn(e,t,n,o){const{props:a,attrs:s,vnode:{patchFlag:l}}=e,c=(0,r.IU)(a),[u]=e.propsOptions;let d=!1;if(!(o||l>0)||16&l){let r;un(e,t,a,s)&&(d=!0);for(const o in c)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(u?!n||void 0===n[o]&&void 0===n[r]||(a[o]=dn(u,c,o,void 0,e,!0)):delete a[o]);if(s!==c)for(const e in s)t&&(0,i.RI)(t,e)||(delete s[e],d=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(U(e.emitsOptions,o))continue;const l=t[o];if(u)if((0,i.RI)(s,o))l!==s[o]&&(s[o]=l,d=!0);else{const t=(0,i._A)(o);a[t]=dn(u,c,t,l,e,!1)}else l!==s[o]&&(s[o]=l,d=!0)}}d&&(0,r.X$)(e,"set","$attrs")}function un(e,t,n,o){const[a,s]=e.propsOptions;let l,c=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const u=t[r];let d;a&&(0,i.RI)(a,d=(0,i._A)(r))?s&&s.includes(d)?(l||(l={}))[d]=u:n[d]=u:U(e.emitsOptions,r)||r in o&&u===o[r]||(o[r]=u,c=!0)}if(s){const t=(0,r.IU)(n),o=l||i.kT;for(let r=0;r<s.length;r++){const l=s[r];n[l]=dn(a,t,l,o[l],e,!(0,i.RI)(o,l))}}return c}function dn(e,t,n,r,o,a){const s=e[n];if(null!=s){const e=(0,i.RI)(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&(0,i.mf)(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Ir(o),r=i[n]=e.call(null,t),Pr())}else r=e}s[0]&&(a&&!e?r=!1:!s[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function hn(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const a=e.props,s={},l=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=hn(e,t,!0);(0,i.l7)(s,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!a&&!c)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(a))for(let d=0;d<a.length;d++){0;const e=(0,i._A)(a[d]);fn(e)&&(s[e]=i.kT)}else if(a){0;for(const e in a){const t=(0,i._A)(e);if(fn(t)){const n=a[e],r=s[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:(0,i.l7)({},n);if(r){const e=gn(Boolean,r.type),n=gn(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const u=[s,l];return(0,i.Kn)(e)&&r.set(e,u),u}function fn(e){return"$"!==e[0]}function pn(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function mn(e,t){return pn(e)===pn(t)}function gn(e,t){return(0,i.kJ)(t)?t.findIndex((t=>mn(t,e))):(0,i.mf)(t)&&mn(t,e)?0:-1}const vn=e=>"_"===e[0]||"$stable"===e,yn=e=>(0,i.kJ)(e)?e.map(_r):[_r(e)],bn=(e,t,n)=>{if(t._n)return t;const r=W(((...e)=>yn(t(...e))),n);return r._c=!1,r},_n=(e,t,n)=>{const r=e._ctx;for(const o in e){if(vn(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=bn(o,n,r);else if(null!=n){0;const e=yn(n);t[o]=()=>e}}},wn=(e,t)=>{const n=yn(t);e.slots.default=()=>n},xn=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):_n(t,e.slots={})}else e.slots={},t&&wn(e,t);(0,i.Nj)(e.slots,cr,1)},Sn=(e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,s=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(a=!t.$stable,_n(t,o)),s=t}else t&&(wn(e,t),s={default:1});if(a)for(const i in o)vn(i)||i in s||delete o[i]};function En(e,t,n,o,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>En(e,t&&((0,i.kJ)(t)?t[r]:t),n,o,a)));if(Pe(o)&&!a)return;const l=4&o.shapeFlag?qr(o.component)||o.component.proxy:o.el,c=a?null:l,{i:u,r:d}=e;const h=t&&t.r,f=u.refs===i.kT?u.refs={}:u.refs,p=u.setupState;if(null!=h&&h!==d&&((0,i.HD)(h)?(f[h]=null,(0,i.RI)(p,h)&&(p[h]=null)):(0,r.dq)(h)&&(h.value=null)),(0,i.mf)(d))s(d,u,12,[c,f]);else{const t=(0,i.HD)(d),o=(0,r.dq)(d);if(t||o){const r=()=>{if(e.f){const n=t?(0,i.RI)(p,d)?p[d]:f[d]:d.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):t?(f[d]=[l],(0,i.RI)(p,d)&&(p[d]=f[d])):(d.value=[l],e.k&&(f[e.k]=d.value))}else t?(f[d]=c,(0,i.RI)(p,d)&&(p[d]=c)):o&&(d.value=c,e.k&&(f[e.k]=c))};c?(r.id=-1,kn(r,n)):r()}else 0}}let Tn=!1;const Mn=e=>/svg/.test(e.namespaceURI)&&"foreignObject"!==e.tagName,Cn=e=>8===e.nodeType;function An(e){const{mt:t,p:n,o:{patchProp:r,createText:o,nextSibling:a,parentNode:s,remove:l,insert:c,createComment:u}}=e,d=(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),C(),void(t._vnode=e);Tn=!1,h(t.firstChild,e,null,null,null),C(),t._vnode=e,Tn&&console.error("Hydration completed but contains mismatches.")},h=(n,r,i,l,u,d=!1)=>{const y=Cn(n)&&"["===n.data,b=()=>g(n,r,i,l,u,y),{type:_,ref:w,shapeFlag:x,patchFlag:S}=r;let E=n.nodeType;r.el=n,-2===S&&(d=!1,r.dynamicChildren=null);let T=null;switch(_){case qn:3!==E?""===r.children?(c(r.el=o(""),s(n),n),T=n):T=b():(n.data!==r.children&&(Tn=!0,n.data=r.children),T=a(n));break;case Xn:T=8!==E||y?b():a(n);break;case Yn:if(y&&(n=a(n),E=n.nodeType),1===E||3===E){T=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===T.nodeType?T.outerHTML:T.data),t===r.staticCount-1&&(r.anchor=T),T=a(T);return y?a(T):T}b();break;case $n:T=y?m(n,r,i,l,u,d):b();break;default:if(1&x)T=1!==E||r.type.toLowerCase()!==n.tagName.toLowerCase()?b():f(n,r,i,l,u,d);else if(6&x){r.slotScopeIds=u;const e=s(n);if(t(r,e,null,i,l,Mn(e),d),T=y?v(n):a(n),T&&Cn(T)&&"teleport end"===T.data&&(T=a(T)),Pe(r)){let t;y?(t=fr($n),t.anchor=T?T.previousSibling:e.lastChild):t=3===n.nodeType?vr(""):fr("div"),t.el=n,r.component.subTree=t}}else 64&x?T=8!==E?b():r.type.hydrate(n,r,i,l,u,d,e,p):128&x&&(T=r.type.hydrate(n,r,i,l,Mn(s(n)),u,d,e,h))}return null!=w&&En(w,null,l,r),T},f=(e,t,n,o,a,s)=>{s=s||!!t.dynamicChildren;const{type:c,props:u,patchFlag:d,shapeFlag:h,dirs:f}=t,m="input"===c&&f||"option"===c;if(m||-1!==d){if(f&&we(t,null,n,"created"),u)if(m||!s||48&d)for(const t in u)(m&&t.endsWith("value")||(0,i.F7)(t)&&!(0,i.Gg)(t))&&r(e,t,null,u[t],!1,void 0,n);else u.onClick&&r(e,"onClick",null,u.onClick,!1,void 0,n);let c;if((c=u&&u.onVnodeBeforeMount)&&Er(c,n,t),f&&we(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||f)&&le((()=>{c&&Er(c,n,t),f&&we(t,null,n,"mounted")}),o),16&h&&(!u||!u.innerHTML&&!u.textContent)){let r=p(e.firstChild,t,e,n,o,a,s);while(r){Tn=!0;const e=r;r=r.nextSibling,l(e)}}else 8&h&&e.textContent!==t.children&&(Tn=!0,e.textContent=t.children)}return e.nextSibling},p=(e,t,r,i,o,a,s)=>{s=s||!!t.dynamicChildren;const l=t.children,c=l.length;for(let u=0;u<c;u++){const t=s?l[u]:l[u]=_r(l[u]);if(e)e=h(e,t,i,o,a,s);else{if(t.type===qn&&!t.children)continue;Tn=!0,n(null,t,r,null,i,o,Mn(r),a)}}return e},m=(e,t,n,r,i,o)=>{const{slotScopeIds:l}=t;l&&(i=i?i.concat(l):l);const d=s(e),h=p(a(e),t,d,n,r,i,o);return h&&Cn(h)&&"]"===h.data?a(t.anchor=h):(Tn=!0,c(t.anchor=u("]"),d,h),h)},g=(e,t,r,i,o,c)=>{if(Tn=!0,t.el=null,c){const t=v(e);while(1){const n=a(e);if(!n||n===t)break;l(n)}}const u=a(e),d=s(e);return l(e),n(null,t,d,u,r,i,Mn(d),o),u},v=e=>{let t=0;while(e)if(e=a(e),e&&Cn(e)&&("["===e.data&&t++,"]"===e.data)){if(0===t)return a(e);t--}return e};return[d,h]}function Rn(){}const kn=le;function On(e){return In(e)}function Ln(e){return In(e,An)}function In(e,t){Rn();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:a,patchProp:s,createElement:l,createText:c,createComment:u,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i.dG,insertStaticContent:g}=e,v=(e,t,n,r=null,i=null,o=null,a=!1,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!sr(e,t)&&(r=K(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case qn:y(e,t,n,r);break;case Xn:b(e,t,n,r);break;case Yn:null==e&&_(t,n,r,a);break;case $n:P(e,t,n,r,i,o,a,s,l);break;default:1&d?T(e,t,n,r,i,o,a,s,l):6&d?D(e,t,n,r,i,o,a,s,l):(64&d||128&d)&&c.process(e,t,n,r,i,o,a,s,l,ee)}null!=u&&i&&En(u,e&&e.ref,o,t||e,!t)},y=(e,t,n,r)=>{if(null==e)o(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&d(n,t.children)}},b=(e,t,n,r)=>{null==e?o(t.el=u(t.children||""),n,r):t.el=e.el},_=(e,t,n,r)=>{[e.el,e.anchor]=g(e.children,t,n,r,e.el,e.anchor)},w=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),o(e,n,r),e=i;o(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),a(e),e=n;a(t)},T=(e,t,n,r,i,o,a,s,l)=>{a=a||"svg"===t.type,null==e?A(t,n,r,i,o,a,s,l):O(e,t,i,o,a,s,l)},A=(e,t,n,r,a,c,u,d)=>{let f,p;const{type:m,props:g,shapeFlag:v,transition:y,dirs:b}=e;if(f=e.el=l(e.type,c,g&&g.is,g),8&v?h(f,e.children):16&v&&k(e.children,f,null,r,a,c&&"foreignObject"!==m,u,d),b&&we(e,null,r,"created"),R(f,e,e.scopeId,u,r),g){for(const t in g)"value"===t||(0,i.Gg)(t)||s(f,t,null,g[t],c,e.children,r,a,J);"value"in g&&s(f,"value",null,g.value),(p=g.onVnodeBeforeMount)&&Er(p,r,e)}b&&we(e,null,r,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&y&&!y.persisted;_&&y.beforeEnter(f),o(f,t,n),((p=g&&g.onVnodeMounted)||_||b)&&kn((()=>{p&&Er(p,r,e),_&&y.enter(f),b&&we(e,null,r,"mounted")}),a)},R=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let o=0;o<r.length;o++)m(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;R(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},k=(e,t,n,r,i,o,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?wr(e[c]):_r(e[c]);v(null,l,t,n,r,i,o,a,s)}},O=(e,t,n,r,o,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||i.kT,m=t.props||i.kT;let g;n&&Pn(n,!1),(g=m.onVnodeBeforeUpdate)&&Er(g,n,t,e),f&&we(t,e,n,"beforeUpdate"),n&&Pn(n,!0);const v=o&&"foreignObject"!==t.type;if(d?L(e.dynamicChildren,d,c,n,r,v,a):l||j(e,t,c,null,n,r,v,a,!1),u>0){if(16&u)I(c,t,p,m,n,r,o);else if(2&u&&p.class!==m.class&&s(c,"class",null,m.class,o),4&u&&s(c,"style",p.style,m.style,o),8&u){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const a=i[t],l=p[a],u=m[a];u===l&&"value"!==a||s(c,a,l,u,o,e.children,n,r,J)}}1&u&&e.children!==t.children&&h(c,t.children)}else l||null!=d||I(c,t,p,m,n,r,o);((g=m.onVnodeUpdated)||f)&&kn((()=>{g&&Er(g,n,t,e),f&&we(t,e,n,"updated")}),r)},L=(e,t,n,r,i,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===$n||!sr(l,c)||70&l.shapeFlag)?f(l.el):n;v(l,c,u,null,r,i,o,a,!0)}},I=(e,t,n,r,o,a,l)=>{if(n!==r){if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||s(e,c,n[c],null,l,t.children,o,a,J);for(const c in r){if((0,i.Gg)(c))continue;const u=r[c],d=n[c];u!==d&&"value"!==c&&s(e,c,d,u,l,t.children,o,a,J)}"value"in r&&s(e,"value",n.value,r.value)}},P=(e,t,n,r,i,a,s,l,u)=>{const d=t.el=e?e.el:c(""),h=t.anchor=e?e.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(d,n,r),o(h,n,r),k(t.children,n,h,i,a,s,l,u)):f>0&&64&f&&p&&e.dynamicChildren?(L(e.dynamicChildren,p,n,i,a,s,l),(null!=t.key||i&&t===i.subTree)&&Dn(e,t,!0)):j(e,t,n,h,i,a,s,l,u)},D=(e,t,n,r,i,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,l):N(t,n,r,i,o,a,l):U(e,t,l)},N=(e,t,n,r,i,o,a)=>{const s=e.component=Cr(e,r,i);if(Ue(e)&&(s.ctx.renderer=ee),Br(s),s.asyncDep){if(i&&i.registerDep(s,F),!e.el){const e=s.subTree=fr(Xn);b(null,e,t,n)}}else F(s,e,t,n,i,o,a)},U=(e,t,n)=>{const r=t.component=e.component;if(Y(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void B(r,t,n);r.next=t,E(r.update),r.update()}else t.el=e.el,r.vnode=t},F=(e,t,n,o,a,s,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:c,vnode:u}=e,d=n;0,Pn(e,!1),n?(n.el=u.el,B(e,n,l)):n=u,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Er(t,c,n,u),Pn(e,!0);const h=G(e);0;const p=e.subTree;e.subTree=h,v(p,h,f(p.el),K(p),e,a,s),n.el=h.el,null===d&&Z(e,h.el),o&&kn(o,a),(t=n.props&&n.props.onVnodeUpdated)&&kn((()=>Er(t,c,n,u)),a)}else{let r;const{el:l,props:c}=t,{bm:u,m:d,parent:h}=e,f=Pe(t);if(Pn(e,!1),u&&(0,i.ir)(u),!f&&(r=c&&c.onVnodeBeforeMount)&&Er(r,h,t),Pn(e,!0),l&&ne){const n=()=>{e.subTree=G(e),ne(l,e.subTree,e,a,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=G(e);0,v(null,r,n,o,e,a,s),t.el=r.el}if(d&&kn(d,a),!f&&(r=c&&c.onVnodeMounted)){const e=t;kn((()=>Er(r,h,e)),a)}(256&t.shapeFlag||h&&Pe(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&kn(e.a,a),e.isMounted=!0,t=n=o=null}},u=e.effect=new r.qq(c,(()=>x(d)),e.scope),d=e.update=()=>u.run();d.id=e.uid,Pn(e,!0),d()},B=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,cn(e,t.props,i,n),Sn(e,t.children,n),(0,r.Jd)(),M(),(0,r.lk)()},j=(e,t,n,r,i,o,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void z(c,d,n,r,i,o,a,s,l);if(256&f)return void V(c,d,n,r,i,o,a,s,l)}8&p?(16&u&&J(c,i,o),d!==c&&h(n,d)):16&u?16&p?z(c,d,n,r,i,o,a,s,l):J(c,i,o,!0):(8&u&&h(n,""),16&p&&k(d,n,r,i,o,a,s,l))},V=(e,t,n,r,o,a,s,l,c)=>{e=e||i.Z6,t=t||i.Z6;const u=e.length,d=t.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const r=t[f]=c?wr(t[f]):_r(t[f]);v(e[f],r,n,null,o,a,s,l,c)}u>d?J(e,o,a,!0,!1,h):k(t,n,r,o,a,s,l,c,h)},z=(e,t,n,r,o,a,s,l,c)=>{let u=0;const d=t.length;let h=e.length-1,f=d-1;while(u<=h&&u<=f){const r=e[u],i=t[u]=c?wr(t[u]):_r(t[u]);if(!sr(r,i))break;v(r,i,n,null,o,a,s,l,c),u++}while(u<=h&&u<=f){const r=e[h],i=t[f]=c?wr(t[f]):_r(t[f]);if(!sr(r,i))break;v(r,i,n,null,o,a,s,l,c),h--,f--}if(u>h){if(u<=f){const e=f+1,i=e<d?t[e].el:r;while(u<=f)v(null,t[u]=c?wr(t[u]):_r(t[u]),n,i,o,a,s,l,c),u++}}else if(u>f)while(u<=h)W(e[u],o,a,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=f;u++){const e=t[u]=c?wr(t[u]):_r(t[u]);null!=e.key&&g.set(e.key,u)}let y,b=0;const _=f-m+1;let w=!1,x=0;const S=new Array(_);for(u=0;u<_;u++)S[u]=0;for(u=p;u<=h;u++){const r=e[u];if(b>=_){W(r,o,a,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(y=m;y<=f;y++)if(0===S[y-m]&&sr(r,t[y])){i=y;break}void 0===i?W(r,o,a,!0):(S[i-m]=u+1,i>=x?x=i:w=!0,v(r,t[i],n,null,o,a,s,l,c),b++)}const E=w?Nn(S):i.Z6;for(y=E.length-1,u=_-1;u>=0;u--){const e=m+u,i=t[e],h=e+1<d?t[e+1].el:r;0===S[u]?v(null,i,n,h,o,a,s,l,c):w&&(y<0||u!==E[y]?H(i,n,h,2):y--)}}},H=(e,t,n,r,i=null)=>{const{el:a,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void H(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void s.move(e,t,n,ee);if(s===$n){o(a,t,n);for(let e=0;e<c.length;e++)H(c[e],t,n,r);return void o(e.anchor,t,n)}if(s===Yn)return void w(e,t,n);const d=2!==r&&1&u&&l;if(d)if(0===r)l.beforeEnter(a),o(a,t,n),kn((()=>l.enter(a)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,s=()=>o(a,t,n),c=()=>{e(a,(()=>{s(),i&&i()}))};r?r(a,s,c):c()}else o(a,t,n)},W=(e,t,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h}=e;if(null!=s&&En(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,p=!Pe(e);let m;if(p&&(m=a&&a.onVnodeBeforeUnmount)&&Er(m,t,e),6&u)X(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&we(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,ee,r):c&&(o!==$n||d>0&&64&d)?J(c,t,n,!1,!0):(o===$n&&384&d||!i&&16&u)&&J(l,t,n),r&&$(e)}(p&&(m=a&&a.onVnodeUnmounted)||f)&&kn((()=>{m&&Er(m,t,e),f&&we(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===$n)return void q(n,r);if(t===Yn)return void S(e);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,o);r?r(e.el,o,a):a()}else o()},q=(e,t)=>{let n;while(e!==t)n=p(e),a(e),e=n;a(t)},X=(e,t,n)=>{const{bum:r,scope:o,update:a,subTree:s,um:l}=e;r&&(0,i.ir)(r),o.stop(),a&&(a.active=!1,W(s,e,t,n)),l&&kn(l,t),kn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,r=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)W(e[a],t,n,r,i)},K=e=>6&e.shapeFlag?K(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),Q=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),M(),C(),t._vnode=e},ee={p:v,um:W,m:H,r:$,mt:N,mc:k,pc:j,pbc:L,n:K,o:e};let te,ne;return t&&([te,ne]=t(ee)),{render:Q,hydrate:te,createApp:nn(Q,te)}}function Pn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Dn(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=wr(o[i]),t.el=e.el),n||Dn(e,t)),t.type===qn&&(t.el=e.el)}}function Nn(e){const t=e.slice(),n=[0];let r,i,o,a,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}o=0,a=n.length-1;while(o<a)s=o+a>>1,e[n[s]]<l?o=s+1:a=s;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];while(o-- >0)n[o]=a,a=t[a];return n}const Un=e=>e.__isTeleport,Fn=e=>e&&(e.disabled||""===e.disabled),Bn=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,jn=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},Vn={__isTeleport:!0,process(e,t,n,r,i,o,a,s,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:g}}=c,v=Fn(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");f(e,n,r),f(c,n,r);const d=t.target=jn(t.props,p),h=t.targetAnchor=m("");d&&(f(h,d),a=a||Bn(d));const g=(e,t)=>{16&y&&u(b,e,t,i,o,a,s,l)};v?g(n,c):d&&g(d,h)}else{t.el=e.el;const r=t.anchor=e.anchor,u=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=Fn(e.props),g=m?n:u,y=m?r:f;if(a=a||Bn(u),_?(h(e.dynamicChildren,_,g,i,o,a,s),Dn(e,t,!0)):l||d(e,t,g,y,i,o,a,s,!1),v)m||zn(t,n,r,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=jn(t.props,p);e&&zn(t,e,null,c,0)}else m&&zn(t,u,f,c,1)}Gn(t)},remove(e,t,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:d,props:h}=e;if(d&&o(u),(a||!Fn(h))&&(o(c),16&s))for(let f=0;f<l.length;f++){const e=l[f];i(e,t,n,!0,!!e.dynamicChildren)}},move:zn,hydrate:Hn};function zn(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,d=2===o;if(d&&r(a,t,n),(!d||Fn(u))&&16&l)for(let h=0;h<c.length;h++)i(c[h],t,n,2);d&&r(s,t,n)}function Hn(e,t,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l}},c){const u=t.target=jn(t.props,l);if(u){const l=u._lpa||u.firstChild;if(16&t.shapeFlag)if(Fn(t.props))t.anchor=c(a(e),t,s(e),n,r,i,o),t.targetAnchor=l;else{t.anchor=a(e);let s=l;while(s)if(s=a(s),s&&8===s.nodeType&&"teleport anchor"===s.data){t.targetAnchor=s,u._lpa=t.targetAnchor&&a(t.targetAnchor);break}c(l,t,u,n,r,i,o)}Gn(t)}return t.anchor&&a(t.anchor)}const Wn=Vn;function Gn(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;while(n!==e.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const $n=Symbol.for("v-fgt"),qn=Symbol.for("v-txt"),Xn=Symbol.for("v-cmt"),Yn=Symbol.for("v-stc"),Jn=[];let Zn=null;function Kn(e=!1){Jn.push(Zn=e?null:[])}function Qn(){Jn.pop(),Zn=Jn[Jn.length-1]||null}let er,tr=1;function nr(e){tr+=e}function rr(e){return e.dynamicChildren=tr>0?Zn||i.Z6:null,Qn(),tr>0&&Zn&&Zn.push(e),e}function ir(e,t,n,r,i,o){return rr(hr(e,t,n,r,i,o,!0))}function or(e,t,n,r,i){return rr(fr(e,t,n,r,i,!0))}function ar(e){return!!e&&!0===e.__v_isVNode}function sr(e,t){return e.type===t.type&&e.key===t.key}function lr(e){er=e}const cr="__vInternal",ur=({key:e})=>null!=e?e:null,dr=({ref:e,ref_key:t,ref_for:n})=>("number"===typeof e&&(e=""+e),null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:F,r:e,k:t,f:!!n}:e:null);function hr(e,t=null,n=null,r=0,o=null,a=(e===$n?0:1),s=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ur(t),ref:t&&dr(t),scopeId:B,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:F};return l?(xr(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),tr>0&&!s&&Zn&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&Zn.push(c),c}const fr=pr;function pr(e,t=null,n=null,o=0,a=null,s=!1){if(e&&e!==lt||(e=Xn),ar(e)){const r=gr(e,t,!0);return n&&xr(r,n),tr>0&&!s&&Zn&&(6&r.shapeFlag?Zn[Zn.indexOf(e)]=r:Zn.push(r)),r.patchFlag|=-2,r}if(Yr(e)&&(e=e.__vccOpts),t){t=mr(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:K(e)?128:Un(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return hr(e,t,n,o,a,l,s,!0)}function mr(e){return e?(0,r.X3)(e)||cr in e?(0,i.l7)({},e):e:null}function gr(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:s}=e,l=t?Sr(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ur(l),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(dr(t)):[o,dr(t)]:dr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==$n?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gr(e.ssContent),ssFallback:e.ssFallback&&gr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c}function vr(e=" ",t=0){return fr(qn,null,e,t)}function yr(e,t){const n=fr(Yn,null,e);return n.staticCount=t,n}function br(e="",t=!1){return t?(Kn(),or(Xn,null,e)):fr(Xn,null,e)}function _r(e){return null==e||"boolean"===typeof e?fr(Xn):(0,i.kJ)(e)?fr($n,null,e.slice()):"object"===typeof e?wr(e):fr(qn,null,String(e))}function wr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:gr(e)}function xr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),xr(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||cr in t?3===r&&F&&(1===F.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=F}}else(0,i.mf)(t)?(t={default:t,_ctx:F},n=32):(t=String(t),64&r?(n=16,t=[vr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Sr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],o=r[e];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Er(e,t,n,r=null){l(e,t,7,[n,r])}const Tr=en();let Mr=0;function Cr(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Tr,s={uid:Mr++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hn(o,a),emitsOptions:N(o,a),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=D.bind(null,s),e.ce&&e.ce(s),s}let Ar=null;const Rr=()=>Ar||F;let kr,Or,Lr="__VUE_INSTANCE_SETTERS__";(Or=(0,i.E9)()[Lr])||(Or=(0,i.E9)()[Lr]=[]),Or.push((e=>Ar=e)),kr=e=>{Or.length>1?Or.forEach((t=>t(e))):Or[0](e)};const Ir=e=>{kr(e),e.scope.on()},Pr=()=>{Ar&&Ar.scope.off(),kr(null)};function Dr(e){return 4&e.vnode.shapeFlag}let Nr,Ur,Fr=!1;function Br(e,t=!1){Fr=t;const{props:n,children:r}=e.vnode,i=Dr(e);ln(e,n,i,t),xn(e,r);const o=i?jr(e,t):void 0;return Fr=!1,o}function jr(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,wt));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?$r(e):null;Ir(e),(0,r.Jd)();const a=s(o,e,0,[e.props,n]);if((0,r.lk)(),Pr(),(0,i.tI)(a)){if(a.then(Pr,Pr),t)return a.then((n=>{Vr(e,n,t)})).catch((t=>{c(t,e,0)}));e.asyncDep=a}else Vr(e,a,t)}else Wr(e,t)}function Vr(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),Wr(e,n)}function zr(e){Nr=e,Ur=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,xt))}}const Hr=()=>!Nr;function Wr(e,t,n){const o=e.type;if(!e.render){if(!t&&Nr&&!o.render){const t=o.template||Wt(e).template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:s}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:a},r),s);o.render=Nr(t,l)}}e.render=o.render||i.dG,Ur&&Ur(e)}Ir(e),(0,r.Jd)(),jt(e),(0,r.lk)(),Pr()}function Gr(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}}))}function $r(e){const t=t=>{e.exposed=t||{}};return{get attrs(){return Gr(e)},slots:e.slots,emit:e.emit,expose:t}}function qr(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in bt?bt[n](e):void 0},has(e,t){return t in e||t in bt}}))}function Xr(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Yr(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Jr=(e,t)=>(0,r.Fl)(e,t,Fr);function Zr(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?ar(t)?fr(e,null,[t]):fr(e,t):fr(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&ar(n)&&(n=[n]),fr(e,t,n))}const Kr=Symbol.for("v-scx"),Qr=()=>{{const e=an(Kr);return e}};function ei(){return void 0}function ti(e,t,n,r){const i=n[r];if(i&&ni(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function ni(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if((0,i.aU)(n[r],t[r]))return!1;return tr>0&&Zn&&Zn.push(e),!0}const ri="3.3.4",ii={createComponentInstance:Cr,setupComponent:Br,renderComponentRoot:G,setCurrentRenderingInstance:j,isVNode:ar,normalizeVNode:_r},oi=ii,ai=null,si=null},9242:function(e,t,n){"use strict";n.d(t,{$d:function(){return i.$d},$y:function(){return i.$y},Ah:function(){return P},B:function(){return i.B},BK:function(){return i.BK},Bj:function(){return i.Bj},Bz:function(){return i.Bz},C3:function(){return i.C3},C_:function(){return i.C_},Cn:function(){return i.Cn},D2:function(){return Ie},EB:function(){return i.EB},EM:function(){return i.EM},Eo:function(){return i.Eo},F4:function(){return i.F4},F8:function(){return Pe},FN:function(){return i.FN},Fl:function(){return i.Fl},G:function(){return i.G},G2:function(){return _e},Gn:function(){return i.Gn},HX:function(){return i.HX},HY:function(){return i.HY},Ho:function(){return i.Ho},IU:function(){return i.IU},JJ:function(){return i.JJ},Jd:function(){return i.Jd},KU:function(){return i.KU},Ko:function(){return i.Ko},LL:function(){return i.LL},MW:function(){return I},MX:function(){return i.MX},Mr:function(){return i.Mr},Nd:function(){return Xe},Nv:function(){return i.Nv},OT:function(){return i.OT},Ob:function(){return i.Ob},P$:function(){return i.P$},PG:function(){return i.PG},Q2:function(){return i.Q2},Q6:function(){return i.Q6},RC:function(){return i.RC},Rh:function(){return i.Rh},Rr:function(){return i.Rr},S3:function(){return i.S3},SK:function(){return i.Ah},SU:function(){return i.SU},Tn:function(){return i.Tn},U2:function(){return i.U2},Uc:function(){return i.Uc},Uk:function(){return i.Uk},Um:function(){return i.Um},Us:function(){return i.Us},Vf:function(){return i.Vf},Vh:function(){return i.Vh},W3:function(){return ce},WI:function(){return i.WI},WL:function(){return i.WL},WY:function(){return i.WY},Wl:function(){return i.Wl},Wm:function(){return i.Wm},Wu:function(){return i.Wu},X3:function(){return i.X3},XI:function(){return i.XI},Xl:function(){return i.Xl},Xn:function(){return i.Xn},Y1:function(){return i.Y1},Y3:function(){return i.Y3},Y8:function(){return i.Y8},YP:function(){return i.YP},YS:function(){return i.YS},YZ:function(){return Te},Yq:function(){return i.Yq},Yu:function(){return i.Yu},ZB:function(){return He},ZK:function(){return i.ZK},ZM:function(){return i.ZM},Zq:function(){return i.Zq},_:function(){return i._},_A:function(){return i._A},a2:function(){return N},aZ:function(){return i.aZ},b9:function(){return i.b9},bM:function(){return we},bT:function(){return i.bT},bv:function(){return i.bv},cE:function(){return i.cE},d1:function(){return i.d1},dD:function(){return i.dD},dG:function(){return i.dG},dl:function(){return i.dl},dq:function(){return i.dq},e8:function(){return ye},ec:function(){return i.ec},eq:function(){return i.eq},f3:function(){return i.f3},fb:function(){return U},h:function(){return i.h},hR:function(){return i.hR},i8:function(){return i.i8},iD:function(){return i.iD},iH:function(){return i.iH},iM:function(){return Oe},ic:function(){return i.ic},j4:function(){return i.j4},j5:function(){return i.j5},kC:function(){return i.kC},kq:function(){return i.kq},l1:function(){return i.l1},lA:function(){return i.lA},lR:function(){return i.lR},m0:function(){return i.m0},mW:function(){return i.mW},mv:function(){return i.mv},mx:function(){return i.mx},n4:function(){return i.n4},nJ:function(){return i.nJ},nK:function(){return i.nK},nQ:function(){return i.nQ},nZ:function(){return i.nZ},nr:function(){return ve},oR:function(){return i.oR},of:function(){return i.of},p1:function(){return i.p1},qG:function(){return i.qG},qZ:function(){return i.qZ},qb:function(){return i.qb},qj:function(){return i.qj},qq:function(){return i.qq},ri:function(){return We},ry:function(){return i.ry},sT:function(){return i.sT},sY:function(){return ze},se:function(){return i.se},sj:function(){return F},sv:function(){return i.sv},tT:function(){return i.tT},uE:function(){return i.uE},uT:function(){return H},u_:function(){return i.u_},up:function(){return i.up},vl:function(){return i.vl},vr:function(){return Ge},vs:function(){return i.vs},w5:function(){return i.w5},wF:function(){return i.wF},wg:function(){return i.wg},wy:function(){return i.wy},xv:function(){return i.xv},yT:function(){return i.yT},yX:function(){return i.yX},yb:function(){return i.MW},zw:function(){return i.zw}});n(7658);var r=n(7139),i=n(3396),o=n(4870);const a="http://www.w3.org/2000/svg",s="undefined"!==typeof document?document:null,l=s&&s.createElement("template"),c={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?s.createElementNS(a,e):s.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>s.createTextNode(e),createComment:e=>s.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>s.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{l.innerHTML=r?`<svg>${e}</svg>`:e;const i=l.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function u(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function d(e,t,n){const i=e.style,o=(0,r.HD)(n);if(n&&!o){if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&f(i,e,"");for(const e in n)f(i,e,n[e])}else{const r=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const h=/\s*!important$/;function f(e,t,n){if((0,r.kJ)(n))n.forEach((n=>f(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);h.test(n)?e.setProperty((0,r.rs)(i),n.replace(h,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],m={};function g(e,t){const n=m[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return m[t]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return m[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function b(e,t,n,i,o,a,s){if("innerHTML"===t||"textContent"===t)return i&&s(i,o,a),void(e[t]=null==n?"":n);const l=e.tagName;if("value"===t&&"PROGRESS"!==l&&!l.includes("-")){e._value=n;const r="OPTION"===l?e.getAttribute("value"):e.value,i=null==n?"":n;return r!==i&&(e.value=i),void(null==n&&e.removeAttribute(t))}let c=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",c=!0):"number"===i&&(n=0,c=!0)}try{e[t]=n}catch(u){0}c&&e.removeAttribute(t)}function _(e,t,n,r){e.addEventListener(t,n,r)}function w(e,t,n,r){e.removeEventListener(t,n,r)}function x(e,t,n,r,i=null){const o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{const[n,s]=E(t);if(r){const a=o[t]=A(r,i);_(e,n,a,s)}else a&&(w(e,n,a,s),o[t]=void 0)}}const S=/(?:Once|Passive|Capture)$/;function E(e){let t;if(S.test(e)){let n;t={};while(n=e.match(S))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2));return[n,t]}let T=0;const M=Promise.resolve(),C=()=>T||(M.then((()=>T=0)),T=Date.now());function A(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();(0,i.$d)(R(e,n.value),t,5,[e])};return n.value=e,n.attached=C(),n}function R(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const k=/^on[a-z]/,O=(e,t,n,i,o=!1,a,s,l,c)=>{"class"===t?u(e,i,o):"style"===t?d(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||x(e,t,n,i,s):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,i,o))?b(e,t,i,a,s,l,c):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function L(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&k.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!k.test(t)||!(0,r.HD)(n))&&t in e))))}function I(e,t){const n=(0,i.aZ)(e);class r extends N{constructor(e){super(n,e,t)}}return r.def=n,r}const P=e=>I(e,He),D="undefined"!==typeof HTMLElement?HTMLElement:class{};class N extends D{constructor(e,t={},n){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,(0,i.Y3)((()=>{this._connected||(ze(null,this.shadowRoot),this._instance=null)}))}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);new MutationObserver((e=>{for(const t of e)this._setAttr(t.attributeName)})).observe(this,{attributes:!0});const e=(e,t=!1)=>{const{props:n,styles:i}=e;let o;if(n&&!(0,r.kJ)(n))for(const a in n){const e=n[a];(e===Number||e&&e.type===Number)&&(a in this._props&&(this._props[a]=(0,r.He)(this._props[a])),(o||(o=Object.create(null)))[(0,r._A)(a)]=!0)}this._numberProps=o,t&&this._resolveProps(e),this._applyStyles(i),this._update()},t=this._def.__asyncLoader;t?t().then((t=>e(t,!0))):e(this._def)}_resolveProps(e){const{props:t}=e,n=(0,r.kJ)(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r],!0,!1);for(const i of n.map(r._A))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(e){this._setProp(i,e)}})}_setAttr(e){let t=this.getAttribute(e);const n=(0,r._A)(e);this._numberProps&&this._numberProps[n]&&(t=(0,r.He)(t)),this._setProp(n,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,i=!0){t!==this._props[e]&&(this._props[e]=t,i&&this._instance&&this._update(),n&&(!0===t?this.setAttribute((0,r.rs)(e),""):"string"===typeof t||"number"===typeof t?this.setAttribute((0,r.rs)(e),t+""):t||this.removeAttribute((0,r.rs)(e))))}_update(){ze(this._createVNode(),this.shadowRoot)}_createVNode(){const e=(0,i.Wm)(this._def,(0,r.l7)({},this._props));return this._instance||(e.ce=e=>{this._instance=e,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,{detail:t}))};e.emit=(e,...n)=>{t(e,n),(0,r.rs)(e)!==e&&t((0,r.rs)(e),n)};let n=this;while(n=n&&(n.parentNode||n.host))if(n instanceof N){e.parent=n._instance,e.provides=n._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach((e=>{const t=document.createElement("style");t.textContent=e,this.shadowRoot.appendChild(t)}))}}function U(e="$style"){{const t=(0,i.FN)();if(!t)return r.kT;const n=t.type.__cssModules;if(!n)return r.kT;const o=n[e];return o||r.kT}}function F(e){const t=(0,i.FN)();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach((e=>j(e,n)))},r=()=>{const r=e(t.proxy);B(t.subTree,r),n(r)};(0,i.Rh)(r),(0,i.bv)((()=>{const e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),(0,i.Ah)((()=>e.disconnect()))}))}function B(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((()=>{B(n.activeBranch,t)}))}while(e.component)e=e.component.subTree;if(1&e.shapeFlag&&e.el)j(e.el,t);else if(e.type===i.HY)e.children.forEach((e=>B(e,t)));else if(e.type===i.qG){let{el:n,anchor:r}=e;while(n){if(j(n,t),n===r)break;n=n.nextSibling}}}function j(e,t){if(1===e.nodeType){const n=e.style;for(const e in t)n.setProperty(`--${e}`,t[e])}}const V="transition",z="animation",H=(e,{slots:t})=>(0,i.h)(i.P$,X(e),t);H.displayName="Transition";const W={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},G=H.props=(0,r.l7)({},i.nJ,W),$=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},q=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function X(e){const t={};for(const r in e)r in W||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=Y(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:_,onLeave:w,onLeaveCancelled:x,onBeforeAppear:S=y,onAppear:E=b,onAppearCancelled:T=_}=t,M=(e,t,n)=>{K(e,t?d:l),K(e,t?u:s),n&&n()},C=(e,t)=>{e._isLeaving=!1,K(e,h),K(e,p),K(e,f),t&&t()},A=e=>(t,n)=>{const r=e?E:b,o=()=>M(t,e,n);$(r,[t,o]),Q((()=>{K(t,e?c:a),Z(t,e?d:l),q(r)||te(t,i,g,o)}))};return(0,r.l7)(t,{onBeforeEnter(e){$(y,[e]),Z(e,a),Z(e,s)},onBeforeAppear(e){$(S,[e]),Z(e,c),Z(e,u)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>C(e,t);Z(e,h),oe(),Z(e,f),Q((()=>{e._isLeaving&&(K(e,h),Z(e,p),q(w)||te(e,i,v,n))})),$(w,[e,n])},onEnterCancelled(e){M(e,!1),$(_,[e])},onAppearCancelled(e){M(e,!0),$(T,[e])},onLeaveCancelled(e){C(e),$(x,[e])}})}function Y(e){if(null==e)return null;if((0,r.Kn)(e))return[J(e.enter),J(e.leave)];{const t=J(e);return[t,t]}}function J(e){const t=(0,r.He)(e);return t}function Z(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Q(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let ee=0;function te(e,t,n,r){const i=e._endId=++ee,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=ne(e,t);if(!a)return r();const c=a+"end";let u=0;const d=()=>{e.removeEventListener(c,h),o()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),s+1),e.addEventListener(c,h)}function ne(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${V}Delay`),o=r(`${V}Duration`),a=re(i,o),s=r(`${z}Delay`),l=r(`${z}Duration`),c=re(s,l);let u=null,d=0,h=0;t===V?a>0&&(u=V,d=a,h=o.length):t===z?c>0&&(u=z,d=c,h=l.length):(d=Math.max(a,c),u=d>0?a>c?V:z:null,h=u?u===V?o.length:l.length:0);const f=u===V&&/\b(transform|all)(,|$)/.test(r(`${V}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function re(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>ie(t)+ie(e[n]))))}function ie(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function oe(){return document.body.offsetHeight}const ae=new WeakMap,se=new WeakMap,le={name:"TransitionGroup",props:(0,r.l7)({},G,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let a,s;return(0,i.ic)((()=>{if(!a.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!fe(a[0].el,n.vnode.el,t))return;a.forEach(ue),a.forEach(de);const r=a.filter(he);oe(),r.forEach((e=>{const n=e.el,r=n.style;Z(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,K(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(e),c=X(l);let u=l.tag||i.HY;a=s,s=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<s.length;e++){const t=s[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,c,r,n))}if(a)for(let e=0;e<a.length;e++){const t=a[e];(0,i.nK)(t,(0,i.U2)(t,c,r,n)),ae.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(u,null,s)}}};le.props;const ce=le;function ue(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function de(e){se.set(e,e.el.getBoundingClientRect())}function he(e){const t=ae.get(e),n=se.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function fe(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=ne(r);return i.removeChild(r),o}const pe=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(t)?e=>(0,r.ir)(t,e):t};function me(e){e.target.composing=!0}function ge(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ve={created(e,{modifiers:{lazy:t,trim:n,number:i}},o){e._assign=pe(o);const a=i||o.props&&"number"===o.props.type;_(e,t?"change":"input",(t=>{if(t.target.composing)return;let i=e.value;n&&(i=i.trim()),a&&(i=(0,r.h5)(i)),e._assign(i)})),n&&_(e,"change",(()=>{e.value=e.value.trim()})),t||(_(e,"compositionstart",me),_(e,"compositionend",ge),_(e,"change",ge))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:o}},a){if(e._assign=pe(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(i&&e.value.trim()===t)return;if((o||"number"===e.type)&&(0,r.h5)(e.value)===t)return}const s=null==t?"":t;e.value!==s&&(e.value=s)}},ye={deep:!0,created(e,t,n){e._assign=pe(n),_(e,"change",(()=>{const t=e._modelValue,n=Se(e),i=e.checked,o=e._assign;if((0,r.kJ)(t)){const e=(0,r.hq)(t,n),a=-1!==e;if(i&&!a)o(t.concat(n));else if(!i&&a){const n=[...t];n.splice(e,1),o(n)}}else if((0,r.DM)(t)){const e=new Set(t);i?e.add(n):e.delete(n),o(e)}else o(Ee(e,i))}))},mounted:be,beforeUpdate(e,t,n){e._assign=pe(n),be(e,t,n)}};function be(e,{value:t,oldValue:n},i){e._modelValue=t,(0,r.kJ)(t)?e.checked=(0,r.hq)(t,i.props.value)>-1:(0,r.DM)(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=(0,r.WV)(t,Ee(e,!0)))}const _e={created(e,{value:t},n){e.checked=(0,r.WV)(t,n.props.value),e._assign=pe(n),_(e,"change",(()=>{e._assign(Se(e))}))},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=pe(i),t!==n&&(e.checked=(0,r.WV)(t,i.props.value))}},we={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=(0,r.DM)(t);_(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?(0,r.h5)(Se(e)):Se(e)));e._assign(e.multiple?o?new Set(t):t:t[0])})),e._assign=pe(i)},mounted(e,{value:t}){xe(e,t)},beforeUpdate(e,t,n){e._assign=pe(n)},updated(e,{value:t}){xe(e,t)}};function xe(e,t){const n=e.multiple;if(!n||(0,r.kJ)(t)||(0,r.DM)(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],a=Se(o);if(n)(0,r.kJ)(t)?o.selected=(0,r.hq)(t,a)>-1:o.selected=t.has(a);else if((0,r.WV)(Se(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Se(e){return"_value"in e?e._value:e.value}function Ee(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Te={created(e,t,n){Ce(e,t,n,null,"created")},mounted(e,t,n){Ce(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Ce(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Ce(e,t,n,r,"updated")}};function Me(e,t){switch(e){case"SELECT":return we;case"TEXTAREA":return ve;default:switch(t){case"checkbox":return ye;case"radio":return _e;default:return ve}}}function Ce(e,t,n,r,i){const o=Me(e.tagName,n.props&&n.props.type),a=o[i];a&&a(e,t,n,r)}function Ae(){ve.getSSRProps=({value:e})=>({value:e}),_e.getSSRProps=({value:e},t)=>{if(t.props&&(0,r.WV)(t.props.value,e))return{checked:!0}},ye.getSSRProps=({value:e},t)=>{if((0,r.kJ)(e)){if(t.props&&(0,r.hq)(e,t.props.value)>-1)return{checked:!0}}else if((0,r.DM)(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Te.getSSRProps=(e,t)=>{if("string"!==typeof t.type)return;const n=Me(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0}}const Re=["ctrl","shift","alt","meta"],ke={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Re.some((n=>e[`${n}Key`]&&!t.includes(n)))},Oe=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ke[t[e]];if(r&&r(n,t))return}return e(n,...r)},Le={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ie=(e,t)=>n=>{if(!("key"in n))return;const i=(0,r.rs)(n.key);return t.some((e=>e===i||Le[e]===i))?e(n):void 0},Pe={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):De(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!==!n&&(r?t?(r.beforeEnter(e),De(e,!0),r.enter(e)):r.leave(e,(()=>{De(e,!1)})):De(e,t))},beforeUnmount(e,{value:t}){De(e,t)}};function De(e,t){e.style.display=t?e._vod:"none"}function Ne(){Pe.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Ue=(0,r.l7)({patchProp:O},c);let Fe,Be=!1;function je(){return Fe||(Fe=(0,i.Us)(Ue))}function Ve(){return Fe=Be?Fe:(0,i.Eo)(Ue),Be=!0,Fe}const ze=(...e)=>{je().render(...e)},He=(...e)=>{Ve().hydrate(...e)},We=(...e)=>{const t=je().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=$e(e);if(!i)return;const o=t._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t},Ge=(...e)=>{const t=Ve().createApp(...e);const{mount:n}=t;return t.mount=e=>{const t=$e(e);if(t)return n(t,!0,t instanceof SVGElement)},t};function $e(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}let qe=!1;const Xe=()=>{qe||(qe=!0,Ae(),Ne())}},7139:function(e,t,n){"use strict";n.d(t,{C_:function(){return K},DM:function(){return v},E9:function(){return W},F7:function(){return c},Gg:function(){return k},HD:function(){return w},He:function(){return z},Kj:function(){return b},Kn:function(){return S},NO:function(){return s},Nj:function(){return j},Od:function(){return h},PO:function(){return A},Pq:function(){return te},RI:function(){return p},S0:function(){return R},W7:function(){return C},WV:function(){return ie},Z6:function(){return o},_A:function(){return I},_N:function(){return g},aU:function(){return F},dG:function(){return a},e1:function(){return $},fY:function(){return r},h5:function(){return V},hR:function(){return U},hq:function(){return oe},ir:function(){return B},j5:function(){return q},kC:function(){return N},kJ:function(){return m},kT:function(){return i},l7:function(){return d},mf:function(){return _},rs:function(){return D},tI:function(){return E},tR:function(){return u},vs:function(){return Q},yA:function(){return ne},yk:function(){return x},zw:function(){return ae}});n(7658);function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const i={},o=[],a=()=>{},s=()=>!1,l=/^on[^a-z]/,c=e=>l.test(e),u=e=>e.startsWith("onUpdate:"),d=Object.assign,h=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},f=Object.prototype.hasOwnProperty,p=(e,t)=>f.call(e,t),m=Array.isArray,g=e=>"[object Map]"===M(e),v=e=>"[object Set]"===M(e),y=e=>"[object Date]"===M(e),b=e=>"[object RegExp]"===M(e),_=e=>"function"===typeof e,w=e=>"string"===typeof e,x=e=>"symbol"===typeof e,S=e=>null!==e&&"object"===typeof e,E=e=>S(e)&&_(e.then)&&_(e.catch),T=Object.prototype.toString,M=e=>T.call(e),C=e=>M(e).slice(8,-1),A=e=>"[object Object]"===M(e),R=e=>w(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,k=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},L=/-(\w)/g,I=O((e=>e.replace(L,((e,t)=>t?t.toUpperCase():"")))),P=/\B([A-Z])/g,D=O((e=>e.replace(P,"-$1").toLowerCase())),N=O((e=>e.charAt(0).toUpperCase()+e.slice(1))),U=O((e=>e?`on${N(e)}`:"")),F=(e,t)=>!Object.is(e,t),B=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},j=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},V=e=>{const t=parseFloat(e);return isNaN(t)?e:t},z=e=>{const t=w(e)?Number(e):NaN;return isNaN(t)?e:t};let H;const W=()=>H||(H="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const G="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",$=r(G);function q(e){if(m(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=w(r)?Z(r):q(r);if(i)for(const e in i)t[e]=i[e]}return t}return w(e)||S(e)?e:void 0}const X=/;(?![^(]*\))/g,Y=/:([^]+)/,J=/\/\*[^]*?\*\//g;function Z(e){const t={};return e.replace(J,"").split(X).forEach((e=>{if(e){const n=e.split(Y);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function K(e){let t="";if(w(e))t=e;else if(m(e))for(let n=0;n<e.length;n++){const r=K(e[n]);r&&(t+=r+" ")}else if(S(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function Q(e){if(!e)return null;let{class:t,style:n}=e;return t&&!w(t)&&(e.class=K(t)),n&&(e.style=q(n)),e}const ee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",te=r(ee);function ne(e){return!!e||""===e}function re(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ie(e[r],t[r]);return n}function ie(e,t){if(e===t)return!0;let n=y(e),r=y(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=x(e),r=x(t),n||r)return e===t;if(n=m(e),r=m(t),n||r)return!(!n||!r)&&re(e,t);if(n=S(e),r=S(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!ie(e[n],t[n]))return!1}}return String(e)===String(t)}function oe(e,t){return e.findIndex((e=>ie(e,t)))}const ae=e=>w(e)?e:null==e?"":m(e)||S(e)&&(e.toString===T||!_(e.toString))?JSON.stringify(e,se,2):String(e),se=(e,t)=>t&&t.__v_isRef?se(e,t.value):g(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:v(t)?{[`Set(${t.size})`]:[...t.values()]}:!S(t)||m(t)||A(t)?t:String(t)},8845:function(e,t,n){"use strict";n(7658);var r=n(1373);function i(){var e={},t=0,n=0,r=0;function i(i,o){o||(o=i,i=0),i>n?n=i:i<r&&(r=i),e[i]||(e[i]=[]),e[i].push(o),t++}function o(){for(var t=r;t<=n;t++)for(var i=e[t],o=0;o<i.length;o++){var a=i[o];a()}}function a(){return t}return{add:i,process:o,size:a}}e.exports=function(e){e=e||{};var t=e.reporter,n=r.getOption(e,"async",!0),o=r.getOption(e,"auto",!0);o&&!n&&(t&&t.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var a,s=i(),l=!1;function c(e,t){!l&&o&&n&&0===s.size()&&h(),s.add(e,t)}function u(){l=!0;while(s.size()){var e=s;s=i(),e.process()}l=!1}function d(e){l||(void 0===e&&(e=n),a&&(f(a),a=null),e?h():u())}function h(){a=p(u)}function f(e){var t=clearTimeout;return t(e)}function p(e){var t=function(e){return setTimeout(e,0)};return t(e)}return{add:c,force:d}}},1373:function(e){"use strict";var t=e.exports={};function n(e,t,n){var r=e[t];return void 0!==r&&null!==r||void 0===n?r:n}t.getOption=n},2026:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Dv},Be:function(){return Sd}});var r={};n.r(r),n.d(r,{afterMain:function(){return C},afterRead:function(){return E},afterWrite:function(){return k},applyStyles:function(){return B},arrow:function(){return de},auto:function(){return h},basePlacements:function(){return f},beforeMain:function(){return T},beforeRead:function(){return x},beforeWrite:function(){return A},bottom:function(){return c},clippingParents:function(){return g},computeStyles:function(){return ve},createPopper:function(){return pt},createPopperBase:function(){return ht},createPopperLite:function(){return gt},detectOverflow:function(){return Fe},end:function(){return m},eventListeners:function(){return _e},flip:function(){return ze},hide:function(){return $e},left:function(){return d},main:function(){return M},modifierPhases:function(){return O},offset:function(){return Ye},placements:function(){return w},popper:function(){return y},popperGenerator:function(){return dt},popperOffsets:function(){return Ze},preventOverflow:function(){return et},read:function(){return S},reference:function(){return b},right:function(){return u},start:function(){return p},top:function(){return l},variationPlacements:function(){return _},viewport:function(){return v},write:function(){return R}});n(7658);var i=n(4870),o=n(3396),a=n(7139),s=n(9242),l="top",c="bottom",u="right",d="left",h="auto",f=[l,c,u,d],p="start",m="end",g="clippingParents",v="viewport",y="popper",b="reference",_=f.reduce((function(e,t){return e.concat([t+"-"+p,t+"-"+m])}),[]),w=[].concat(f,[h]).reduce((function(e,t){return e.concat([t,t+"-"+p,t+"-"+m])}),[]),x="beforeRead",S="read",E="afterRead",T="beforeMain",M="main",C="afterMain",A="beforeWrite",R="write",k="afterWrite",O=[x,S,E,T,M,C,A,R,k];function L(e){return e?(e.nodeName||"").toLowerCase():null}function I(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function P(e){var t=I(e).Element;return e instanceof t||e instanceof Element}function D(e){var t=I(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function N(e){if("undefined"===typeof ShadowRoot)return!1;var t=I(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function U(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];D(i)&&L(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))}function F(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]),a=o.reduce((function(e,t){return e[t]="",e}),{});D(r)&&L(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}}var B={name:"applyStyles",enabled:!0,phase:"write",fn:U,effect:F,requires:["computeStyles"]};function j(e){return e.split("-")[0]}var V=Math.max,z=Math.min,H=Math.round;function W(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function G(){return!/^((?!chrome|android).)*safari/i.test(W())}function $(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&D(e)&&(i=e.offsetWidth>0&&H(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&H(r.height)/e.offsetHeight||1);var a=P(e)?I(e):window,s=a.visualViewport,l=!G()&&n,c=(r.left+(l&&s?s.offsetLeft:0))/i,u=(r.top+(l&&s?s.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function q(e){var t=$(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function X(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&N(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Y(e){return I(e).getComputedStyle(e)}function J(e){return["table","td","th"].indexOf(L(e))>=0}function Z(e){return((P(e)?e.ownerDocument:e.document)||window.document).documentElement}function K(e){return"html"===L(e)?e:e.assignedSlot||e.parentNode||(N(e)?e.host:null)||Z(e)}function Q(e){return D(e)&&"fixed"!==Y(e).position?e.offsetParent:null}function ee(e){var t=/firefox/i.test(W()),n=/Trident/i.test(W());if(n&&D(e)){var r=Y(e);if("fixed"===r.position)return null}var i=K(e);N(i)&&(i=i.host);while(D(i)&&["html","body"].indexOf(L(i))<0){var o=Y(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}function te(e){var t=I(e),n=Q(e);while(n&&J(n)&&"static"===Y(n).position)n=Q(n);return n&&("html"===L(n)||"body"===L(n)&&"static"===Y(n).position)?t:n||ee(e)||t}function ne(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function re(e,t,n){return V(e,z(t,n))}function ie(e,t,n){var r=re(e,t,n);return r>n?n:r}function oe(){return{top:0,right:0,bottom:0,left:0}}function ae(e){return Object.assign({},oe(),e)}function se(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var le=function(e,t){return e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e,ae("number"!==typeof e?e:se(e,f))};function ce(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=j(n.placement),h=ne(s),f=[d,u].indexOf(s)>=0,p=f?"height":"width";if(o&&a){var m=le(i.padding,n),g=q(o),v="y"===h?l:d,y="y"===h?c:u,b=n.rects.reference[p]+n.rects.reference[h]-a[h]-n.rects.popper[p],_=a[h]-n.rects.reference[h],w=te(o),x=w?"y"===h?w.clientHeight||0:w.clientWidth||0:0,S=b/2-_/2,E=m[v],T=x-g[p]-m[y],M=x/2-g[p]/2+S,C=re(E,M,T),A=h;n.modifiersData[r]=(t={},t[A]=C,t.centerOffset=C-M,t)}}function ue(e){var t=e.state,n=e.options,r=n.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i),i))&&X(t.elements.popper,i)&&(t.elements.arrow=i)}var de={name:"arrow",enabled:!0,phase:"main",fn:ce,effect:ue,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function he(e){return e.split("-")[1]}var fe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:H(n*i)/i||0,y:H(r*i)/i||0}}function me(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,h=e.gpuAcceleration,f=e.adaptive,p=e.roundOffsets,g=e.isFixed,v=a.x,y=void 0===v?0:v,b=a.y,_=void 0===b?0:b,w="function"===typeof p?p({x:y,y:_}):{x:y,y:_};y=w.x,_=w.y;var x=a.hasOwnProperty("x"),S=a.hasOwnProperty("y"),E=d,T=l,M=window;if(f){var C=te(n),A="clientHeight",R="clientWidth";if(C===I(n)&&(C=Z(n),"static"!==Y(C).position&&"absolute"===s&&(A="scrollHeight",R="scrollWidth")),i===l||(i===d||i===u)&&o===m){T=c;var k=g&&C===M&&M.visualViewport?M.visualViewport.height:C[A];_-=k-r.height,_*=h?1:-1}if(i===d||(i===l||i===c)&&o===m){E=u;var O=g&&C===M&&M.visualViewport?M.visualViewport.width:C[R];y-=O-r.width,y*=h?1:-1}}var L,P=Object.assign({position:s},f&&fe),D=!0===p?pe({x:y,y:_},I(n)):{x:y,y:_};return y=D.x,_=D.y,h?Object.assign({},P,(L={},L[T]=S?"0":"",L[E]=x?"0":"",L.transform=(M.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",L)):Object.assign({},P,(t={},t[T]=S?_+"px":"",t[E]=x?y+"px":"",t.transform="",t))}function ge(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:j(t.placement),variation:he(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,me(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,me(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var ve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ge,data:{}},ye={passive:!0};function be(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=I(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,ye)})),s&&l.addEventListener("resize",n.update,ye),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ye)})),s&&l.removeEventListener("resize",n.update,ye)}}var _e={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:be,data:{}},we={left:"right",right:"left",bottom:"top",top:"bottom"};function xe(e){return e.replace(/left|right|bottom|top/g,(function(e){return we[e]}))}var Se={start:"end",end:"start"};function Ee(e){return e.replace(/start|end/g,(function(e){return Se[e]}))}function Te(e){var t=I(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Me(e){return $(Z(e)).left+Te(e).scrollLeft}function Ce(e,t){var n=I(e),r=Z(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=G();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Me(e),y:l}}function Ae(e){var t,n=Z(e),r=Te(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=V(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=V(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Me(e),l=-r.scrollTop;return"rtl"===Y(i||n).direction&&(s+=V(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function Re(e){var t=Y(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ke(e){return["html","body","#document"].indexOf(L(e))>=0?e.ownerDocument.body:D(e)&&Re(e)?e:ke(K(e))}function Oe(e,t){var n;void 0===t&&(t=[]);var r=ke(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=I(r),a=i?[o].concat(o.visualViewport||[],Re(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Oe(K(a)))}function Le(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ie(e,t){var n=$(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Pe(e,t,n){return t===v?Le(Ce(e,n)):P(t)?Ie(t,n):Le(Ae(Z(e)))}function De(e){var t=Oe(K(e)),n=["absolute","fixed"].indexOf(Y(e).position)>=0,r=n&&D(e)?te(e):e;return P(r)?t.filter((function(e){return P(e)&&X(e,r)&&"body"!==L(e)})):[]}function Ne(e,t,n,r){var i="clippingParents"===t?De(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Pe(e,n,r);return t.top=V(i.top,t.top),t.right=z(i.right,t.right),t.bottom=z(i.bottom,t.bottom),t.left=V(i.left,t.left),t}),Pe(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Ue(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?j(i):null,a=i?he(i):null,s=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2;switch(o){case l:t={x:s,y:n.y-r.height};break;case c:t={x:s,y:n.y+n.height};break;case u:t={x:n.x+n.width,y:h};break;case d:t={x:n.x-r.width,y:h};break;default:t={x:n.x,y:n.y}}var f=o?ne(o):null;if(null!=f){var g="y"===f?"height":"width";switch(a){case p:t[f]=t[f]-(n[g]/2-r[g]/2);break;case m:t[f]=t[f]+(n[g]/2-r[g]/2);break;default:}}return t}function Fe(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,d=void 0===s?g:s,h=n.rootBoundary,p=void 0===h?v:h,m=n.elementContext,_=void 0===m?y:m,w=n.altBoundary,x=void 0!==w&&w,S=n.padding,E=void 0===S?0:S,T=ae("number"!==typeof E?E:se(E,f)),M=_===y?b:y,C=e.rects.popper,A=e.elements[x?M:_],R=Ne(P(A)?A:A.contextElement||Z(e.elements.popper),d,p,a),k=$(e.elements.reference),O=Ue({reference:k,element:C,strategy:"absolute",placement:i}),L=Le(Object.assign({},C,O)),I=_===y?L:k,D={top:R.top-I.top+T.top,bottom:I.bottom-R.bottom+T.bottom,left:R.left-I.left+T.left,right:I.right-R.right+T.right},N=e.modifiersData.offset;if(_===y&&N){var U=N[i];Object.keys(D).forEach((function(e){var t=[u,c].indexOf(e)>=0?1:-1,n=[l,c].indexOf(e)>=0?"y":"x";D[e]+=U[n]*t}))}return D}function Be(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?w:l,u=he(r),d=u?s?_:_.filter((function(e){return he(e)===u})):f,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Fe(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[j(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function je(e){if(j(e)===h)return[];var t=xe(e);return[Ee(e),t,Ee(t)]}function Ve(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,f=n.fallbackPlacements,m=n.padding,g=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,_=void 0===b||b,w=n.allowedAutoPlacements,x=t.options.placement,S=j(x),E=S===x,T=f||(E||!_?[xe(x)]:je(x)),M=[x].concat(T).reduce((function(e,n){return e.concat(j(n)===h?Be(t,{placement:n,boundary:g,rootBoundary:v,padding:m,flipVariations:_,allowedAutoPlacements:w}):n)}),[]),C=t.rects.reference,A=t.rects.popper,R=new Map,k=!0,O=M[0],L=0;L<M.length;L++){var I=M[L],P=j(I),D=he(I)===p,N=[l,c].indexOf(P)>=0,U=N?"width":"height",F=Fe(t,{placement:I,boundary:g,rootBoundary:v,altBoundary:y,padding:m}),B=N?D?u:d:D?c:l;C[U]>A[U]&&(B=xe(B));var V=xe(B),z=[];if(o&&z.push(F[P]<=0),s&&z.push(F[B]<=0,F[V]<=0),z.every((function(e){return e}))){O=I,k=!1;break}R.set(I,z)}if(k)for(var H=_?3:1,W=function(e){var t=M.find((function(t){var n=R.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return O=t,"break"},G=H;G>0;G--){var $=W(G);if("break"===$)break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}var ze={name:"flip",enabled:!0,phase:"main",fn:Ve,requiresIfExists:["offset"],data:{_skip:!1}};function He(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function We(e){return[l,u,c,d].some((function(t){return e[t]>=0}))}function Ge(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Fe(t,{elementContext:"reference"}),s=Fe(t,{altBoundary:!0}),l=He(a,r),c=He(s,i,o),u=We(l),d=We(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var $e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ge};function qe(e,t,n){var r=j(e),i=[d,l].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[d,u].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}function Xe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=w.reduce((function(e,n){return e[n]=qe(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}var Ye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Xe};function Je(e){var t=e.state,n=e.name;t.modifiersData[n]=Ue({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Ze={name:"popperOffsets",enabled:!0,phase:"read",fn:Je,data:{}};function Ke(e){return"x"===e?"y":"x"}function Qe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,h=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,y=void 0===v||v,b=n.tetherOffset,_=void 0===b?0:b,w=Fe(t,{boundary:h,rootBoundary:f,padding:g,altBoundary:m}),x=j(t.placement),S=he(t.placement),E=!S,T=ne(x),M=Ke(T),C=t.modifiersData.popperOffsets,A=t.rects.reference,R=t.rects.popper,k="function"===typeof _?_(Object.assign({},t.rects,{placement:t.placement})):_,O="number"===typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(C){if(o){var P,D="y"===T?l:d,N="y"===T?c:u,U="y"===T?"height":"width",F=C[T],B=F+w[D],H=F-w[N],W=y?-R[U]/2:0,G=S===p?A[U]:R[U],$=S===p?-R[U]:-A[U],X=t.elements.arrow,Y=y&&X?q(X):{width:0,height:0},J=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:oe(),Z=J[D],K=J[N],Q=re(0,A[U],Y[U]),ee=E?A[U]/2-W-Q-Z-O.mainAxis:G-Q-Z-O.mainAxis,ae=E?-A[U]/2+W+Q+K+O.mainAxis:$+Q+K+O.mainAxis,se=t.elements.arrow&&te(t.elements.arrow),le=se?"y"===T?se.clientTop||0:se.clientLeft||0:0,ce=null!=(P=null==L?void 0:L[T])?P:0,ue=F+ee-ce-le,de=F+ae-ce,fe=re(y?z(B,ue):B,F,y?V(H,de):H);C[T]=fe,I[T]=fe-F}if(s){var pe,me="x"===T?l:d,ge="x"===T?c:u,ve=C[M],ye="y"===M?"height":"width",be=ve+w[me],_e=ve-w[ge],we=-1!==[l,d].indexOf(x),xe=null!=(pe=null==L?void 0:L[M])?pe:0,Se=we?be:ve-A[ye]-R[ye]-xe+O.altAxis,Ee=we?ve+A[ye]+R[ye]-xe-O.altAxis:_e,Te=y&&we?ie(Se,ve,Ee):re(y?Se:be,ve,y?Ee:_e);C[M]=Te,I[M]=Te-ve}t.modifiersData[r]=I}}var et={name:"preventOverflow",enabled:!0,phase:"main",fn:Qe,requiresIfExists:["offset"]};function tt(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function nt(e){return e!==I(e)&&D(e)?tt(e):Te(e)}function rt(e){var t=e.getBoundingClientRect(),n=H(t.width)/e.offsetWidth||1,r=H(t.height)/e.offsetHeight||1;return 1!==n||1!==r}function it(e,t,n){void 0===n&&(n=!1);var r=D(t),i=D(t)&&rt(t),o=Z(t),a=$(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==L(t)||Re(o))&&(s=nt(t)),D(t)?(l=$(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Me(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function ot(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name);var o=[].concat(e.requires||[],e.requiresIfExists||[]);o.forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function at(e){var t=ot(e);return O.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function st(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}function lt(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var ct={placement:"bottom",modifiers:[],strategy:"absolute"};function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function dt(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?ct:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},ct,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:P(e)?Oe(e):e.contextElement?Oe(e.contextElement):[],popper:Oe(t)};var s=at(lt([].concat(r,i.options.modifiers)));return i.orderedModifiers=s.filter((function(e){return e.enabled})),c(),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(ut(t,n)){i.rects={reference:it(t,te(n),"fixed"===i.options.strategy),popper:q(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:st((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!ut(e,t))return l;function c(){i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}}))}function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var ht=dt(),ft=[_e,Ze,ve,B,Ye,ze,et,de,$e],pt=dt({defaultModifiers:ft}),mt=[_e,Ze,ve,B],gt=dt({defaultModifiers:mt});
/*!
  * Bootstrap v5.3.0 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
const vt=new Map,yt={set(e,t,n){vt.has(e)||vt.set(e,new Map);const r=vt.get(e);r.has(t)||0===r.size?r.set(t,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get(e,t){return vt.has(e)&&vt.get(e).get(t)||null},remove(e,t){if(!vt.has(e))return;const n=vt.get(e);n.delete(t),0===n.size&&vt.delete(e)}},bt=1e6,_t=1e3,wt="transitionend",xt=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),St=e=>null===e||void 0===e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),Et=e=>{do{e+=Math.floor(Math.random()*bt)}while(document.getElementById(e));return e},Tt=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),i=Number.parseFloat(n);return r||i?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*_t):0},Mt=e=>{e.dispatchEvent(new Event(wt))},Ct=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),At=e=>Ct(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(xt(e)):null,Rt=e=>{if(!Ct(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},kt=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),Ot=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?Ot(e.parentNode):null},Lt=()=>{},It=e=>{e.offsetHeight},Pt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dt=[],Nt=e=>{"loading"===document.readyState?(Dt.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of Dt)e()})),Dt.push(e)):e()},Ut=()=>"rtl"===document.documentElement.dir,Ft=e=>{Nt((()=>{const t=Pt();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}}))},Bt=(e,t=[],n=e)=>"function"===typeof e?e(...t):n,jt=(e,t,n=!0)=>{if(!n)return void Bt(e);const r=5,i=Tt(t)+r;let o=!1;const a=({target:n})=>{n===t&&(o=!0,t.removeEventListener(wt,a),Bt(e))};t.addEventListener(wt,a),setTimeout((()=>{o||Mt(t)}),i)},Vt=(e,t,n,r)=>{const i=e.length;let o=e.indexOf(t);return-1===o?!n&&r?e[i-1]:e[0]:(o+=n?1:-1,r&&(o=(o+i)%i),e[Math.max(0,Math.min(o,i-1))])},zt=/[^.]*(?=\..*)\.|.*/,Ht=/\..*/,Wt=/::\d+$/,Gt={};let $t=1;const qt={mouseenter:"mouseover",mouseleave:"mouseout"},Xt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Yt(e,t){return t&&`${t}::${$t++}`||e.uidEvent||$t++}function Jt(e){const t=Yt(e);return e.uidEvent=t,Gt[t]=Gt[t]||{},Gt[t]}function Zt(e,t){return function n(r){return sn(r,{delegateTarget:e}),n.oneOff&&an.off(e,r.type,t),t.apply(e,[r])}}function Kt(e,t,n){return function r(i){const o=e.querySelectorAll(t);for(let{target:a}=i;a&&a!==this;a=a.parentNode)for(const s of o)if(s===a)return sn(i,{delegateTarget:a}),r.oneOff&&an.off(e,i.type,t,n),n.apply(a,[i])}}function Qt(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function en(e,t,n){const r="string"===typeof t,i=r?n:t||n;let o=on(e);return Xt.has(o)||(o=e),[r,i,o]}function tn(e,t,n,r,i){if("string"!==typeof t||!e)return;let[o,a,s]=en(t,n,r);if(t in qt){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const l=Jt(e),c=l[s]||(l[s]={}),u=Qt(c,a,o?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const d=Yt(a,t.replace(zt,"")),h=o?Kt(e,n,a):Zt(e,a);h.delegationSelector=o?n:null,h.callable=a,h.oneOff=i,h.uidEvent=d,c[d]=h,e.addEventListener(s,h,o)}function nn(e,t,n,r,i){const o=Qt(t[n],r,i);o&&(e.removeEventListener(n,o,Boolean(i)),delete t[n][o.uidEvent])}function rn(e,t,n,r){const i=t[n]||{};for(const[o,a]of Object.entries(i))o.includes(r)&&nn(e,t,n,a.callable,a.delegationSelector)}function on(e){return e=e.replace(Ht,""),qt[e]||e}const an={on(e,t,n,r){tn(e,t,n,r,!1)},one(e,t,n,r){tn(e,t,n,r,!0)},off(e,t,n,r){if("string"!==typeof t||!e)return;const[i,o,a]=en(t,n,r),s=a!==t,l=Jt(e),c=l[a]||{},u=t.startsWith(".");if("undefined"===typeof o){if(u)for(const n of Object.keys(l))rn(e,l,n,t.slice(1));for(const[n,r]of Object.entries(c)){const i=n.replace(Wt,"");s&&!t.includes(i)||nn(e,l,a,r.callable,r.delegationSelector)}}else{if(!Object.keys(c).length)return;nn(e,l,a,o,i?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const r=Pt(),i=on(t),o=t!==i;let a=null,s=!0,l=!0,c=!1;o&&r&&(a=r.Event(t,n),r(e).trigger(a),s=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),c=a.isDefaultPrevented());const u=sn(new Event(t,{bubbles:s,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function sn(e,t={}){for(const[r,i]of Object.entries(t))try{e[r]=i}catch(n){Object.defineProperty(e,r,{configurable:!0,get(){return i}})}return e}function ln(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function cn(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const un={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${cn(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${cn(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=ln(e.dataset[r])}return t},getDataAttribute(e,t){return ln(e.getAttribute(`data-bs-${cn(t)}`))}};class dn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=Ct(t)?un.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...Ct(t)?un.getDataAttributes(t):{},..."object"===typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,r]of Object.entries(t)){const t=e[n],i=Ct(t)?"element":St(t);if(!new RegExp(r).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${r}".`)}}}const hn="5.3.0";class fn extends dn{constructor(e,t){super(),e=At(e),e&&(this._element=e,this._config=this._getConfig(t),yt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){yt.remove(this._element,this.constructor.DATA_KEY),an.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){jt(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return yt.get(At(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return hn}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const pn=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?n.trim():null}return xt(t)},mn={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter((e=>e.matches(t)))},parents(e,t){const n=[];let r=e.parentNode.closest(t);while(r)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;while(n){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;while(n){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!kt(e)&&Rt(e)))},getSelectorFromElement(e){const t=pn(e);return t&&mn.findOne(t)?t:null},getElementFromSelector(e){const t=pn(e);return t?mn.findOne(t):null},getMultipleElementsFromSelector(e){const t=pn(e);return t?mn.find(t):[]}},gn=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;an.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),kt(this))return;const i=mn.getElementFromSelector(this)||this.closest(`.${r}`),o=e.getOrCreateInstance(i);o[t]()}))},vn="alert",yn="bs.alert",bn=`.${yn}`,_n=`close${bn}`,wn=`closed${bn}`,xn="fade",Sn="show";class En extends fn{static get NAME(){return vn}close(){const e=an.trigger(this._element,_n);if(e.defaultPrevented)return;this._element.classList.remove(Sn);const t=this._element.classList.contains(xn);this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),an.trigger(this._element,wn),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=En.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}gn(En,"close"),Ft(En);const Tn="button",Mn="bs.button",Cn=`.${Mn}`,An=".data-api",Rn="active",kn='[data-bs-toggle="button"]',On=`click${Cn}${An}`;class Ln extends fn{static get NAME(){return Tn}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Rn))}static jQueryInterface(e){return this.each((function(){const t=Ln.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}an.on(document,On,kn,(e=>{e.preventDefault();const t=e.target.closest(kn),n=Ln.getOrCreateInstance(t);n.toggle()})),Ft(Ln);const In="swipe",Pn=".bs.swipe",Dn=`touchstart${Pn}`,Nn=`touchmove${Pn}`,Un=`touchend${Pn}`,Fn=`pointerdown${Pn}`,Bn=`pointerup${Pn}`,jn="touch",Vn="pen",zn="pointer-event",Hn=40,Wn={endCallback:null,leftCallback:null,rightCallback:null},Gn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class $n extends dn{constructor(e,t){super(),this._element=e,e&&$n.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Wn}static get DefaultType(){return Gn}static get NAME(){return In}dispose(){an.off(this._element,Pn)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Bt(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Hn)return;const t=e/this._deltaX;this._deltaX=0,t&&Bt(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(an.on(this._element,Fn,(e=>this._start(e))),an.on(this._element,Bn,(e=>this._end(e))),this._element.classList.add(zn)):(an.on(this._element,Dn,(e=>this._start(e))),an.on(this._element,Nn,(e=>this._move(e))),an.on(this._element,Un,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Vn||e.pointerType===jn)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const qn="carousel",Xn="bs.carousel",Yn=`.${Xn}`,Jn=".data-api",Zn="ArrowLeft",Kn="ArrowRight",Qn=500,er="next",tr="prev",nr="left",rr="right",ir=`slide${Yn}`,or=`slid${Yn}`,ar=`keydown${Yn}`,sr=`mouseenter${Yn}`,lr=`mouseleave${Yn}`,cr=`dragstart${Yn}`,ur=`load${Yn}${Jn}`,dr=`click${Yn}${Jn}`,hr="carousel",fr="active",pr="slide",mr="carousel-item-end",gr="carousel-item-start",vr="carousel-item-next",yr="carousel-item-prev",br=".active",_r=".carousel-item",wr=br+_r,xr=".carousel-item img",Sr=".carousel-indicators",Er="[data-bs-slide], [data-bs-slide-to]",Tr='[data-bs-ride="carousel"]',Mr={[Zn]:rr,[Kn]:nr},Cr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ar={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Rr extends fn{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=mn.findOne(Sr,this._element),this._addEventListeners(),this._config.ride===hr&&this.cycle()}static get Default(){return Cr}static get DefaultType(){return Ar}static get NAME(){return qn}next(){this._slide(er)}nextWhenVisible(){!document.hidden&&Rt(this._element)&&this.next()}prev(){this._slide(tr)}pause(){this._isSliding&&Mt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?an.one(this._element,or,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void an.one(this._element,or,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?er:tr;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&an.on(this._element,ar,(e=>this._keydown(e))),"hover"===this._config.pause&&(an.on(this._element,sr,(()=>this.pause())),an.on(this._element,lr,(()=>this._maybeEnableCycle()))),this._config.touch&&$n.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of mn.find(xr,this._element))an.on(n,cr,(e=>e.preventDefault()));const e=()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),Qn+this._config.interval))},t={leftCallback:()=>this._slide(this._directionToOrder(nr)),rightCallback:()=>this._slide(this._directionToOrder(rr)),endCallback:e};this._swipeHelper=new $n(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Mr[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=mn.findOne(br,this._indicatorsElement);t.classList.remove(fr),t.removeAttribute("aria-current");const n=mn.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(fr),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===er,i=t||Vt(this._getItems(),n,r,this._config.wrap);if(i===n)return;const o=this._getItemIndex(i),a=t=>an.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o}),s=a(ir);if(s.defaultPrevented)return;if(!n||!i)return;const l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=i;const c=r?gr:mr,u=r?vr:yr;i.classList.add(u),It(i),n.classList.add(c),i.classList.add(c);const d=()=>{i.classList.remove(c,u),i.classList.add(fr),n.classList.remove(fr,u,c),this._isSliding=!1,a(or)};this._queueCallback(d,n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains(pr)}_getActive(){return mn.findOne(wr,this._element)}_getItems(){return mn.find(_r,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ut()?e===nr?tr:er:e===nr?er:tr}_orderToDirection(e){return Ut()?e===tr?nr:rr:e===tr?rr:nr}static jQueryInterface(e){return this.each((function(){const t=Rr.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}an.on(document,dr,Er,(function(e){const t=mn.getElementFromSelector(this);if(!t||!t.classList.contains(hr))return;e.preventDefault();const n=Rr.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===un.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),an.on(window,ur,(()=>{const e=mn.find(Tr);for(const t of e)Rr.getOrCreateInstance(t)})),Ft(Rr);const kr="collapse",Or="bs.collapse",Lr=`.${Or}`,Ir=".data-api",Pr=`show${Lr}`,Dr=`shown${Lr}`,Nr=`hide${Lr}`,Ur=`hidden${Lr}`,Fr=`click${Lr}${Ir}`,Br="show",jr="collapse",Vr="collapsing",zr="collapsed",Hr=`:scope .${jr} .${jr}`,Wr="collapse-horizontal",Gr="width",$r="height",qr=".collapse.show, .collapse.collapsing",Xr='[data-bs-toggle="collapse"]',Yr={parent:null,toggle:!0},Jr={parent:"(null|element)",toggle:"boolean"};class Zr extends fn{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=mn.find(Xr);for(const r of n){const e=mn.getSelectorFromElement(r),t=mn.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Yr}static get DefaultType(){return Jr}static get NAME(){return kr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(qr).filter((e=>e!==this._element)).map((e=>Zr.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;const t=an.trigger(this._element,Pr);if(t.defaultPrevented)return;for(const a of e)a.hide();const n=this._getDimension();this._element.classList.remove(jr),this._element.classList.add(Vr),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Vr),this._element.classList.add(jr,Br),this._element.style[n]="",an.trigger(this._element,Dr)},i=n[0].toUpperCase()+n.slice(1),o=`scroll${i}`;this._queueCallback(r,this._element,!0),this._element.style[n]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown())return;const e=an.trigger(this._element,Nr);if(e.defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,It(this._element),this._element.classList.add(Vr),this._element.classList.remove(jr,Br);for(const r of this._triggerArray){const e=mn.getElementFromSelector(r);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([r],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Vr),this._element.classList.add(jr),an.trigger(this._element,Ur)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Br)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=At(e.parent),e}_getDimension(){return this._element.classList.contains(Wr)?Gr:$r}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Xr);for(const t of e){const e=mn.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=mn.find(Hr,this._config.parent);return mn.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(zr,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=Zr.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}an.on(document,Fr,Xr,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of mn.getMultipleElementsFromSelector(this))Zr.getOrCreateInstance(t,{toggle:!1}).toggle()})),Ft(Zr);const Kr="dropdown",Qr="bs.dropdown",ei=`.${Qr}`,ti=".data-api",ni="Escape",ri="Tab",ii="ArrowUp",oi="ArrowDown",ai=2,si=`hide${ei}`,li=`hidden${ei}`,ci=`show${ei}`,ui=`shown${ei}`,di=`click${ei}${ti}`,hi=`keydown${ei}${ti}`,fi=`keyup${ei}${ti}`,pi="show",mi="dropup",gi="dropend",vi="dropstart",yi="dropup-center",bi="dropdown-center",_i='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',wi=`${_i}.${pi}`,xi=".dropdown-menu",Si=".navbar",Ei=".navbar-nav",Ti=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Mi=Ut()?"top-end":"top-start",Ci=Ut()?"top-start":"top-end",Ai=Ut()?"bottom-end":"bottom-start",Ri=Ut()?"bottom-start":"bottom-end",ki=Ut()?"left-start":"right-start",Oi=Ut()?"right-start":"left-start",Li="top",Ii="bottom",Pi={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Di={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ni extends fn{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=mn.next(this._element,xi)[0]||mn.prev(this._element,xi)[0]||mn.findOne(xi,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Pi}static get DefaultType(){return Di}static get NAME(){return Kr}toggle(){return this._isShown()?this.hide():this.show()}show(){if(kt(this._element)||this._isShown())return;const e={relatedTarget:this._element},t=an.trigger(this._element,ci,e);if(!t.defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Ei))for(const e of[].concat(...document.body.children))an.on(e,"mouseover",Lt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(pi),this._element.classList.add(pi),an.trigger(this._element,ui,e)}}hide(){if(kt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){const t=an.trigger(this._element,si,e);if(!t.defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))an.off(e,"mouseover",Lt);this._popper&&this._popper.destroy(),this._menu.classList.remove(pi),this._element.classList.remove(pi),this._element.setAttribute("aria-expanded","false"),un.removeDataAttribute(this._menu,"popper"),an.trigger(this._element,li,e)}}_getConfig(e){if(e=super._getConfig(e),"object"===typeof e.reference&&!Ct(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError(`${Kr.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if("undefined"===typeof r)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:Ct(this._config.reference)?e=At(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=pt(e,this._menu,t)}_isShown(){return this._menu.classList.contains(pi)}_getPlacement(){const e=this._parent;if(e.classList.contains(gi))return ki;if(e.classList.contains(vi))return Oi;if(e.classList.contains(yi))return Li;if(e.classList.contains(bi))return Ii;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(mi)?t?Ci:Mi:t?Ri:Ai}_detectNavbar(){return null!==this._element.closest(Si)}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(un.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Bt(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=mn.find(Ti,this._menu).filter((e=>Rt(e)));n.length&&Vt(n,t,e===oi,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Ni.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(e.button===ai||"keyup"===e.type&&e.key!==ri)return;const t=mn.find(wi);for(const n of t){const t=Ni.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),i=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!i||"outside"===t._config.autoClose&&i)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&e.key===ri||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===ni,r=[ii,oi].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const i=this.matches(_i)?this:mn.prev(this,_i)[0]||mn.next(this,_i)[0]||mn.findOne(_i,e.delegateTarget.parentNode),o=Ni.getOrCreateInstance(i);if(r)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),i.focus())}}an.on(document,hi,_i,Ni.dataApiKeydownHandler),an.on(document,hi,xi,Ni.dataApiKeydownHandler),an.on(document,di,Ni.clearMenus),an.on(document,fi,Ni.clearMenus),an.on(document,di,_i,(function(e){e.preventDefault(),Ni.getOrCreateInstance(this).toggle()})),Ft(Ni);const Ui="backdrop",Fi="fade",Bi="show",ji=`mousedown.bs.${Ui}`,Vi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},zi={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Hi extends dn{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Vi}static get DefaultType(){return zi}static get NAME(){return Ui}show(e){if(!this._config.isVisible)return void Bt(e);this._append();const t=this._getElement();this._config.isAnimated&&It(t),t.classList.add(Bi),this._emulateAnimation((()=>{Bt(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Bi),this._emulateAnimation((()=>{this.dispose(),Bt(e)}))):Bt(e)}dispose(){this._isAppended&&(an.off(this._element,ji),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Fi),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=At(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),an.on(e,ji,(()=>{Bt(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){jt(e,this._getElement(),this._config.isAnimated)}}const Wi="focustrap",Gi="bs.focustrap",$i=`.${Gi}`,qi=`focusin${$i}`,Xi=`keydown.tab${$i}`,Yi="Tab",Ji="forward",Zi="backward",Ki={autofocus:!0,trapElement:null},Qi={autofocus:"boolean",trapElement:"element"};class eo extends dn{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ki}static get DefaultType(){return Qi}static get NAME(){return Wi}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),an.off(document,$i),an.on(document,qi,(e=>this._handleFocusin(e))),an.on(document,Xi,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,an.off(document,$i))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=mn.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Zi?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Yi&&(this._lastTabNavDirection=e.shiftKey?Zi:Ji)}}const to=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",no=".sticky-top",ro="padding-right",io="margin-right";class oo{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ro,(t=>t+e)),this._setElementAttributes(to,ro,(t=>t+e)),this._setElementAttributes(no,io,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ro),this._resetElementAttributes(to,ro),this._resetElementAttributes(no,io)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth(),i=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(i))}px`)};this._applyManipulationCallback(e,i)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&un.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=un.getDataAttribute(e,t);null!==n?(un.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(Ct(e))t(e);else for(const n of mn.find(e,this._element))t(n)}}const ao="modal",so="bs.modal",lo=`.${so}`,co=".data-api",uo="Escape",ho=`hide${lo}`,fo=`hidePrevented${lo}`,po=`hidden${lo}`,mo=`show${lo}`,go=`shown${lo}`,vo=`resize${lo}`,yo=`click.dismiss${lo}`,bo=`mousedown.dismiss${lo}`,_o=`keydown.dismiss${lo}`,wo=`click${lo}${co}`,xo="modal-open",So="fade",Eo="show",To="modal-static",Mo=".modal.show",Co=".modal-dialog",Ao=".modal-body",Ro='[data-bs-toggle="modal"]',ko={backdrop:!0,focus:!0,keyboard:!0},Oo={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Lo extends fn{constructor(e,t){super(e,t),this._dialog=mn.findOne(Co,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new oo,this._addEventListeners()}static get Default(){return ko}static get DefaultType(){return Oo}static get NAME(){return ao}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;const t=an.trigger(this._element,mo,{relatedTarget:e});t.defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xo),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;const e=an.trigger(this._element,ho);e.defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Eo),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){an.off(window,lo),an.off(this._dialog,lo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Hi({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new eo({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=mn.findOne(Ao,this._dialog);t&&(t.scrollTop=0),It(this._element),this._element.classList.add(Eo);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,an.trigger(this._element,go,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){an.on(this._element,_o,(e=>{e.key===uo&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),an.on(window,vo,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),an.on(this._element,bo,(e=>{an.one(this._element,yo,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(xo),this._resetAdjustments(),this._scrollBar.reset(),an.trigger(this._element,po)}))}_isAnimated(){return this._element.classList.contains(So)}_triggerBackdropTransition(){const e=an.trigger(this._element,fo);if(e.defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(To)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(To),this._queueCallback((()=>{this._element.classList.remove(To),this._queueCallback((()=>{this._element.style.overflowY=n}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=Ut()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=Ut()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Lo.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}an.on(document,wo,Ro,(function(e){const t=mn.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),an.one(t,mo,(e=>{e.defaultPrevented||an.one(t,po,(()=>{Rt(this)&&this.focus()}))}));const n=mn.findOne(Mo);n&&Lo.getInstance(n).hide();const r=Lo.getOrCreateInstance(t);r.toggle(this)})),gn(Lo),Ft(Lo);const Io="offcanvas",Po="bs.offcanvas",Do=`.${Po}`,No=".data-api",Uo=`load${Do}${No}`,Fo="Escape",Bo="show",jo="showing",Vo="hiding",zo="offcanvas-backdrop",Ho=".offcanvas.show",Wo=`show${Do}`,Go=`shown${Do}`,$o=`hide${Do}`,qo=`hidePrevented${Do}`,Xo=`hidden${Do}`,Yo=`resize${Do}`,Jo=`click${Do}${No}`,Zo=`keydown.dismiss${Do}`,Ko='[data-bs-toggle="offcanvas"]',Qo={backdrop:!0,keyboard:!0,scroll:!1},ea={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ta extends fn{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Qo}static get DefaultType(){return ea}static get NAME(){return Io}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;const t=an.trigger(this._element,Wo,{relatedTarget:e});if(t.defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new oo).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jo);const n=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Bo),this._element.classList.remove(jo),an.trigger(this._element,Go,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown)return;const e=an.trigger(this._element,$o);if(e.defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Vo),this._backdrop.hide();const t=()=>{this._element.classList.remove(Bo,Vo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new oo).reset(),an.trigger(this._element,Xo)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{"static"!==this._config.backdrop?this.hide():an.trigger(this._element,qo)},t=Boolean(this._config.backdrop);return new Hi({className:zo,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new eo({trapElement:this._element})}_addEventListeners(){an.on(this._element,Zo,(e=>{e.key===Fo&&(this._config.keyboard?this.hide():an.trigger(this._element,qo))}))}static jQueryInterface(e){return this.each((function(){const t=ta.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}an.on(document,Jo,Ko,(function(e){const t=mn.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),kt(this))return;an.one(t,Xo,(()=>{Rt(this)&&this.focus()}));const n=mn.findOne(Ho);n&&n!==t&&ta.getInstance(n).hide();const r=ta.getOrCreateInstance(t);r.toggle(this)})),an.on(window,Uo,(()=>{for(const e of mn.find(Ho))ta.getOrCreateInstance(e).show()})),an.on(window,Yo,(()=>{for(const e of mn.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&ta.getOrCreateInstance(e).hide()})),gn(ta),Ft(ta);const na=/^aria-[\w-]*$/i,ra={"*":["class","dir","id","lang","role",na],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ia=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),oa=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,aa=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!ia.has(n)||Boolean(oa.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))};function sa(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const r=new window.DOMParser,i=r.parseFromString(e,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const a of o){const e=a.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){a.remove();continue}const n=[].concat(...a.attributes),r=[].concat(t["*"]||[],t[e]||[]);for(const t of n)aa(t,r)||a.removeAttribute(t.nodeName)}return i.body.innerHTML}const la="TemplateFactory",ca={allowList:ra,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ua={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},da={entry:"(string|element|function|null)",selector:"(string|element)"};class ha extends dn{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return ca}static get DefaultType(){return ua}static get NAME(){return la}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[r,i]of Object.entries(this._config.content))this._setContent(e,i,r);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},da)}_setContent(e,t,n){const r=mn.findOne(n,e);r&&(t=this._resolvePossibleFunction(t),t?Ct(t)?this._putElementInTemplate(At(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?sa(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Bt(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const fa="tooltip",pa=new Set(["sanitize","allowList","sanitizeFn"]),ma="fade",ga="modal",va="show",ya=".tooltip-inner",ba=`.${ga}`,_a="hide.bs.modal",wa="hover",xa="focus",Sa="click",Ea="manual",Ta="hide",Ma="hidden",Ca="show",Aa="shown",Ra="inserted",ka="click",Oa="focusin",La="focusout",Ia="mouseenter",Pa="mouseleave",Da={AUTO:"auto",TOP:"top",RIGHT:Ut()?"left":"right",BOTTOM:"bottom",LEFT:Ut()?"right":"left"},Na={allowList:ra,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Ua={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Fa extends fn{constructor(e,t){if("undefined"===typeof r)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Na}static get DefaultType(){return Ua}static get NAME(){return fa}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),an.off(this._element.closest(ba),_a,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=an.trigger(this._element,this.constructor.eventName(Ca)),t=Ot(this._element),n=(t||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(r),an.trigger(this._element,this.constructor.eventName(Ra))),this._popper=this._createPopper(r),r.classList.add(va),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))an.on(a,"mouseover",Lt);const o=()=>{an.trigger(this._element,this.constructor.eventName(Aa)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;const e=an.trigger(this._element,this.constructor.eventName(Ta));if(e.defaultPrevented)return;const t=this._getTipElement();if(t.classList.remove(va),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))an.off(r,"mouseover",Lt);this._activeTrigger[Sa]=!1,this._activeTrigger[xa]=!1,this._activeTrigger[wa]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),an.trigger(this._element,this.constructor.eventName(Ma)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(ma,va),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Et(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(ma),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ha({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[ya]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ma)}_isShown(){return this.tip&&this.tip.classList.contains(va)}_createPopper(e){const t=Bt(this._config.placement,[this,e,this._element]),n=Da[t.toUpperCase()];return pt(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Bt(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...Bt(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)an.on(this._element,this.constructor.eventName(ka),this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t.toggle()}));else if(t!==Ea){const e=t===wa?this.constructor.eventName(Ia):this.constructor.eventName(Oa),n=t===wa?this.constructor.eventName(Pa):this.constructor.eventName(La);an.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?xa:wa]=!0,t._enter()})),an.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?xa:wa]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},an.on(this._element.closest(ba),_a,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=un.getDataAttributes(this._element);for(const n of Object.keys(t))pa.has(n)&&delete t[n];return e={...t,..."object"===typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:At(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Fa.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ft(Fa);const Ba="popover",ja=".popover-header",Va=".popover-body",za={...Fa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Ha={...Fa.DefaultType,content:"(null|string|element|function)"};class Wa extends Fa{static get Default(){return za}static get DefaultType(){return Ha}static get NAME(){return Ba}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[ja]:this._getTitle(),[Va]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Wa.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}Ft(Wa);const Ga="scrollspy",$a="bs.scrollspy",qa=`.${$a}`,Xa=".data-api",Ya=`activate${qa}`,Ja=`click${qa}`,Za=`load${qa}${Xa}`,Ka="dropdown-item",Qa="active",es='[data-bs-spy="scroll"]',ts="[href]",ns=".nav, .list-group",rs=".nav-link",is=".nav-item",os=".list-group-item",as=`${rs}, ${is} > ${rs}, ${os}`,ss=".dropdown",ls=".dropdown-toggle",cs={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},us={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ds extends fn{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return cs}static get DefaultType(){return us}static get NAME(){return Ga}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=At(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(an.off(this._config.target,Ja),an.on(this._config.target,Ja,ts,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(n(o),!r)return}else i||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=mn.find(ts,this._config.target);for(const t of e){if(!t.hash||kt(t))continue;const e=mn.findOne(decodeURI(t.hash),this._element);Rt(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Qa),this._activateParents(e),an.trigger(this._element,Ya,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Ka))mn.findOne(ls,e.closest(ss)).classList.add(Qa);else for(const t of mn.parents(e,ns))for(const e of mn.prev(t,as))e.classList.add(Qa)}_clearActiveClass(e){e.classList.remove(Qa);const t=mn.find(`${ts}.${Qa}`,e);for(const n of t)n.classList.remove(Qa)}static jQueryInterface(e){return this.each((function(){const t=ds.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}an.on(window,Za,(()=>{for(const e of mn.find(es))ds.getOrCreateInstance(e)})),Ft(ds);const hs="tab",fs="bs.tab",ps=`.${fs}`,ms=`hide${ps}`,gs=`hidden${ps}`,vs=`show${ps}`,ys=`shown${ps}`,bs=`click${ps}`,_s=`keydown${ps}`,ws=`load${ps}`,xs="ArrowLeft",Ss="ArrowRight",Es="ArrowUp",Ts="ArrowDown",Ms="active",Cs="fade",As="show",Rs="dropdown",ks=".dropdown-toggle",Os=".dropdown-menu",Ls=":not(.dropdown-toggle)",Is='.list-group, .nav, [role="tablist"]',Ps=".nav-item, .list-group-item",Ds=`.nav-link${Ls}, .list-group-item${Ls}, [role="tab"]${Ls}`,Ns='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Us=`${Ds}, ${Ns}`,Fs=`.${Ms}[data-bs-toggle="tab"], .${Ms}[data-bs-toggle="pill"], .${Ms}[data-bs-toggle="list"]`;class Bs extends fn{constructor(e){super(e),this._parent=this._element.closest(Is),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),an.on(this._element,_s,(e=>this._keydown(e))))}static get NAME(){return hs}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?an.trigger(t,ms,{relatedTarget:e}):null,r=an.trigger(e,vs,{relatedTarget:t});r.defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(Ms),this._activate(mn.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),an.trigger(e,ys,{relatedTarget:t})):e.classList.add(As)};this._queueCallback(n,e,e.classList.contains(Cs))}_deactivate(e,t){if(!e)return;e.classList.remove(Ms),e.blur(),this._deactivate(mn.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),an.trigger(e,gs,{relatedTarget:t})):e.classList.remove(As)};this._queueCallback(n,e,e.classList.contains(Cs))}_keydown(e){if(![xs,Ss,Es,Ts].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=[Ss,Ts].includes(e.key),n=Vt(this._getChildren().filter((e=>!kt(e))),e.target,t,!0);n&&(n.focus({preventScroll:!0}),Bs.getOrCreateInstance(n).show())}_getChildren(){return mn.find(Us,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=mn.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(Rs))return;const r=(e,r)=>{const i=mn.findOne(e,n);i&&i.classList.toggle(r,t)};r(ks,Ms),r(Os,As),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Ms)}_getInnerElement(e){return e.matches(Us)?e:mn.findOne(Us,e)}_getOuterElement(e){return e.closest(Ps)||e}static jQueryInterface(e){return this.each((function(){const t=Bs.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}an.on(document,bs,Ns,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),kt(this)||Bs.getOrCreateInstance(this).show()})),an.on(window,ws,(()=>{for(const e of mn.find(Fs))Bs.getOrCreateInstance(e)})),Ft(Bs);const js="toast",Vs="bs.toast",zs=`.${Vs}`,Hs=`mouseover${zs}`,Ws=`mouseout${zs}`,Gs=`focusin${zs}`,$s=`focusout${zs}`,qs=`hide${zs}`,Xs=`hidden${zs}`,Ys=`show${zs}`,Js=`shown${zs}`,Zs="fade",Ks="hide",Qs="show",el="showing",tl={animation:"boolean",autohide:"boolean",delay:"number"},nl={animation:!0,autohide:!0,delay:5e3};class rl extends fn{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return nl}static get DefaultType(){return tl}static get NAME(){return js}show(){const e=an.trigger(this._element,Ys);if(e.defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Zs);const t=()=>{this._element.classList.remove(el),an.trigger(this._element,Js),this._maybeScheduleHide()};this._element.classList.remove(Ks),It(this._element),this._element.classList.add(Qs,el),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown())return;const e=an.trigger(this._element,qs);if(e.defaultPrevented)return;const t=()=>{this._element.classList.add(Ks),this._element.classList.remove(el,Qs),an.trigger(this._element,Xs)};this._element.classList.add(el),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Qs),super.dispose()}isShown(){return this._element.classList.contains(Qs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t;break}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){an.on(this._element,Hs,(e=>this._onInteraction(e,!0))),an.on(this._element,Ws,(e=>this._onInteraction(e,!1))),an.on(this._element,Gs,(e=>this._onInteraction(e,!0))),an.on(this._element,$s,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=rl.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}gn(rl),Ft(rl);var il,ol=Object.defineProperty,al=(e,t,n)=>t in e?ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sl=(e,t,n)=>(al(e,"symbol"!=typeof t?t+"":t,n),n),ll=Object.defineProperty,cl=Object.defineProperties,ul=Object.getOwnPropertyDescriptors,dl=Object.getOwnPropertySymbols,hl=Object.prototype.hasOwnProperty,fl=Object.prototype.propertyIsEnumerable,pl=(e,t,n)=>t in e?ll(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ml=(e,t)=>{for(var n in t||(t={}))hl.call(t,n)&&pl(e,n,t[n]);if(dl)for(var n of dl(t))fl.call(t,n)&&pl(e,n,t[n]);return e},gl=(e,t)=>cl(e,ul(t));function vl(e,t){var n;const r=(0,i.XI)();return(0,o.m0)((()=>{r.value=e()}),gl(ml({},t),{flush:null!=(n=null==t?void 0:t.flush)?n:"sync"})),(0,i.OT)(r)}const yl=typeof window<"u",bl=e=>"function"==typeof e,_l=e=>"string"==typeof e,wl=()=>{};function xl(e){return"function"==typeof e?e():(0,i.SU)(e)}function Sl(e,t){function n(...n){e((()=>t.apply(this,n)),{fn:t,thisArg:this,args:n})}return n}yl&&(null==(il=null==window?void 0:window.navigator)?void 0:il.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);const El=e=>e();function Tl(e=El){const t=(0,i.iH)(!0);function n(){t.value=!1}function r(){t.value=!0}return{isActive:t,pause:n,resume:r,eventFilter:(...n)=>{t.value&&e(...n)}}}function Ml(e){return e}function Cl(e){return!!(0,i.nZ)()&&((0,i.EB)(e),!0)}function Al(e){return"function"==typeof e?(0,o.Fl)(e):(0,i.iH)(e)}function Rl(e,t=!0){(0,o.FN)()?(0,o.bv)(e):t?e():(0,o.Y3)(e)}function kl(e,t=1e3,n={}){const{immediate:r=!0,immediateCallback:a=!1}=n;let s=null;const l=(0,i.iH)(!1);function c(){s&&(clearInterval(s),s=null)}function u(){l.value=!1,c()}function d(){(0,i.SU)(t)<=0||(l.value=!0,a&&e(),c(),s=setInterval(e,xl(t)))}if(r&&yl&&d(),(0,i.dq)(t)||bl(t)){const e=(0,o.YP)(t,(()=>{l.value&&yl&&d()}));Cl(e)}return Cl(u),{isActive:l,pause:u,resume:d}}var Ol=Object.getOwnPropertySymbols,Ll=Object.prototype.hasOwnProperty,Il=Object.prototype.propertyIsEnumerable,Pl=(e,t)=>{var n={};for(var r in e)Ll.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ol)for(var r of Ol(e))t.indexOf(r)<0&&Il.call(e,r)&&(n[r]=e[r]);return n};function Dl(e,t,n={}){const r=n,{eventFilter:i=El}=r,a=Pl(r,["eventFilter"]);return(0,o.YP)(e,Sl(i,t),a)}var Nl=Object.defineProperty,Ul=Object.defineProperties,Fl=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,Vl=Object.prototype.propertyIsEnumerable,zl=(e,t,n)=>t in e?Nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Hl=(e,t)=>{for(var n in t||(t={}))jl.call(t,n)&&zl(e,n,t[n]);if(Bl)for(var n of Bl(t))Vl.call(t,n)&&zl(e,n,t[n]);return e},Wl=(e,t)=>Ul(e,Fl(t)),Gl=(e,t)=>{var n={};for(var r in e)jl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Bl)for(var r of Bl(e))t.indexOf(r)<0&&Vl.call(e,r)&&(n[r]=e[r]);return n};function $l(e,t,n={}){const r=n,{eventFilter:i}=r,o=Gl(r,["eventFilter"]),{eventFilter:a,pause:s,resume:l,isActive:c}=Tl(i);return{stop:Dl(e,t,Wl(Hl({},o),{eventFilter:a})),pause:s,resume:l,isActive:c}}function ql(e){var t;const n=xl(e);return null!=(t=null==n?void 0:n.$el)?t:n}const Xl=yl?window:void 0;function Yl(...e){let t,n,r,i;if(_l(e[0])||Array.isArray(e[0])?([n,r,i]=e,t=Xl):[t,n,r,i]=e,!t)return wl;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach((e=>e())),a.length=0},l=(e,t,n)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)),c=(0,o.YP)((()=>ql(t)),(e=>{s(),e&&a.push(...n.flatMap((t=>r.map((n=>l(e,t,n))))))}),{immediate:!0,flush:"post"}),u=()=>{c(),s()};return Cl(u),u}function Jl(e,t=!1){const n=(0,i.iH)(),r=()=>n.value=Boolean(e());return r(),Rl(r,t),n}function Zl(e,t={}){const{window:n=Xl}=t,r=Jl((()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia));let a;const s=(0,i.iH)(!1),l=()=>{!a||("removeEventListener"in a?a.removeEventListener("change",c):a.removeListener(c))},c=()=>{!r.value||(l(),a=n.matchMedia(Al(e).value),s.value=a.matches,"addEventListener"in a?a.addEventListener("change",c):a.addListener(c))};return(0,o.m0)(c),Cl((()=>l())),s}const Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},Ql="__vueuse_ssr_handlers__";Kl[Ql]=Kl[Ql]||{};const ec=Kl[Ql];function tc(e,t){return ec[e]||t}function nc(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}var rc=Object.defineProperty,ic=Object.getOwnPropertySymbols,oc=Object.prototype.hasOwnProperty,ac=Object.prototype.propertyIsEnumerable,sc=(e,t,n)=>t in e?rc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lc=(e,t)=>{for(var n in t||(t={}))oc.call(t,n)&&sc(e,n,t[n]);if(ic)for(var n of ic(t))ac.call(t,n)&&sc(e,n,t[n]);return e};const cc={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function uc(e,t,n,r={}){var a;const{flush:s="pre",deep:l=!0,listenToStorageChanges:c=!0,writeDefaults:u=!0,mergeDefaults:d=!1,shallow:h,window:f=Xl,eventFilter:p,onError:m=(e=>{console.error(e)})}=r,g=(h?i.XI:i.iH)(t);if(!n)try{n=tc("getDefaultStorage",(()=>{var e;return null==(e=Xl)?void 0:e.localStorage}))()}catch(T){m(T)}if(!n)return g;const v=xl(t),y=nc(v),b=null!=(a=r.serializer)?a:cc[y],{pause:_,resume:w}=$l(g,(()=>x(g.value)),{flush:s,deep:l,eventFilter:p});return f&&c&&Yl(f,"storage",E),E(),g;function x(t){try{if(null==t)n.removeItem(e);else{const r=b.write(t),i=n.getItem(e);i!==r&&(n.setItem(e,r),f&&(null==f||f.dispatchEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r,storageArea:n}))))}}catch(r){m(r)}}function S(t){const r=t?t.newValue:n.getItem(e);if(null==r)return u&&null!==v&&n.setItem(e,b.write(v)),v;if(!t&&d){const e=b.read(r);return bl(d)?d(e,v):"object"!==y||Array.isArray(e)?e:lc(lc({},v),e)}return"string"!=typeof r?r:b.read(r)}function E(t){if(!t||t.storageArea===n){if(t&&null==t.key)return void(g.value=v);if(!t||t.key===e){_();try{g.value=S(t)}catch(r){m(r)}finally{t?(0,o.Y3)(w):w()}}}}}function dc(e){return Zl("(prefers-color-scheme: dark)",e)}var hc,fc=Object.defineProperty,pc=Object.getOwnPropertySymbols,mc=Object.prototype.hasOwnProperty,gc=Object.prototype.propertyIsEnumerable,vc=(e,t,n)=>t in e?fc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yc=(e,t)=>{for(var n in t||(t={}))mc.call(t,n)&&vc(e,n,t[n]);if(pc)for(var n of pc(t))gc.call(t,n)&&vc(e,n,t[n]);return e};function bc(e={}){const{selector:t="html",attribute:n="class",initialValue:r="auto",window:a=Xl,storage:s,storageKey:l="vueuse-color-scheme",listenToStorageChanges:c=!0,storageRef:u,emitAuto:d}=e,h=yc({auto:"",light:"light",dark:"dark"},e.modes||{}),f=dc({window:a}),p=(0,o.Fl)((()=>f.value?"dark":"light")),m=u||(null==l?(0,i.iH)(r):uc(l,r,s,{window:a,listenToStorageChanges:c})),g=(0,o.Fl)({get(){return"auto"!==m.value||d?m.value:p.value},set(e){m.value=e}}),v=tc("updateHTMLAttrs",((e,t,n)=>{const r=null==a?void 0:a.document.querySelector(e);if(r)if("class"===t){const e=n.split(/\s/g);Object.values(h).flatMap((e=>(e||"").split(/\s/g))).filter(Boolean).forEach((t=>{e.includes(t)?r.classList.add(t):r.classList.remove(t)}))}else r.setAttribute(t,n)}));function y(e){var r;const i="auto"===e?p.value:e;v(t,n,null!=(r=h[i])?r:i)}function b(t){e.onChanged?e.onChanged(t,y):y(t)}return(0,o.YP)(g,b,{flush:"post",immediate:!0}),d&&(0,o.YP)(p,(()=>b(g.value)),{flush:"post"}),Rl((()=>b(g.value))),g}(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(hc||(hc={}));var _c=Object.defineProperty,wc=Object.getOwnPropertySymbols,xc=Object.prototype.hasOwnProperty,Sc=Object.prototype.propertyIsEnumerable,Ec=(e,t,n)=>t in e?_c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tc=(e,t)=>{for(var n in t||(t={}))xc.call(t,n)&&Ec(e,n,t[n]);if(wc)for(var n of wc(t))Sc.call(t,n)&&Ec(e,n,t[n]);return e};const Mc={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Tc({linear:Ml},Mc);const Cc=e=>vl((()=>e.value?`justify-content-${e.value}`:""));class Ac{constructor(e,t={}){if(sl(this,"cancelable",!0),sl(this,"componentId",null),sl(this,"_defaultPrevented",!1),sl(this,"eventType",""),sl(this,"nativeEvent",null),sl(this,"_preventDefault"),sl(this,"relatedTarget",null),sl(this,"target",null),!e)throw new TypeError(`Failed to construct '${this.constructor.name}'. 1 argument required, ${arguments.length} given.`);Object.assign(this,Ac.Defaults,t,{eventType:e}),this._preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)}}get defaultPrevented(){return this._defaultPrevented}set defaultPrevented(e){this._defaultPrevented=e}get preventDefault(){return this._preventDefault}set preventDefault(e){this._preventDefault=e}static get Defaults(){return{cancelable:!0,componentId:null,eventType:"",nativeEvent:null,relatedTarget:null,target:null}}}class Rc extends Ac{constructor(e,t={}){super(e,t),sl(this,"trigger",null),Object.assign(this,Ac.Defaults,t,{eventType:e})}static get Defaults(){return{...super.Defaults,trigger:null}}}const kc=e=>null!==e&&"object"==typeof e,Oc=e=>/^[0-9]*\.?[0-9]+$/.test(String(e)),Lc=e=>"[object Object]"===Object.prototype.toString.call(e),Ic=e=>null===e,Pc=/_/g,Dc=/([a-z])([A-Z])/g,Nc=/(\s|^)(\w)/g,Uc=/(\s|^)(\w)/,Fc=/\s+/,Bc=/^#/,jc=/^#[A-Za-z]+[\w\-:.]*$/,Vc=/-u-.+/,zc=(e,t=2)=>"string"==typeof e?e:null==e?"":Array.isArray(e)||Lc(e)&&e.toString===Object.prototype.toString?JSON.stringify(e,null,t):String(e),Hc=e=>e.replace(Pc," ").replace(Dc,((e,t,n)=>`${t} ${n}`)).replace(Uc,((e,t,n)=>t+n.toUpperCase())),Wc=e=>e.replace(Pc," ").replace(Dc,((e,t,n)=>`${t} ${n}`)).replace(Nc,((e,t,n)=>t+n.toUpperCase())),Gc=e=>{const t=e.trim();return t.charAt(0).toUpperCase()+t.slice(1)},$c=e=>`\\${e}`,qc=e=>{const t=zc(e),{length:n}=t,r=t.charCodeAt(0);return t.split("").reduce(((e,i,o)=>{const a=t.charCodeAt(o);return 0===a?`${e}�`:127===a||a>=1&&a<=31||0===o&&a>=48&&a<=57||1===o&&a>=48&&a<=57&&45===r?e+$c(`${a.toString(16)} `):0===o&&45===a&&1===n?e+$c(i):a>=128||45===a||95===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?e+i:e+$c(i)}),"")},Xc=typeof window<"u",Yc=typeof document<"u",Jc=typeof navigator<"u",Zc=Xc&&Yc&&Jc,Kc=Xc?window:{},Qc=(()=>{let e=!1;if(Zc)try{const t={get passive(){e=!0}};Kc.addEventListener("test",t,t),Kc.removeEventListener("test",t,t)}catch{e=!1}return e})(),eu=typeof window<"u",tu=typeof document<"u",nu=typeof Element<"u",ru=typeof navigator<"u",iu=eu&&tu&&ru,ou=eu?window:{},au=tu?document:{},su=ru?navigator:{},lu=(su.userAgent||"").toLowerCase();lu.indexOf("jsdom"),/msie|trident/.test(lu),(()=>{let e=!1;if(iu)try{const t={get passive(){return e=!0,e}};ou.addEventListener("test",t,t),ou.removeEventListener("test",t,t)}catch{e=!1}})(),iu&&("ontouchstart"in au.documentElement||su.maxTouchPoints),iu&&Boolean(ou.PointerEvent||ou.MSPointerEvent),iu&&"IntersectionObserver"in ou&&"IntersectionObserverEntry"in ou&&ou.IntersectionObserverEntry.prototype;const cu=nu?Element.prototype:void 0,uu=(null==cu?void 0:cu.matches)||(null==cu?void 0:cu.msMatchesSelector)||(null==cu?void 0:cu.webkitMatchesSelector),du=e=>!(!e||e.nodeType!==Node.ELEMENT_NODE),hu=e=>du(e)?e.getBoundingClientRect():null,fu=(e=[])=>{const{activeElement:t}=document;return t&&!e.some((e=>e===t))?t:null},pu=e=>du(e)&&e===fu(),mu=(e,t={})=>{try{e.focus(t)}catch(n){console.error(n)}return pu(e)},gu=(e,t)=>t&&du(e)&&e.getAttribute(t)||null,vu=e=>{if("none"===gu(e,"display"))return!1;const t=hu(e);return!!(t&&t.height>0&&t.width>0)},yu=(e,t)=>!e||e(t).filter((e=>e.type!==o.sv)).length<1,bu=(e,t)=>(du(t)?t:au).querySelector(e)||null,_u=(e,t)=>Array.from([(du(t)?t:au).querySelectorAll(e)]),wu=(e,t)=>t&&du(e)?e.getAttribute(t):null,xu=e=>au.getElementById(/^#/.test(e)?e.slice(1):e)||null,Su=(e,t,n)=>{t&&du(e)&&e.setAttribute(t,n)},Eu=(e,t)=>{t&&du(e)&&e.removeAttribute(t)},Tu=(e,t)=>zc(e).toLowerCase()===zc(t).toLowerCase(),Mu=Xc?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||(e=>setTimeout(e,16)):e=>setTimeout(e,0),Cu=(e,t)=>!!du(e)&&uu.call(e,t),Au=(null==cu?void 0:cu.closest)||function(e){let t=this;if(!t)return null;do{if(Cu(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&t.nodeType===Node.ELEMENT_NODE);return null},Ru=(e,t,n=!1)=>{if(!du(t))return null;const r=Au.call(t,e);return n?r:r===t?null:r},ku=(e,t,n)=>t.concat(["sm","md","lg","xl","xxl"]).reduce(((t,r)=>(t[e?`${e}${r.charAt(0).toUpperCase()+r.slice(1)}`:r]=n,t)),Object.create(null)),Ou=(e,t,n,r=n)=>Object.keys(t).reduce(((t,i)=>(e[i]&&t.push([r,i.replace(n,""),e[i]].filter((e=>e&&"boolean"!=typeof e)).join("-").toLowerCase()),t)),[]),Lu=(e="")=>`__BVID__${Math.random().toString().slice(2,8)}___BV_${e}__`,Iu=(e,t)=>!0===e||"true"===e||""===e?"true":"grammar"===e||"spelling"===e?e:!1===t?"true":!1===e||"false"===e?"false":void 0,Pu=e=>!!e&&"object"==typeof e&&e.constructor===Object,Du=(e,t,n=!0)=>{const r=e instanceof Date&&"function"==typeof e.getMonth?new Date(e.getTime()):Object.assign({},e);return Pu(e)&&Pu(t)&&Object.keys(t).forEach((i=>{Pu(t[i])?i in e?r[i]=Du(e[i],t[i],n):Object.assign(r,{[i]:t[i]}):Array.isArray(t[i])&&Array.isArray(e[i])?Object.assign(r,{[i]:n?e[i].concat(t[i].filter((t=>!e[i].includes(t)))):t[i]}):Object.assign(r,{[i]:t[i]})})),r},Nu=(e,t={},n={})=>{const r=[e];let i;for(let o=0;o<r.length&&!i;o++){const e=r[o];i=n[e]}return i&&"function"==typeof i?i(t):i},Uu=(e,t=NaN)=>Number.isInteger(e)?e:t,Fu=(e,t=NaN)=>{const n=Number.parseInt(e,10);return Number.isNaN(n)?t:n},Bu=(e,t=NaN)=>{const n=Number.parseFloat(e.toString());return Number.isNaN(n)?t:n},ju=(e,t)=>Object.keys(e).filter((e=>!t.includes(e))).reduce(((t,n)=>({...t,[n]:e[n]})),{}),Vu=e=>Array.isArray(e)?e.map((e=>Vu(e))):e instanceof Date?new Date(e.getTime()):e&&"object"==typeof e?Object.getOwnPropertyNames(e).reduce(((t,n)=>{var r;return Object.defineProperty(t,n,null!=(r=Object.getOwnPropertyDescriptor(e,n))?r:{}),t[n]=Vu(e[n]),t}),Object.create(Object.getPrototypeOf(e))):e,zu=e=>new Promise((t=>t(Vu(e)))),Hu=(e,t)=>t+(e?Gc(e):""),Wu=(e,t)=>(Array.isArray(t)?t.slice():Object.keys(t)).reduce(((t,n)=>(t[n]=e[n],t)),{}),Gu=e=>"boolean"==typeof e?e:""===e||"true"===e,$u=e=>!(!e.href&&!e.to);function qu(e){return vl((()=>void 0===e.value||null===e.value?e.value:Gu(e.value)))}const Xu=Symbol(),Yu={items:(0,i.qj)([]),reset(){this.items=(0,i.qj)([])}},Ju=e=>{e.provide(Xu,Yu)},Zu=()=>{var e;return null!=(e=(0,o.f3)(Xu))?e:Yu},Ku=(e,t,n)=>{(0,o.bv)((()=>{var r;null==(r=null==e?void 0:e.value)||r.addEventListener(t,n)})),(0,o.Jd)((()=>{var r;null==(r=null==e?void 0:e.value)||r.removeEventListener(t,n)}))},Qu=e=>(0,o.Fl)((()=>({"form-check":!1===e.plain&&!1===e.button,"form-check-inline":!0===e.inline,"form-switch":!0===e.switch,[`form-control-${e.size}`]:void 0!==e.size&&"md"!==e.size}))),ed=e=>(0,o.Fl)((()=>({"form-check-input":!1===e.plain&&!1===e.button,"is-valid":!0===e.state,"is-invalid":!1===e.state,"btn-check":!0===e.button}))),td=e=>(0,o.Fl)((()=>({"form-check-label":!1===e.plain&&!1===e.button,btn:!0===e.button,[`btn-${e.buttonVariant}`]:!0===e.button&&void 0!==e.buttonVariant,[`btn-${e.size}`]:e.button&&e.size&&"md"!==e.size}))),nd=e=>(0,o.Fl)((()=>({"aria-invalid":Iu(e.ariaInvalid,e.state),"aria-required":!0===e.required||void 0}))),rd=e=>(0,o.Fl)((()=>({"was-validated":!0===e.validated,"btn-group":!0===e.buttons&&!1===e.stacked,"btn-group-vertical":!0===e.stacked,[`btn-group-${e.size}`]:void 0!==e.size}))),id=(e,t,n)=>e.reduce(((e,t)=>"Symbol(Fragment)"===t.type.toString()?e.concat(t.children):e.concat([t])),[]).filter((e=>e.type.__name===t||e.type.name===t)).map((e=>{const t=(e.children.default?e.children.default():[]).find((e=>"Symbol(Text)"===e.type.toString()));return{props:{disabled:n,...e.props},text:t?t.children:""}})),od=(e,t)=>"string"==typeof e?{props:{value:e,disabled:t.disabled},text:e}:{props:{value:e[t.valueField],disabled:t.disabled||e[t.disabledField],...e.props},text:e[t.textField],html:e[t.htmlField]},ad=(e,t,n,r,i)=>({...e,props:{"button-variant":n.buttonVariant,form:n.form,name:r.value,id:`${i.value}_option_${t}`,button:n.buttons,state:n.state,plain:n.plain,size:n.size,inline:!n.stacked,required:n.required,...e.props}}),sd=(e,t)=>(0,o.Fl)((()=>(null==e?void 0:e.value)||Lu(t))),ld={ariaInvalid:{type:[Boolean,String],default:void 0},autocomplete:{type:String,required:!1},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{type:String,required:!1},formatter:{type:Function,required:!1},id:{type:String,required:!1},lazy:{type:Boolean,default:!1},lazyFormatter:{type:Boolean,default:!1},list:{type:String,required:!1},modelValue:{type:[String,Number],default:""},name:{type:String,required:!1},number:{type:Boolean,default:!1},placeholder:{type:String,required:!1},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,required:!1},state:{type:Boolean,default:null},trim:{type:Boolean,default:!1}},cd=(e,t)=>{const n=(0,i.iH)();let r=null,a=!0;const s=sd((0,i.Vh)(e,"id"),"input"),l=(t,n,r=!1)=>(t=String(t),"function"!=typeof e.formatter||e.lazyFormatter&&!r?t:(a=!1,e.formatter(t,n))),c=t=>e.trim?t.trim():e.number?Number.parseFloat(t):t,u=()=>{(0,o.Y3)((()=>{var t;e.autofocus&&(null==(t=n.value)||t.focus())}))};(0,o.bv)(u),(0,o.bv)((()=>{n.value&&(n.value.value=e.modelValue)})),(0,o.dl)(u);const d=(0,o.Fl)((()=>{var t;return Iu(e.ariaInvalid,null!=(t=e.state)?t:void 0)})),h=n=>{const{value:i}=n.target,o=l(i,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(e.lazy)return;const a=c(o);e.modelValue!==a&&(r=i,t("update:modelValue",a)),t("input",o)},f=n=>{const{value:i}=n.target,o=l(i,n);if(!1===o||n.defaultPrevented)return void n.preventDefault();if(!e.lazy)return;r=i,t("update:modelValue",o);const a=c(o);e.modelValue!==a&&t("change",o)},p=n=>{if(t("blur",n),!e.lazy&&!e.lazyFormatter)return;const{value:i}=n.target,o=l(i,n,!0);r=i,t("update:modelValue",o)},m=()=>{var t;e.disabled||null==(t=n.value)||t.focus()},g=()=>{var t;e.disabled||null==(t=n.value)||t.blur()};return(0,o.YP)((()=>e.modelValue),(e=>{!n.value||(n.value.value=r&&a?r:e,r=null,a=!0)})),{input:n,computedId:s,computedAriaInvalid:d,onInput:h,onChange:f,onBlur:p,focus:m,blur:g}},ud=(e,t)=>{if(!e)return e;if(t in e)return e[t];const n=t.split(".");return ud(e[n[0]],n.splice(1).join("."))},dd=(e,t=null,n,r)=>{if("[object Object]"===Object.prototype.toString.call(e)){const i=ud(e,r.valueField),o=ud(e,r.textField),a=ud(e,r.htmlField),s=ud(e,r.disabledField),l=e[r.optionsField]||null;return null!==l?{label:String(ud(e,r.labelField)||o),options:hd(l,n,r)}:{value:typeof i>"u"?t||o:i,text:String(typeof o>"u"?t:o),html:a,disabled:Boolean(s)}}return{value:t||e,text:String(e),disabled:!1}},hd=(e,t,n)=>Array.isArray(e)?e.map((e=>dd(e,null,t,n))):"[object Object]"===Object.prototype.toString.call(e)?(console.warn(`[BootstrapVue warn]: ${t} - Setting prop "options" to an object is deprecated. Use the array format instead.`),Object.keys(e).map((r=>{const i=e[r];switch(typeof i){case"object":return dd(i.text,String(i.value),t,n);default:return dd(i,String(r),t,n)}}))):[],fd=(e=!1,t={})=>{var n,r;const i="data-bs-theme",o="body";return bc({attribute:i,selector:o,storageKey:e?`${null!=(n=t.attribute)?n:i}-${null!=(r=t.selector)?r:o}`:null,...t})},pd=["id"],md=Symbol(),gd=(0,o.aZ)({__name:"BAccordion",props:{flush:{default:!1},free:{default:!1},id:null},setup(e){const t=e,n=sd((0,i.Vh)(t,"id"),"accordion"),r=qu((0,i.Vh)(t,"flush")),s=qu((0,i.Vh)(t,"free")),l=(0,o.Fl)((()=>({"accordion-flush":r.value})));return s.value||(0,o.JJ)(md,n.value),(e,t)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(n),class:(0,a.C_)(["accordion",(0,i.SU)(l)])},[(0,o.WI)(e.$slots,"default")],10,pd))}}),vd=(0,o.aZ)({__name:"BCollapse",props:{accordion:null,id:{default:Lu()},modelValue:{default:!1},tag:{default:"div"},toggle:{default:!1},visible:{default:!1},isNav:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"modelValue")),s=qu((0,i.Vh)(n,"toggle")),l=qu((0,i.Vh)(n,"visible")),c=qu((0,i.Vh)(n,"isNav")),u=(0,i.iH)(),d=(0,i.iH)(),h=(0,o.Fl)((()=>({show:r.value,"navbar-collapse":c.value}))),f=()=>t("update:modelValue",!1);return(0,o.YP)((()=>r.value),(e=>{var t,n;e?null==(t=d.value)||t.show():null==(n=d.value)||n.hide()})),(0,o.YP)((()=>l.value),(e=>{var n,r;e?(t("update:modelValue",!!e),null==(n=d.value)||n.show()):(t("update:modelValue",!!e),null==(r=d.value)||r.hide())})),Ku(u,"show.bs.collapse",(()=>{t("show"),t("update:modelValue",!0)})),Ku(u,"hide.bs.collapse",(()=>{t("hide"),t("update:modelValue",!1)})),Ku(u,"shown.bs.collapse",(()=>t("shown"))),Ku(u,"hidden.bs.collapse",(()=>t("hidden"))),(0,o.bv)((()=>{var e;d.value=new Zr(u.value,{parent:n.accordion?`#${n.accordion}`:void 0,toggle:s.value}),(l.value||r.value)&&(t("update:modelValue",!0),null==(e=d.value)||e.show())})),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,ref_key:"element",ref:u,class:(0,a.C_)(["collapse",(0,i.SU)(h)]),"data-bs-parent":e.accordion||null,"is-nav":(0,i.SU)(c)},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{visible:(0,i.SU)(r),close:f})])),_:3},8,["id","class","data-bs-parent","is-nav"]))}}),yd=(e,t)=>e.setAttribute("data-bs-theme",t),bd={mounted(e,t){yd(e,t.value)},updated(e,t){yd(e,t.value)}},_d={mounted(e,t){const n=t.modifiers.left?"left":t.modifiers.right?"right":t.modifiers.bottom?"bottom":t.modifiers.top?"top":"right",r=[];t.modifiers.manual?r.push("manual"):(t.modifiers.click&&r.push("click"),t.modifiers.hover&&r.push("hover"),t.modifiers.focus&&r.push("focus")),e.setAttribute("data-bs-toggle","popover"),new Wa(e,{trigger:0===r.length?"click":r.join(" "),placement:n,content:t.value,html:t.modifiers.html})},unmounted(e){const t=Wa.getInstance(e);null!==t&&t.dispose()}},wd=e=>{if(e.classList.contains("offcanvas"))return"offcanvas";if(e.classList.contains("collapse"))return"collapse";throw Error("Couldn't resolve toggle type")},xd=(e,t)=>{const{modifiers:n,arg:r,value:i}=e,o=Object.keys(n||{}),a="string"==typeof i?i.split(Fc):i;if(Tu(t.tagName,"a")){const e=wu(t,"href")||"";jc.test(e)&&o.push(e.replace(Bc,""))}return Array.prototype.concat.apply([],[r,a]).forEach((e=>"string"==typeof e&&o.push(e))),o.filter(((e,t,n)=>e&&n.indexOf(e)===t))},Sd={mounted(e,t){const n=xd(t,e),r=[],i="a"===e.tagName?"href":"data-bs-target";n.forEach((t=>{const n=document.getElementById(t);null!==n&&(e.setAttribute("data-bs-toggle",wd(n)),r.push(`#${t}`))})),r.length>0&&e.setAttribute(i,r.join(","))}},Ed=(e,t)=>{if(null!=t&&t.trigger)return t.trigger;if(e.manual)return"manual";const n=[];return e.click&&n.push("click"),e.hover&&n.push("hover"),e.focus&&n.push("focus"),n.length>0?n.join(" "):"hover focus"},Td=(e,t)=>null!=t&&t.placement?t.placement:e.left?"left":e.right?"right":e.bottom?"bottom":"top",Md=e=>null!=e&&e.delay?e.delay:0,Cd=e=>typeof e>"u"?(console.warn("Review tooltip directive usage. Some uses are not defining a title in root component or a value like `v-b-tooltip='{title: \"my title\"}'` nor `v-b-tooltip=\"'my title'\"` to define a title"),""):"object"==typeof e?null==e?void 0:e.title:e,Ad={beforeMount(e,t){e.setAttribute("data-bs-toggle","tooltip"),e.getAttribute("title")||e.setAttribute("title",Cd(t.value).toString());const n=/<("[^"]*"|'[^']*'|[^'">])*>/.test(e.title),r=Ed(t.modifiers,t.value),i=Td(t.modifiers,t.value),o=Md(t.value),a=e.getAttribute("title");new Fa(e,{trigger:r,placement:i,delay:o,html:n}),a&&e.setAttribute("data-bs-original-title",a)},updated(e,t){e.getAttribute("title")||e.setAttribute("title",Cd(t.value).toString());const n=e.getAttribute("title"),r=e.getAttribute("data-bs-original-title"),i=Fa.getInstance(e);e.removeAttribute("title"),n&&n!==r&&(null==i||i.setContent({".tooltip-inner":n}),e.setAttribute("data-bs-original-title",n))},unmounted(e){const t=Fa.getInstance(e);null!==t&&t.dispose()}},Rd=new Map;class kd{constructor(e,t,n,r,i){sl(this,"element"),sl(this,"margin"),sl(this,"once"),sl(this,"callback"),sl(this,"instance"),sl(this,"observer"),sl(this,"doneOnce"),sl(this,"visible"),this.element=e,this.margin=t,this.once=n,this.callback=r,this.instance=i,this.createObserver()}createObserver(){if(this.observer&&this.stop(),!this.doneOnce&&"function"==typeof this.callback){try{this.observer=new IntersectionObserver(this.handler.bind(this),{root:null,rootMargin:this.margin,threshold:0})}catch{return console.error("Intersection Observer not supported"),this.doneOnce=!0,this.observer=void 0,void this.callback(null)}this.instance.$nextTick((()=>{this.observer&&this.observer.observe(this.element)}))}}handler(e){const[t]=e,n=Boolean(t.isIntersecting||t.intersectionRatio>0);n!==this.visible&&(this.visible=n,this.callback(n),this.once&&this.visible&&(this.doneOnce=!0,this.stop()))}stop(){this.observer&&this.observer.disconnect(),this.observer=null}}const Od=e=>{if(Rd.has(e)){const t=Rd.get(e);t&&t.stop&&t.stop(),Rd.delete(e)}},Ld=(e,t)=>{const n={margin:"0px",once:!1,callback:t.value};Object.keys(t.modifiers).forEach((e=>{Number.isInteger(e)?n.margin=`${e}px`:"once"===e.toLowerCase()&&(n.once=!0)})),Od(e);const r=new kd(e,n.margin,n.once,n.callback,t.instance);Rd.set(e,r)},Id={beforeMount(e,t){Ld(e,t)},updated(e,t){Ld(e,t)},unmounted(e){Od(e)}},Pd={class:"accordion-item"},Dd=["id"],Nd=["aria-expanded","aria-controls"],Ud={class:"accordion-body"},Fd=(0,o.aZ)({__name:"BAccordionItem",props:{id:null,title:null,visible:{default:!1}},setup(e){const t=e,n=(0,o.f3)(md,""),r=sd((0,i.Vh)(t,"id"),"accordion_item"),s=qu((0,i.Vh)(t,"visible"));return(t,l)=>((0,o.wg)(),(0,o.iD)("div",Pd,[(0,o._)("h2",{id:`${(0,i.SU)(r)}heading`,class:"accordion-header"},[(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",{class:(0,a.C_)(["accordion-button",{collapsed:!(0,i.SU)(s)}]),type:"button","aria-expanded":(0,i.SU)(s)?"true":"false","aria-controls":(0,i.SU)(r)},[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,a.zw)(e.title),1)]))],10,Nd)),[[(0,i.SU)(Sd),void 0,(0,i.SU)(r)]])],8,Dd),(0,o.Wm)(vd,{id:(0,i.SU)(r),class:"accordion-collapse",visible:e.visible,accordion:(0,i.SU)(n),"aria-labelledby":`heading${(0,i.SU)(r)}`},{default:(0,o.w5)((()=>[(0,o._)("div",Ud,[(0,o.WI)(t.$slots,"default")])])),_:3},8,["id","visible","accordion","aria-labelledby"])]))}}),Bd=(0,o.aZ)({__name:"BTransition",props:{appear:{default:!1},mode:null,noFade:{default:!1},transProps:null},setup(e){const t=e,n=qu((0,i.Vh)(t,"appear")),r=qu((0,i.Vh)(t,"noFade")),l=(0,o.Fl)((()=>{const e={name:"",enterActiveClass:"",enterToClass:"",leaveActiveClass:"",leaveToClass:"showing",enterFromClass:"showing",leaveFromClass:""},t={...e,enterActiveClass:"fade showing",leaveActiveClass:"fade showing"};return r.value?e:t})),c=(0,o.Fl)((()=>({mode:t.mode,css:!0,...l.value}))),u=(0,o.Fl)((()=>void 0!==t.transProps?{...c.value,...t.transProps}:n.value?{...c.value,appear:!0,appearActiveClass:l.value.enterActiveClass,appearToClass:l.value.enterToClass}:c.value));return(e,t)=>((0,o.wg)(),(0,o.j4)(s.uT,(0,a.vs)((0,o.F4)((0,i.SU)(u))),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16))}}),jd=["type","disabled","aria-label"],Vd=(0,o.aZ)({__name:"BCloseButton",props:{ariaLabel:{default:"Close"},disabled:{default:!1},white:{default:!1},type:{default:"button"}},emits:["click"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"disabled")),s=qu((0,i.Vh)(n,"white")),l=(0,o.Fl)((()=>({"btn-close-white":s.value})));return(n,s)=>((0,o.wg)(),(0,o.iD)("button",{type:e.type,class:(0,a.C_)(["btn-close",(0,i.SU)(l)]),disabled:(0,i.SU)(r),"aria-label":e.ariaLabel,onClick:s[0]||(s[0]=e=>t("click",e))},null,10,jd))}}),zd={key:0,class:"visually-hidden"},Hd=(0,o.aZ)({__name:"BSpinner",props:{label:null,role:{default:"status"},small:{default:!1},tag:{default:"span"},type:{default:"border"},variant:null},setup(e){const t=e,n=(0,o.Rr)(),r=qu((0,i.Vh)(t,"small")),s=(0,o.Fl)((()=>({"spinner-border":"border"===t.type,"spinner-border-sm":"border"===t.type&&r.value,"spinner-grow":"grow"===t.type,"spinner-grow-sm":"grow"===t.type&&r.value,[`text-${t.variant}`]:void 0!==t.variant}))),l=(0,o.Fl)((()=>!yu(n.label)));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)((0,i.SU)(s)),role:e.label||(0,i.SU)(l)?e.role:null,"aria-hidden":!e.label&&!(0,i.SU)(l)||null},{default:(0,o.w5)((()=>[e.label||(0,i.SU)(l)?((0,o.wg)(),(0,o.iD)("span",zd,[(0,o.WI)(t.$slots,"label",{},(()=>[(0,o.Uk)((0,a.zw)(e.label),1)]))])):(0,o.kq)("",!0)])),_:3},8,["class","role","aria-hidden"]))}}),Wd={active:{type:[Boolean,String],default:!1},activeClass:{type:String,default:"router-link-active"},append:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},event:{type:[String,Array],default:"click"},exact:{type:[Boolean,String],default:!1},exactActiveClass:{type:String,default:"router-link-exact-active"},href:{type:String},rel:{type:String,default:null},replace:{type:[Boolean,String],default:!1},routerComponentName:{type:String,default:"router-link"},routerTag:{type:String,default:"a"},target:{type:String,default:"_self"},to:{type:[String,Object],default:null}},Gd=(0,o.aZ)({props:Wd,emits:["click"],setup(e,{emit:t,attrs:n}){const r=qu((0,i.Vh)(e,"active")),a=qu((0,i.Vh)(e,"append")),s=qu((0,i.Vh)(e,"disabled")),l=qu((0,i.Vh)(e,"exact")),c=qu((0,i.Vh)(e,"replace")),u=(0,o.FN)(),d=(0,i.iH)(null),h=(0,o.Fl)((()=>{const t=e.routerComponentName.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return void 0===(null==u?void 0:u.appContext.app.component(t))||s.value||!e.to?"a":e.routerComponentName})),f=(0,o.Fl)((()=>{const t="#";if(e.href)return e.href;if("string"==typeof e.to)return e.to||t;const n=e.to;if("[object Object]"===Object.prototype.toString.call(n)&&(n.path||n.query||n.hash)){const e=n.path||"",r=n.query?`?${Object.keys(n.query).map((e=>`${e}=${n.query[e]}`)).join("=")}`:"",i=n.hash&&"#"!==n.hash.charAt(0)?`#${n.hash}`:n.hash||"";return`${e}${r}${i}`||t}return t})),p=(0,o.Fl)((()=>({to:e.to,href:f.value,target:e.target,rel:"_blank"===e.target&&null===e.rel?"noopener":e.rel||null,tabindex:s.value?"-1":typeof n.tabindex>"u"?null:n.tabindex,"aria-disabled":s.value?"true":null})));return{computedLinkClasses:(0,o.Fl)((()=>({active:r.value,disabled:s.value}))),tag:h,routerAttr:p,link:d,clicked:e=>{if(s.value)return e.preventDefault(),void e.stopImmediatePropagation();t("click",e)},activeBoolean:r,appendBoolean:a,disabledBoolean:s,replaceBoolean:c,exactBoolean:l}}}),$d=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};function qd(e,t,n,r,i,a){return"router-link"===e.tag?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({key:0},e.routerAttr,{custom:""}),{default:(0,o.w5)((({href:t,navigate:n,isActive:r,isExactActive:i})=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.routerTag),(0,o.dG)({ref:"link",href:t,class:[(r||e.activeBoolean)&&e.activeClass,(i||e.exactBoolean)&&e.exactActiveClass]},e.$attrs,{onClick:n}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:2},1040,["href","class","onClick"]))])),_:3},16)):((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({key:1,ref:"link",class:e.computedLinkClasses},e.routerAttr,{onClick:e.clicked}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class","onClick"]))}const Xd=$d(Gd,[["render",qd]]),Yd=(0,o.aZ)({components:{BLink:Xd,BSpinner:Hd},props:{...Wd,active:{type:[Boolean,String],default:!1},disabled:{type:[Boolean,String],default:!1},href:{type:String,required:!1},pill:{type:[Boolean,String],default:!1},pressed:{type:[Boolean,String],default:!1},rel:{type:String,default:void 0},size:{type:String,default:"md"},squared:{type:[Boolean,String],default:!1},tag:{type:String,default:"button"},target:{type:String,default:"_self"},type:{type:String,default:"button"},variant:{type:String,default:"secondary"},loading:{type:[Boolean,String],default:!1},loadingMode:{type:String,default:"inline"}},emits:["click","update:pressed"],setup(e,{emit:t}){const n=qu((0,i.Vh)(e,"active")),r=qu((0,i.Vh)(e,"disabled")),a=qu((0,i.Vh)(e,"pill")),s=qu((0,i.Vh)(e,"pressed")),l=qu((0,i.Vh)(e,"squared")),c=qu((0,i.Vh)(e,"loading")),u=(0,o.Fl)((()=>!0===s.value)),d=(0,o.Fl)((()=>"button"===e.tag&&void 0===e.href&&null===e.to)),h=(0,o.Fl)((()=>$u(e))),f=(0,o.Fl)((()=>null!==e.to)),p=(0,o.Fl)((()=>void 0===e.href&&!d.value)),m=(0,o.Fl)((()=>[[`btn-${e.variant}`],[`btn-${e.size}`],{active:n.value||s.value,"rounded-pill":a.value,"rounded-0":l.value,disabled:r.value}])),g=(0,o.Fl)((()=>({"aria-disabled":p.value?r.value:null,"aria-pressed":u.value?s.value:null,autocomplete:u.value?"off":null,disabled:d.value?r.value:null,href:e.href,rel:h.value?e.rel:null,role:p.value||h.value?"button":null,target:h.value?e.target:null,type:d.value?e.type:null,to:d.value?null:e.to,append:h.value?e.append:null,activeClass:f.value?e.activeClass:null,event:f.value?e.event:null,exact:f.value?e.exact:null,exactActiveClass:f.value?e.exactActiveClass:null,replace:f.value?e.replace:null,routerComponentName:f.value?e.routerComponentName:null,routerTag:f.value?e.routerTag:null}))),v=(0,o.Fl)((()=>f.value?Xd:e.href?"a":e.tag));return{computedClasses:m,computedAttrs:g,computedTag:v,clicked:e=>{if(r.value)return e.preventDefault(),void e.stopPropagation();t("click",e),u.value&&t("update:pressed",!s.value)},loadingBoolean:c}}});function Jd(e,t,n,r,i,s){const l=(0,o.up)("b-spinner");return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:["btn",e.computedClasses]},e.computedAttrs,{onClick:e.clicked}),{default:(0,o.w5)((()=>[e.loadingBoolean?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["btn-loading",{"mode-fill":"fill"===e.loadingMode,"mode-inline":"inline"===e.loadingMode}])},[(0,o.WI)(e.$slots,"loading",{},(()=>[(0,o.Wm)(l,{class:"btn-spinner",small:"lg"!==e.size},null,8,["small"])]))],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,a.C_)(["btn-content",{"btn-loading-fill":e.loadingBoolean&&"fill"===e.loadingMode}])},[(0,o.WI)(e.$slots,"default")],2)])),_:3},16,["class","onClick"])}const Zd=$d(Yd,[["render",Jd]]),Kd=(e,t=(0,i.iH)(1e3),n={})=>{const r=(0,i.iH)(!1),a=(0,i.iH)(0),s=(0,i.iH)(xl(e)),l=(0,i.iH)(xl(t)),c=(0,o.Fl)((()=>Math.ceil(s.value/l.value))),u=(0,o.Fl)((()=>f.value||r.value?Math.round(s.value-a.value*l.value):0)),{pause:d,resume:h,isActive:f}=kl((()=>a.value=a.value+1),t,n),p=()=>{r.value=!1,a.value=0,h()},m=()=>{r.value=!1,a.value=c.value};(0,o.m0)((()=>{const t=xl(e),n=s.value;t!==n&&(s.value=t,m(),p())})),(0,o.m0)((()=>{const e=xl(t),n=l.value;e!==n&&(l.value=e,m(),p())})),(0,o.m0)((()=>{a.value>c.value&&(a.value=c.value),a.value===c.value&&d()}));const g=()=>{!1!==f.value&&(r.value=!0,d())},v=()=>{a.value!==c.value&&(r.value=!1,h())};return{isActive:(0,i.OT)(f),isPaused:(0,i.OT)(r),restart:p,stop:m,pause:g,resume:v,value:u}},Qd=(0,o.aZ)({__name:"BAlert",props:{dismissLabel:{default:"Close"},dismissible:{default:!1},fade:{default:!1},modelValue:{type:[Boolean,Number],default:!1},variant:{default:"info"},closeContent:null,immediate:{default:!0},interval:{default:1e3},showOnPause:{default:!0}},emits:["closed","close-countdown","update:modelValue"],setup(e,{expose:t,emit:n}){const r=e,s=qu((0,i.Vh)(r,"dismissible")),l=qu((0,i.Vh)(r,"fade")),c=qu((0,i.Vh)(r,"immediate")),u=qu((0,i.Vh)(r,"showOnPause")),d=(0,o.Rr)(),h=(0,o.Fl)((()=>!yu(d.close))),f=(0,o.Fl)((()=>[[`alert-${r.variant}`],{"alert-dismissible":s.value}])),{isActive:p,pause:m,restart:g,resume:v,stop:y,isPaused:b,value:_}=Kd("boolean"==typeof r.modelValue?0:(0,i.Vh)(r,"modelValue"),(0,i.Vh)(r,"interval"),{immediate:"number"==typeof r.modelValue&&c.value}),w=(0,o.Fl)((()=>"boolean"==typeof r.modelValue?r.modelValue:p.value||u.value&&b.value));(0,o.m0)((()=>n("close-countdown",_.value)));const x=()=>{"boolean"==typeof r.modelValue?n("update:modelValue",!1):(n("update:modelValue",0),y()),n("closed")};return(0,o.Jd)((()=>y())),t({pause:m,resume:v,restart:g,stop:y}),(t,n)=>((0,o.wg)(),(0,o.j4)(Bd,{"no-fade":!(0,i.SU)(l),"trans-props":{enterToClass:"show"}},{default:(0,o.w5)((()=>[(0,i.SU)(w)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["alert",(0,i.SU)(f)]),role:"alert","aria-live":"polite","aria-atomic":"true"},[(0,o.WI)(t.$slots,"default"),(0,i.SU)(s)?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,i.SU)(h)||e.closeContent?((0,o.wg)(),(0,o.j4)(Zd,{key:0,type:"button",onClick:x},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"close",{},(()=>[(0,o.Uk)((0,a.zw)(e.closeContent),1)]))])),_:3})):((0,o.wg)(),(0,o.j4)(Vd,{key:1,"aria-label":e.dismissLabel,onClick:x},null,8,["aria-label"]))],64)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0)])),_:3},8,["no-fade"]))}}),eh=Symbol(),th=(0,o.aZ)({__name:"BAvatarGroup",props:{overlap:{default:.3},rounded:{type:[Boolean,String],default:!1},size:null,square:{default:!1},tag:{default:"div"},variant:null},setup(e){const t=e,n=qu((0,i.Vh)(t,"square")),r=(0,o.Fl)((()=>oh(t.size))),s=(0,o.Fl)((()=>Math.min(Math.max(c(t.overlap),0),1)/2)),l=(0,o.Fl)((()=>{const e=r.value?`calc(${r.value} * ${s.value})`:null;return e?{paddingLeft:e,paddingRight:e}:{}})),c=e=>"string"==typeof e&&Oc(e)?Bu(e,0):e||0;return(0,o.JJ)(eh,{overlapScale:s,size:t.size,square:n.value,rounded:t.rounded,variant:t.variant}),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"b-avatar-group",role:"group"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:"b-avatar-group-inner",style:(0,a.j5)((0,i.SU)(l))},[(0,o.WI)(t.$slots,"default")],4)])),_:3}))}}),nh={key:0,class:"b-avatar-custom"},rh={key:1,class:"b-avatar-img"},ih=["src","alt"],oh=e=>{const t="string"==typeof e&&Oc(e)?Bu(e,0):e;return"number"==typeof t?`${t}px`:t||null},ah=(0,o.aZ)({__name:"BAvatar",props:{alt:{default:"avatar"},ariaLabel:null,badge:{type:[Boolean,String],default:!1},badgeLeft:{default:!1},badgeOffset:null,badgeTop:{default:!1},badgeVariant:{default:"primary"},button:{default:!1},buttonType:{default:"button"},disabled:{default:!1},icon:null,rounded:{type:[Boolean,String],default:"circle"},size:null,square:{default:!1},src:null,text:null,textVariant:null,variant:{default:"secondary"}},emits:["click","img-error"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),s=(0,o.f3)(eh,null),l=["sm",null,"lg"],c=.4,u=.7*c,d=qu((0,i.Vh)(n,"badgeLeft")),h=qu((0,i.Vh)(n,"badgeTop")),f=qu((0,i.Vh)(n,"button")),p=qu((0,i.Vh)(n,"disabled")),m=qu((0,i.Vh)(n,"square")),g=(0,o.Fl)((()=>!yu(r.default))),v=(0,o.Fl)((()=>!yu(r.badge))),y=(0,o.Fl)((()=>!!n.badge||""===n.badge||v.value)),b=(0,o.Fl)((()=>null!=s&&s.size?s.size:oh(n.size))),_=(0,o.Fl)((()=>null!=s&&s.variant?s.variant:n.variant)),w=(0,o.Fl)((()=>null!=s&&s.rounded?s.rounded:n.rounded)),x=(0,o.Fl)((()=>({type:f.value?n.buttonType:void 0,"aria-label":n.ariaLabel||null,disabled:p.value||null}))),S=(0,o.Fl)((()=>[`bg-${n.badgeVariant}`])),E=(0,o.Fl)((()=>!0===n.badge?"":n.badge)),T=(0,o.Fl)((()=>[[`text-${I(n.badgeVariant)}`]])),M=(0,o.Fl)((()=>({[`b-avatar-${n.size}`]:!!n.size&&-1!==l.indexOf(oh(n.size)),[`bg-${_.value}`]:!!_.value,badge:!f.value&&_.value&&g.value,rounded:""===w.value||!0===w.value,["rounded-circle"]:!m.value&&"circle"===w.value,["rounded-0"]:m.value||"0"===w.value,["rounded-1"]:!m.value&&"sm"===w.value,["rounded-3"]:!m.value&&"lg"===w.value,["rounded-top"]:!m.value&&"top"===w.value,["rounded-bottom"]:!m.value&&"bottom"===w.value,["rounded-start"]:!m.value&&"left"===w.value,["rounded-end"]:!m.value&&"right"===w.value,btn:f.value,[`btn-${_.value}`]:!!f.value&&!!_.value}))),C=(0,o.Fl)((()=>[[`text-${n.textVariant||I(_.value)}`]])),A=(0,o.Fl)((()=>{const e=n.badgeOffset||"0px";return{fontSize:(-1===l.indexOf(b.value||null)?`calc(${b.value} * ${u})`:"")||"",top:h.value?e:"",bottom:h.value?"":e,left:d.value?e:"",right:d.value?"":e}})),R=(0,o.Fl)((()=>{const e=-1===l.indexOf(b.value||null)?`calc(${b.value} * ${c})`:null;return e?{fontSize:e}:{}})),k=(0,o.Fl)((()=>{var e;const t=(null==(e=null==s?void 0:s.overlapScale)?void 0:e.value)||0,n=b.value&&t?`calc(${b.value} * -${t})`:null;return n?{marginLeft:n,marginRight:n}:{}})),O=(0,o.Fl)((()=>f.value?"button":"span")),L=(0,o.Fl)((()=>({...k.value,width:b.value,height:b.value}))),I=e=>"light"===e||"warning"===e?"dark":"light",P=e=>{!p.value&&f.value&&t("click",e)},D=e=>t("img-error",e);return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(O)),(0,o.dG)({class:["b-avatar",(0,i.SU)(M)],style:(0,i.SU)(L)},(0,i.SU)(x),{onClick:P}),{default:(0,o.w5)((()=>[(0,i.SU)(g)?((0,o.wg)(),(0,o.iD)("span",nh,[(0,o.WI)(t.$slots,"default")])):e.src?((0,o.wg)(),(0,o.iD)("span",rh,[(0,o._)("img",{src:e.src,alt:e.alt,onError:D},null,40,ih)])):e.text?((0,o.wg)(),(0,o.iD)("span",{key:2,class:(0,a.C_)(["b-avatar-text",(0,i.SU)(C)]),style:(0,a.j5)((0,i.SU)(R))},(0,a.zw)(e.text),7)):(0,o.kq)("",!0),(0,i.SU)(y)?((0,o.wg)(),(0,o.iD)("span",{key:3,class:(0,a.C_)(["b-avatar-badge",(0,i.SU)(S)]),style:(0,a.j5)((0,i.SU)(A))},[(0,i.SU)(v)?(0,o.WI)(t.$slots,"badge",{key:0}):((0,o.wg)(),(0,o.iD)("span",{key:1,class:(0,a.C_)((0,i.SU)(T))},(0,a.zw)((0,i.SU)(E)),3))],6)):(0,o.kq)("",!0)])),_:3},16,["class","style"]))}}),sh=ju(Wd,["event","routerTag"]),lh=(0,o.aZ)({components:{BLink:Xd},props:{pill:{type:[Boolean,String],default:!1},tag:{type:String,default:"span"},variant:{type:String,default:"secondary"},textIndicator:{type:[Boolean,String],default:!1},dotIndicator:{type:[Boolean,String],default:!1},...sh},setup(e){const t=qu((0,i.Vh)(e,"pill")),n=qu((0,i.Vh)(e,"textIndicator")),r=qu((0,i.Vh)(e,"dotIndicator")),a=qu((0,i.Vh)(e,"active")),s=qu((0,i.Vh)(e,"disabled")),l=(0,o.Fl)((()=>$u(e))),c=(0,o.Fl)((()=>l.value?Xd:e.tag)),u=(0,o.Fl)((()=>[[`bg-${e.variant}`],{active:a.value,disabled:s.value,"text-dark":["warning","info","light"].includes(e.variant),"rounded-pill":t.value,"position-absolute top-0 start-100 translate-middle":n.value||r.value,"p-2 border border-light rounded-circle":r.value,"text-decoration-none":l.value}])),d=(0,o.Fl)((()=>l.value?Wu(e,sh):{}));return{computedClasses:u,computedLinkProps:d,computedTag:c}}});function ch(e,t,n,r,i,a){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:["badge",e.computedClasses]},e.computedLinkProps),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class"])}const uh=$d(lh,[["render",ch]]),dh=ju(Wd,["event","routerTag"]),hh=(0,o.aZ)({components:{BLink:Xd},props:{...dh,active:{type:[Boolean,String],default:!1},ariaCurrent:{type:String,default:"location"},disabled:{type:[Boolean,String],default:!1},text:{type:String,required:!1}},emits:["click"],setup(e,{emit:t}){const n=qu((0,i.Vh)(e,"active")),r=qu((0,i.Vh)(e,"disabled")),a=(0,o.Fl)((()=>({active:n.value}))),s=(0,o.Fl)((()=>n.value?"span":Xd)),l=(0,o.Fl)((()=>n.value?e.ariaCurrent:void 0));return{computedLinkProps:(0,o.Fl)((()=>"span"!==s.value?Wu(e,dh):{})),computedClasses:a,computedTag:s,computedAriaCurrent:l,clicked:e=>{if(r.value||n.value)return e.preventDefault(),void e.stopImmediatePropagation();r.value||t("click",e)}}}});function fh(e,t,n,r,i,s){return(0,o.wg)(),(0,o.iD)("li",{class:(0,a.C_)(["breadcrumb-item",e.computedClasses])},[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({"aria-current":e.computedAriaCurrent},e.computedLinkProps,{onClick:e.clicked}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},16,["aria-current","onClick"]))],2)}const ph=$d(hh,[["render",fh]]),mh={"aria-label":"breadcrumb"},gh={class:"breadcrumb"},vh=(0,o.aZ)({__name:"BBreadcrumb",props:{items:null},setup(e){const t=e,n=Zu(),r=(0,o.Fl)((()=>{const e=t.items||(null==n?void 0:n.items)||[];let r=!1;return e.map(((t,n)=>("string"==typeof t&&(t={text:t},n<e.length-1&&(t.href="#")),t.active&&(r=!0),!t.active&&!r&&(t.active=n+1===e.length),t)))}));return(e,t)=>((0,o.wg)(),(0,o.iD)("nav",mh,[(0,o._)("ol",gh,[(0,o.WI)(e.$slots,"prepend"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(r),((e,t)=>((0,o.wg)(),(0,o.j4)(ph,(0,o.dG)({key:t},e),{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.text),1)])),_:2},1040)))),128)),(0,o.WI)(e.$slots,"default"),(0,o.WI)(e.$slots,"append")])]))}}),yh=(0,o.aZ)({__name:"BButtonGroup",props:{ariaLabel:{default:"Group"},size:null,tag:{default:"div"},vertical:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"vertical")),r=(0,o.Fl)((()=>({"btn-group":!n.value,[`btn-group-${t.size}`]:void 0!==t.size,"btn-group-vertical":n.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)((0,i.SU)(r)),role:"group","aria-label":e.ariaLabel},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class","aria-label"]))}}),bh=["role","aria-label"],_h=(0,o.aZ)({__name:"BButtonToolbar",props:{ariaLabel:{default:"Group"},justify:{default:!1},role:{default:"toolbar"}},setup(e){const t=qu((0,i.Vh)(e,"justify")),n=(0,o.Fl)((()=>({"justify-content-between":t.value})));return(t,r)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)([(0,i.SU)(n),"btn-toolbar"]),role:e.role,"aria-label":e.ariaLabel},[(0,o.WI)(t.$slots,"default")],10,bh))}}),wh=(0,o.aZ)({__name:"BImg",props:{alt:null,blank:{default:!1},blankColor:{default:"transparent"},block:{default:!1},center:{default:!1},fluid:{default:!1},lazy:{default:!1},fluidGrow:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},rounded:{type:[Boolean,String],default:!1},sizes:null,src:null,srcset:null,thumbnail:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r='<svg width="%{w}" height="%{h}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 %{w} %{h}" preserveAspectRatio="none"><rect width="100%" height="100%" style="fill:%{f};"></rect></svg>',a=qu((0,i.Vh)(n,"lazy")),s=qu((0,i.Vh)(n,"blank")),l=qu((0,i.Vh)(n,"block")),c=qu((0,i.Vh)(n,"center")),u=qu((0,i.Vh)(n,"fluid")),d=qu((0,i.Vh)(n,"fluidGrow")),h=qu((0,i.Vh)(n,"left")),f=qu((0,i.Vh)(n,"start")),p=qu((0,i.Vh)(n,"right")),m=qu((0,i.Vh)(n,"end")),g=qu((0,i.Vh)(n,"thumbnail")),v=(0,o.Fl)((()=>"string"==typeof n.srcset?n.srcset.split(",").filter((e=>e)).join(","):Array.isArray(n.srcset)?n.srcset.filter((e=>e)).join(","):void 0)),y=(0,o.Fl)((()=>"string"==typeof n.sizes?n.sizes.split(",").filter((e=>e)).join(","):Array.isArray(n.sizes)?n.sizes.filter((e=>e)).join(","):void 0)),b=(0,o.Fl)((()=>{const e=e=>void 0===e?void 0:"number"==typeof e?e:Number.parseInt(e,10)||void 0,t=e(n.width),r=e(n.height);if(s.value){if(void 0!==t&&void 0===r)return{height:t,width:t};if(void 0===t&&void 0!==r)return{height:r,width:r};if(void 0===t&&void 0===r)return{height:1,width:1}}return{width:t,height:r}})),_=(0,o.Fl)((()=>E(b.value.width,b.value.height,n.blankColor))),w=(0,o.Fl)((()=>({src:s.value?_.value:n.src,alt:n.alt,width:b.value.width||void 0,height:b.value.height||void 0,srcset:s.value?void 0:v.value,sizes:s.value?void 0:y.value,loading:a.value?"lazy":"eager"}))),x=(0,o.Fl)((()=>h.value||f.value?"float-start":p.value||m.value?"float-end":c.value?"mx-auto":void 0)),S=(0,o.Fl)((()=>({"img-thumbnail":g.value,"img-fluid":u.value||d.value,"w-100":d.value,rounded:""===n.rounded||!0===n.rounded,[`rounded-${n.rounded}`]:"string"==typeof n.rounded&&""!==n.rounded,[`${x.value}`]:void 0!==x.value,"d-block":l.value||c.value}))),E=(e,t,n)=>`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(r.replace("%{w}",String(e)).replace("%{h}",String(t)).replace("%{f}",n))}`;return(e,n)=>((0,o.wg)(),(0,o.iD)("img",(0,o.dG)({class:(0,i.SU)(S)},(0,i.SU)(w),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16))}}),xh=(0,o.aZ)({__name:"BCardImg",props:{alt:null,blank:{default:!1},blankColor:null,bottom:{default:!1},lazy:{default:!1},height:null,left:{default:!1},start:{default:!1},right:{default:!1},end:{default:!1},sizes:null,src:null,srcset:null,top:{default:!1},width:null},emits:["load"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"bottom")),a=qu((0,i.Vh)(n,"end")),s=qu((0,i.Vh)(n,"left")),l=qu((0,i.Vh)(n,"right")),c=qu((0,i.Vh)(n,"start")),u=qu((0,i.Vh)(n,"top")),d=(0,o.Fl)((()=>u.value?"card-img-top":l.value||a.value?"card-img-right":r.value?"card-img-bottom":s.value||c.value?"card-img-left":"card-img")),h=(0,o.Fl)((()=>({alt:n.alt,height:n.height,src:n.src,lazy:n.lazy,width:n.width,blank:n.blank,blankColor:n.blankColor,sizes:n.sizes,srcset:n.srcset})));return(e,n)=>((0,o.wg)(),(0,o.j4)(wh,(0,o.dG)({class:(0,i.SU)(d)},(0,i.SU)(h),{onLoad:n[0]||(n[0]=e=>t("load",e))}),null,16,["class"]))}}),Sh=["innerHTML"],Eh=(0,o.aZ)({__name:"BCardHeadFoot",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant})));return(t,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)((0,i.SU)(n))},{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("div",{key:0,innerHTML:e.html},null,8,Sh)):(0,o.WI)(t.$slots,"default",{key:1},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Th=(0,o.aZ)({__name:"BCardHeader",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.j4)(Eh,(0,o.dG)({class:"card-header"},t),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16))}}),Mh=(0,o.aZ)({__name:"BCardTitle",props:{text:null,tag:{default:"h4"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"card-title"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3}))}}),Ch=(0,o.aZ)({__name:"BCardSubtitle",props:{text:null,tag:{default:"h6"},textVariant:{default:"muted"}},setup(e){const t=e,n=(0,o.Fl)((()=>[`text-${t.textVariant}`]));return(t,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["card-subtitle mb-2",(0,i.SU)(n)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Ah=(0,o.aZ)({__name:"BCardBody",props:{bodyBgVariant:null,bodyTag:{default:"div"},bodyTextVariant:null,overlay:{default:!1},subtitle:null,subtitleTag:{default:"h4"},subtitleTextVariant:null,title:null,titleTag:{default:"h4"},text:null},setup(e){const t=e,n=(0,o.Rr)(),r=qu((0,i.Vh)(t,"overlay")),s=(0,o.Fl)((()=>!yu(n.title))),l=(0,o.Fl)((()=>!yu(n.subtitle))),c=(0,o.Fl)((()=>({"card-img-overlay":r.value,[`text-${t.bodyTextVariant}`]:void 0!==t.bodyTextVariant,[`bg-${t.bodyBgVariant}`]:void 0!==t.bodyBgVariant})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.bodyTag),{class:(0,a.C_)(["card-body",(0,i.SU)(c)])},{default:(0,o.w5)((()=>[e.title||(0,i.SU)(s)?((0,o.wg)(),(0,o.j4)(Mh,{key:0,tag:e.titleTag},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,a.zw)(e.title),1)]))])),_:3},8,["tag"])):(0,o.kq)("",!0),e.subtitle||(0,i.SU)(l)?((0,o.wg)(),(0,o.j4)(Ch,{key:1,tag:e.subtitleTag,"text-variant":e.subtitleTextVariant},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"subtitle",{},(()=>[(0,o.Uk)((0,a.zw)(e.subtitle),1)]))])),_:3},8,["tag","text-variant"])):(0,o.kq)("",!0),(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},8,["class"]))}}),Rh=(0,o.aZ)({__name:"BCardFooter",props:{text:null,bgVariant:null,borderVariant:null,html:null,tag:{default:"div"},textVariant:null},setup(e){const t=e;return(n,r)=>((0,o.wg)(),(0,o.j4)(Eh,(0,o.dG)({class:"card-footer"},t),{default:(0,o.w5)((()=>[(0,o.WI)(n.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},16))}}),kh=(0,o.aZ)({__name:"BCard",props:{align:null,bgVariant:null,bodyBgVariant:null,bodyClass:null,bodyTag:{default:"div"},bodyTextVariant:null,borderVariant:null,footer:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerHtml:{default:""},footerTag:{default:"div"},footerTextVariant:null,header:null,headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerHtml:{default:""},headerTag:{default:"div"},headerTextVariant:null,imgAlt:null,imgBottom:{default:!1},imgEnd:{default:!1},imgHeight:null,imgLeft:{default:!1},imgRight:{default:!1},imgSrc:null,imgStart:{default:!1},imgTop:{default:!1},imgWidth:null,noBody:{default:!1},overlay:{default:!1},subtitle:null,subtitleTag:{default:"h6"},subtitleTextVariant:{default:"muted"},tag:{default:"div"},textVariant:null,title:null,titleTag:{default:"h4"},bodyText:{default:""}},setup(e){const t=e,n=(0,o.Rr)(),r=qu((0,i.Vh)(t,"imgBottom")),s=qu((0,i.Vh)(t,"imgEnd")),l=qu((0,i.Vh)(t,"imgLeft")),c=qu((0,i.Vh)(t,"imgRight")),u=qu((0,i.Vh)(t,"imgStart")),d=qu((0,i.Vh)(t,"noBody")),h=(0,o.Fl)((()=>!yu(n.header))),f=(0,o.Fl)((()=>!yu(n.footer))),p=(0,o.Fl)((()=>({[`text-${t.align}`]:void 0!==t.align,[`text-${t.textVariant}`]:void 0!==t.textVariant,[`bg-${t.bgVariant}`]:void 0!==t.bgVariant,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"flex-row":l.value||u.value,"flex-row-reverse":s.value||c.value}))),m=(0,o.Fl)((()=>({bgVariant:t.headerBgVariant,borderVariant:t.headerBorderVariant,html:t.headerHtml,tag:t.headerTag,textVariant:t.headerTextVariant}))),g=(0,o.Fl)((()=>({overlay:t.overlay,bodyBgVariant:t.bodyBgVariant,bodyTag:t.bodyTag,bodyTextVariant:t.bodyTextVariant,subtitle:t.subtitle,subtitleTag:t.subtitleTag,subtitleTextVariant:t.subtitleTextVariant,title:t.title,titleTag:t.titleTag}))),v=(0,o.Fl)((()=>({bgVariant:t.footerBgVariant,borderVariant:t.footerBorderVariant,html:t.footerHtml,tag:t.footerTag,textVariant:t.footerTextVariant}))),y=(0,o.Fl)((()=>({src:t.imgSrc,alt:t.imgAlt,height:t.imgHeight,width:t.imgWidth,bottom:t.imgBottom,end:t.imgEnd,left:t.imgLeft,right:t.imgRight,start:t.imgStart,top:t.imgTop})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["card",(0,i.SU)(p)])},{default:(0,o.w5)((()=>[(0,i.SU)(r)?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"img",{key:0},(()=>[e.imgSrc?((0,o.wg)(),(0,o.j4)(xh,(0,a.vs)((0,o.dG)({key:0},(0,i.SU)(y))),null,16)):(0,o.kq)("",!0)])),e.header||(0,i.SU)(h)||e.headerHtml?((0,o.wg)(),(0,o.j4)(Th,(0,o.dG)({key:1},(0,i.SU)(m),{class:e.headerClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Uk)((0,a.zw)(e.header),1)]))])),_:3},16,["class"])):(0,o.kq)("",!0),(0,i.SU)(d)?(0,o.WI)(t.$slots,"default",{key:3},(()=>[(0,o.Uk)((0,a.zw)(e.bodyText),1)])):((0,o.wg)(),(0,o.j4)(Ah,(0,o.dG)({key:2},(0,i.SU)(g),{class:e.bodyClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.bodyText),1)]))])),_:3},16,["class"])),e.footer||(0,i.SU)(f)||e.footerHtml?((0,o.wg)(),(0,o.j4)(Rh,(0,o.dG)({key:4},(0,i.SU)(v),{class:e.footerClass}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,o.Uk)((0,a.zw)(e.footer),1)]))])),_:3},16,["class"])):(0,o.kq)("",!0),(0,i.SU)(r)?(0,o.WI)(t.$slots,"img",{key:5},(()=>[e.imgSrc?((0,o.wg)(),(0,o.j4)(xh,(0,a.vs)((0,o.dG)({key:0},(0,i.SU)(y))),null,16)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])),_:3},8,["class"]))}}),Oh=(0,o.aZ)({__name:"BCardGroup",props:{columns:{default:!1},deck:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=qu((0,i.Vh)(t,"columns")),r=qu((0,i.Vh)(t,"deck")),s=(0,o.Fl)((()=>r.value?"card-deck":n.value?"card-columns":"card-group")),l=(0,o.Fl)((()=>[s.value]));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)((0,i.SU)(l))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class"]))}}),Lh=(0,o.aZ)({__name:"BCardText",props:{text:null,tag:{default:"p"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"card-text"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3}))}}),Ih=["id"],Ph={key:0,class:"carousel-indicators"},Dh=["data-bs-target","data-bs-slide-to","aria-label"],Nh={class:"carousel-inner"},Uh=["data-bs-target"],Fh=(0,o._)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"},null,-1),Bh={class:"visually-hidden"},jh=["data-bs-target"],Vh=(0,o._)("span",{class:"carousel-control-next-icon","aria-hidden":"true"},null,-1),zh={class:"visually-hidden"},Hh=Symbol(),Wh=(0,o.aZ)({__name:"BCarousel",props:{startingSlide:{default:0},id:null,imgHeight:null,imgWidth:null,background:null,modelValue:{default:0},controls:{default:!1},indicators:{default:!1},interval:{default:5e3},noTouch:{default:!1},noWrap:{default:!1},controlsPrevText:{default:"Previous"},controlsNextText:{default:"Next"},indicatorsButtonLabel:{default:"Slide"}},emits:["sliding-start","sliding-end"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),s=sd((0,i.Vh)(n,"id"),"carousel"),l=qu((0,i.Vh)(n,"controls")),c=qu((0,i.Vh)(n,"indicators")),u=qu((0,i.Vh)(n,"noTouch"));qu((0,i.Vh)(n,"noWrap"));const d=(0,i.iH)(),h=(0,i.iH)(),f=(0,i.iH)([]);return Ku(d,"slide.bs.carousel",(e=>t("sliding-start",e))),Ku(d,"slid.bs.carousel",(e=>t("sliding-end",e))),(0,o.bv)((()=>{h.value=new Rr(d.value,{wrap:!u.value,interval:n.interval,touch:!u.value}),r.default&&(f.value=r.default().filter((e=>{var t;return"BCarouselSlide"===(null==(t=e.type)?void 0:t.__name)})))})),(0,o.JJ)(Hh,{background:n.background,width:n.imgWidth,height:n.imgHeight}),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(s),ref_key:"element",ref:d,class:"carousel slide","data-bs-ride":"carousel"},[(0,i.SU)(c)?((0,o.wg)(),(0,o.iD)("div",Ph,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.value,((t,n)=>((0,o.wg)(),(0,o.iD)("button",{key:n,type:"button","data-bs-target":`#${(0,i.SU)(s)}`,"data-bs-slide-to":n,class:(0,a.C_)(n===e.startingSlide?"active":""),"aria-current":"true","aria-label":`${e.indicatorsButtonLabel} ${n}`},null,10,Dh)))),128))])):(0,o.kq)("",!0),(0,o._)("div",Nh,[(0,o.WI)(t.$slots,"default")]),(0,i.SU)(l)?((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o._)("button",{class:"carousel-control-prev",type:"button","data-bs-target":`#${(0,i.SU)(s)}`,"data-bs-slide":"prev"},[Fh,(0,o._)("span",Bh,(0,a.zw)(e.controlsPrevText),1)],8,Uh),(0,o._)("button",{class:"carousel-control-next",type:"button","data-bs-target":`#${(0,i.SU)(s)}`,"data-bs-slide":"next"},[Vh,(0,o._)("span",zh,(0,a.zw)(e.controlsNextText),1)],8,jh)],64)):(0,o.kq)("",!0)],8,Ih))}}),Gh=["data-bs-interval"],$h=["innerHTML"],qh={key:1},Xh=["innerHTML"],Yh={key:1},Jh=(0,o.aZ)({__name:"BCarouselSlide",props:{imgSrc:null,imgHeight:null,imgWidth:null,interval:null,active:{default:!1},background:null,caption:null,captionHtml:null,captionTag:{default:"h3"},contentTag:{default:"div"},contentVisibleUp:null,id:null,imgAlt:null,imgBlank:{default:!1},imgBlankColor:{default:"transparent"},text:null,textHtml:null,textTag:{default:"p"}},setup(e){const t=e,n=(0,o.Rr)(),r=(0,o.f3)(Hh,{}),s=qu((0,i.Vh)(t,"active")),l=(0,o.Fl)((()=>!yu(n.default))),c=(0,o.Fl)((()=>({background:`${t.background||r.background||"rgb(171, 171, 171)"} none repeat scroll 0% 0%`}))),u=(0,o.Fl)((()=>({"d-none":void 0!==t.contentVisibleUp,[`d-${t.contentVisibleUp}-block`]:void 0!==t.contentVisibleUp}))),d=(0,o.Fl)((()=>r.width)),h=(0,o.Fl)((()=>r.height));return(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["carousel-item",{active:(0,i.SU)(s)}]),"data-bs-interval":e.interval,style:(0,a.j5)((0,i.SU)(c))},[(0,o.WI)(t.$slots,"img",{},(()=>[(0,o.Wm)(wh,{class:"d-block w-100",alt:e.imgAlt,src:e.imgSrc,width:e.imgWidth||(0,i.SU)(d),height:e.imgHeight||(0,i.SU)(h),blank:e.imgBlank,"blank-color":e.imgBlankColor},null,8,["alt","src","width","height","blank","blank-color"])])),e.caption||e.captionHtml||e.text||e.textHtml||(0,i.SU)(l)?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.contentTag),{key:0,class:(0,a.C_)(["carousel-caption",(0,i.SU)(u)])},{default:(0,o.w5)((()=>[e.caption||e.captionHtml?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.captionTag),{key:0},{default:(0,o.w5)((()=>[e.captionHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.captionHtml},null,8,$h)):((0,o.wg)(),(0,o.iD)("span",qh,(0,a.zw)(e.caption),1))])),_:1})):(0,o.kq)("",!0),e.text||e.textHtml?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.textTag),{key:1},{default:(0,o.w5)((()=>[e.textHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.textHtml},null,8,Xh)):((0,o.wg)(),(0,o.iD)("span",Yh,(0,a.zw)(e.text),1))])),_:1})):(0,o.kq)("",!0),(0,o.WI)(t.$slots,"default")])),_:3},8,["class"])):(0,o.kq)("",!0)],14,Gh))}}),Zh=ku("",[],{type:[Boolean,String,Number],default:!1}),Kh=ku("offset",[""],{type:[String,Number],default:null}),Qh=ku("order",[""],{type:[String,Number],default:null}),ef=(0,o.aZ)({name:"BCol",props:{col:{type:[Boolean,String],default:!1},cols:{type:[String,Number],default:null},...Zh,offset:{type:[String,Number],default:null},...Kh,order:{type:[String,Number],default:null},...Qh,alignSelf:{type:String,default:null},tag:{type:String,default:"div"}},setup(e){const t=[{content:Zh,propPrefix:"cols",classPrefix:"col"},{content:Kh,propPrefix:"offset"},{content:Qh,propPrefix:"order"}],n=qu((0,i.Vh)(e,"col")),r=(0,o.Fl)((()=>t.flatMap((t=>Ou(e,t.content,t.propPrefix,t.classPrefix)))));return{computedClasses:(0,o.Fl)((()=>[r.value,{col:n.value||!r.value.some((e=>/^col-/.test(e)))&&!e.cols,[`col-${e.cols}`]:!!e.cols,[`offset-${e.offset}`]:!!e.offset,[`order-${e.order}`]:!!e.order,[`align-self-${e.alignSelf}`]:!!e.alignSelf}]))}}});function tf(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(e.computedClasses)},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"])}const nf=$d(ef,[["render",tf]]),rf={autoHide:!0,delay:5e3,noCloseButton:!1,pos:"top-right",value:!0};class of{constructor(e){sl(this,"vm"),sl(this,"containerPositions"),(0,i.PG)(e)?this.vm=e:this.vm=(0,i.qj)(e),this.containerPositions=(0,o.Fl)((()=>{const e=new Set([]);return this.vm.toasts.map((t=>{t.options.pos&&e.add(t.options.pos)})),e}))}toasts(e){return e?(0,o.Fl)((()=>this.vm.toasts.filter((t=>{if(t.options.pos===e&&t.options.value)return t})))):(0,o.Fl)((()=>this.vm.toasts))}remove(...e){this.vm.toasts=this.vm.toasts.filter((t=>{if(t.options.id&&!e.includes(t.options.id))return t}))}isRoot(){var e;return null!=(e=this.vm.root)&&e}show(e,t=rf){const n={id:Lu(),...rf,...t},r={options:(0,i.qj)(n),content:e};return this.vm.toasts.push(r),r}info(e,t=rf){return this.show(e,{variant:"info",...t})}danger(e,t=rf){return this.show(e,{variant:"danger",...t})}warning(e,t=rf){return this.show(e,{variant:"warning",...t})}success(e,t=rf){return this.show(e,{variant:"success",...t})}hide(){}}class af{constructor(){sl(this,"vms"),sl(this,"rootInstance"),sl(this,"useToast",df),this.vms={}}getOrCreateViewModel(e){if(!e){if(this.rootInstance)return this.vms[this.rootInstance];const e={root:!0,toasts:[],container:void 0,id:Symbol("toast")};return this.rootInstance=e.id,this.vms[e.id]=e,e}if(e.root){if(this.rootInstance)return this.vms[this.rootInstance];this.rootInstance=e.id}return this.vms[e.id]=e,e}getVM(e){return!e&&this.rootInstance?this.vms[this.rootInstance]:e?this.vms[e]:void 0}}const sf=Symbol(),lf=Symbol(),cf={container:void 0,toasts:[],root:!1};function uf(){return(0,o.f3)(lf)}function df(e,t=sf){const n=(0,o.f3)(uf());if(!e)return new of(n.getOrCreateViewModel());const r={id:Symbol("toastInstance")},i={...cf,...r,...e},a=n.getOrCreateViewModel(i);return new of(a)}const hf={install:(e,t={})=>{var n,r,i,o;e.provide(lf,null!=(r=null==(n=null==t?void 0:t.BToast)?void 0:n.injectkey)?r:sf),e.provide(null!=(o=null==(i=null==t?void 0:t.BToast)?void 0:i.injectkey)?o:sf,new af)}},ff="toast-title",pf=1e3,mf=(0,o.aZ)({components:{BLink:Xd},props:{...Wd,delay:{type:Number,default:5e3},bodyClass:{type:String},body:{type:[Object,String]},headerClass:{type:String},headerTag:{type:String,default:"div"},animation:{type:[Boolean,String],default:!0},id:{type:String},isStatus:{type:[Boolean,String],default:!1},autoHide:{type:[Boolean,String],default:!0},noCloseButton:{type:[Boolean,String],default:!1},noFade:{type:[Boolean,String],default:!1},noHoverPause:{type:[Boolean,String],default:!1},solid:{type:[Boolean,String],default:!1},static:{type:[Boolean,String],default:!1},title:{type:String},modelValue:{type:[Boolean,String],default:!1},toastClass:{type:Array},variant:{type:String}},emits:["destroyed","update:modelValue"],setup(e,{emit:t,slots:n}){qu((0,i.Vh)(e,"animation"));const r=qu((0,i.Vh)(e,"isStatus")),a=qu((0,i.Vh)(e,"autoHide")),s=qu((0,i.Vh)(e,"noCloseButton")),l=qu((0,i.Vh)(e,"noFade")),c=qu((0,i.Vh)(e,"noHoverPause"));qu((0,i.Vh)(e,"solid")),qu((0,i.Vh)(e,"static"));const u=qu((0,i.Vh)(e,"modelValue")),d=(0,i.iH)(!1),h=(0,i.iH)(!1),f=(0,i.iH)(!1),p=(0,o.Fl)((()=>({[`b-toast-${e.variant}`]:void 0!==e.variant,show:f.value||d.value})));let m,g,v;const y=()=>{typeof m>"u"||(clearTimeout(m),m=void 0)},b=(0,o.Fl)((()=>Math.max(Uu(e.delay,0),pf))),_=()=>{u.value&&(g=v=0,y(),h.value=!0,Mu((()=>{f.value=!1})))},w=()=>{y(),t("update:modelValue",!0),g=v=0,h.value=!1,(0,o.Y3)((()=>{Mu((()=>{f.value=!0}))}))},x=()=>{if(!a.value||c.value||!m||v)return;const e=Date.now()-g;e>0&&(y(),v=Math.max(b.value-e,pf))},S=()=>{(!a.value||c.value||!v)&&(v=g=0),E()};(0,o.YP)((()=>u.value),(e=>{e?w():_()}));const E=()=>{y(),a.value&&(m=setTimeout(_,v||b.value),g=Date.now(),v=0)},T=()=>{d.value=!0,t("update:modelValue",!0)},M=()=>{d.value=!1,E()},C=()=>{d.value=!0},A=()=>{d.value=!1,v=g=0,t("update:modelValue",!1)};(0,o.Ah)((()=>{y(),a.value&&t("destroyed",e.id)})),(0,o.bv)((()=>{(0,o.Y3)((()=>{u.value&&Mu((()=>{w()}))}))}));const R=()=>{(0,o.Y3)((()=>{Mu((()=>{_()}))}))};return()=>{const t=()=>{const t=[],r=Nu(ff,{hide:_},n);r?t.push((0,o.h)(r)):e.title&&t.push((0,o.h)("strong",{class:"me-auto"},e.title)),!s.value&&0!==t.length&&t.push((0,o.h)(Vd,{class:["btn-close"],onClick:()=>{_()}}));const i=[];if(t.length>0&&i.push((0,o.h)(e.headerTag,{class:"toast-header"},{default:()=>t})),Nu("default",{hide:_},n)||e.body){const t=(0,o.h)($u(e)?"b-link":"div",{class:["toast-body",e.bodyClass],onClick:$u(e)?{click:R}:{}},Nu("default",{hide:_},n)||e.body);i.push(t)}return(0,o.h)("div",{class:["toast",e.toastClass,p.value],tabindex:"0"},i)};return(0,o.h)("div",{class:["b-toast"],id:e.id,role:h.value?null:r.value?"status":"alert","aria-live":h.value?null:r.value?"polite":"assertive","aria-atomic":h.value?null:"true",onmouseenter:x,onmouseleave:S},[(0,o.h)(Bd,{noFade:l.value,onAfterEnter:M,onBeforeEnter:T,onAfterLeave:A,onBeforeLeave:C},(()=>[f.value?t():""]))])}}}),gf=(0,o.aZ)({__name:"BToaster",props:{position:{default:"top-right"},instance:null},setup(e){const t=e,n={"top-left":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-right":"top-0 end-0","middle-left":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-right":"top-50 end-0 translate-middle-y","bottom-left":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-right":"bottom-0 end-0"},r=(0,o.Fl)((()=>n[t.position])),s=e=>{var n;null==(n=t.instance)||n.remove(e)};return(t,n)=>{var l;return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)([[(0,i.SU)(r)],"b-toaster position-fixed p-3"]),style:{"z-index":"11"}},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(null==(l=e.instance)?void 0:l.toasts(e.position).value,(e=>((0,o.wg)(),(0,o.j4)(mf,{id:e.options.id,key:e.options.id,modelValue:e.options.value,"onUpdate:modelValue":t=>e.options.value=t,"auto-hide":e.options.autoHide,delay:e.options.delay,"no-close-button":e.options.noCloseButton,title:e.content.title,body:e.content.body,component:e.content.body,variant:e.options.variant,onDestroyed:s},null,8,["id","modelValue","onUpdate:modelValue","auto-hide","delay","no-close-button","title","body","component","variant"])))),128))],2)}}}),vf=(0,o.aZ)({props:{gutterX:{type:String,default:null},gutterY:{type:String,default:null},fluid:{type:[Boolean,String],default:!1},toast:{type:Object},position:{type:String,required:!1}},setup(e,{slots:t,expose:n}){const r=(0,i.iH)();let a;const s=(0,o.Fl)((()=>({container:!e.fluid,["container-fluid"]:"boolean"==typeof e.fluid&&e.fluid,[`container-${e.fluid}`]:"string"==typeof e.fluid,[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY})));return(0,o.bv)((()=>{e.toast})),e.toast&&(a=df({container:r,root:e.toast.root}),n({})),()=>{var n;const i=[];return null==a||a.containerPositions.value.forEach((e=>{i.push((0,o.h)(gf,{key:e,instance:a,position:e}))})),(0,o.h)("div",{class:[s.value,e.position],ref:r},[...i,null==(n=t.default)?void 0:n.call(t)])}},methods:{}}),yf={class:"visually-hidden"},bf=["aria-labelledby","role"],_f=(0,o.aZ)({__name:"BDropdown",props:{id:null,menuClass:null,size:null,splitClass:null,splitVariant:null,text:null,toggleClass:null,autoClose:{type:[Boolean,String],default:!0},block:{default:!1},boundary:{default:"clippingParents"},dark:{default:!1},disabled:{default:!1},isNav:{default:!1},dropup:{default:!1},dropright:{default:!1},dropleft:{default:!1},noFlip:{default:!1},offset:{default:0},popperOpts:{default:()=>({})},right:{default:!1},role:{default:"menu"},split:{default:!1},splitButtonType:{default:"button"},splitHref:{default:void 0},noCaret:{default:!1},toggleText:{default:"Toggle dropdown"},variant:{default:"secondary"}},emits:["show","shown","hide","hidden","click","toggle"],setup(e,{expose:t,emit:n}){const r=e,s=sd((0,i.Vh)(r,"id"),"dropdown"),l=qu((0,i.Vh)(r,"block")),c=qu((0,i.Vh)(r,"dark")),u=qu((0,i.Vh)(r,"dropup")),d=qu((0,i.Vh)(r,"dropright")),h=qu((0,i.Vh)(r,"isNav")),f=qu((0,i.Vh)(r,"dropleft")),p=qu((0,i.Vh)(r,"right")),m=qu((0,i.Vh)(r,"split")),g=qu((0,i.Vh)(r,"noCaret")),v=(0,i.iH)(),y=(0,i.iH)(),b=(0,i.iH)(),_=(0,o.Fl)((()=>({"d-grid":l.value,"d-flex":l.value&&m.value}))),w=(0,o.Fl)((()=>[m.value?r.splitClass:r.toggleClass,{"nav-link":h.value,"dropdown-toggle":!m.value,"dropdown-toggle-no-caret":g.value&&!m.value,"w-100":m.value&&l.value}])),x=(0,o.Fl)((()=>[r.menuClass,{"dropdown-menu-dark":c.value,"dropdown-menu-end":p.value}])),S=(0,o.Fl)((()=>({"data-bs-toggle":m.value?void 0:"dropdown","aria-expanded":!!m.value&&void 0,ref:m.value?void 0:y,href:m.value?r.splitHref:void 0}))),E=(0,o.Fl)((()=>({ref:m.value?y:void 0}))),T=()=>{var e;null==(e=b.value)||e.hide()},M=e=>{m.value&&n("click",e)};return Ku(v,"show.bs.dropdown",(()=>n("show"))),Ku(v,"shown.bs.dropdown",(()=>n("shown"))),Ku(v,"hide.bs.dropdown",(()=>n("hide"))),Ku(v,"hidden.bs.dropdown",(()=>n("hidden"))),(0,o.bv)((()=>{var e;b.value=new Ni(null==(e=y.value)?void 0:e.$el,{autoClose:r.autoClose,boundary:r.boundary,offset:r.offset?r.offset.toString():"",reference:r.offset||m.value?"parent":"toggle",popperConfig:e=>{const t={placement:"bottom-start",modifiers:r.noFlip?[{name:"flip",options:{fallbackPlacements:[]}}]:[]};return u.value?t.placement=p.value?"top-end":"top-start":d.value?t.placement="right-start":f.value?t.placement="left-start":p.value&&(t.placement="bottom-end"),Du(e,Du(t,r.popperOpts))}})})),t({hide:T}),(t,r)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"parent",ref:v,class:(0,a.C_)([(0,i.SU)(_),"btn-group"])},[(0,o.Wm)(Zd,(0,o.dG)({id:(0,i.SU)(s),variant:e.splitVariant||e.variant,size:e.size,class:(0,i.SU)(w),disabled:e.disabled,type:e.splitButtonType},(0,i.SU)(S),{onClick:M}),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"button-content",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},16,["id","variant","size","class","disabled","type"]),(0,i.SU)(m)?((0,o.wg)(),(0,o.j4)(Zd,(0,o.dG)({key:0,variant:e.variant,size:e.size,disabled:e.disabled},(0,i.SU)(E),{class:[e.toggleClass,"dropdown-toggle-split dropdown-toggle"],"data-bs-toggle":"dropdown","aria-expanded":"false",onClick:r[0]||(r[0]=e=>n("toggle"))}),{default:(0,o.w5)((()=>[(0,o._)("span",yf,[(0,o.WI)(t.$slots,"toggle-text",{},(()=>[(0,o.Uk)((0,a.zw)(e.toggleText),1)]))])])),_:3},16,["variant","size","disabled","class"])):(0,o.kq)("",!0),(0,o._)("ul",{class:(0,a.C_)(["dropdown-menu",(0,i.SU)(x)]),"aria-labelledby":(0,i.SU)(s),role:e.role},[(0,o.WI)(t.$slots,"default")],10,bf)],2))}}),wf={role:"presentation"},xf=(0,o.aZ)({__name:"BDropdownDivider",props:{tag:{default:"hr"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",wf,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"dropdown-divider",role:"separator","aria-orientation":"horizontal"}))]))}}),Sf={},Ef={role:"presentation"},Tf={class:"px-4 py-3"};function Mf(e,t){return(0,o.wg)(),(0,o.iD)("li",Ef,[(0,o._)("form",Tf,[(0,o.WI)(e.$slots,"default")])])}const Cf=$d(Sf,[["render",Mf]]),Af={role:"presentation"},Rf=["id","aria-describedby"],kf={inheritAttrs:!1},Of=(0,o.aZ)({...kf,__name:"BDropdownGroup",props:{id:null,ariaDescribedby:null,header:null,headerClass:null,headerTag:{default:"header"},headerVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>t.id?`${t.id}_group_dd_header`:void 0)),r=(0,o.Fl)((()=>"header"===t.headerTag?void 0:"heading")),s=(0,o.Fl)((()=>[t.headerClass,{[`text-${t.headerVariant}`]:void 0!==t.headerVariant}]));return(t,l)=>((0,o.wg)(),(0,o.iD)("li",Af,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.headerTag),{id:(0,i.SU)(n),class:(0,a.C_)(["dropdown-header",(0,i.SU)(s)]),role:(0,i.SU)(r)},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Uk)((0,a.zw)(e.header),1)]))])),_:3},8,["id","class","role"])),(0,o._)("ul",(0,o.dG)({id:e.id,role:"group",class:"list-unstyled"},t.$attrs,{"aria-describedby":e.ariaDescribedby||(0,i.SU)(n)}),[(0,o.WI)(t.$slots,"default")],16,Rf)]))}}),Lf={},If={class:"dropdown-header"};function Pf(e,t){return(0,o.wg)(),(0,o.iD)("li",null,[(0,o._)("h6",If,[(0,o.WI)(e.$slots,"default")])])}const Df=$d(Lf,[["render",Pf]]),Nf={inheritAttrs:!1},Uf=(0,o.aZ)({...Nf,__name:"BDropdownItem",props:{href:null,linkClass:null,active:{default:!1},disabled:{default:!1},rel:{default:void 0},target:{default:"_self"},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"active")),s=qu((0,i.Vh)(n,"disabled")),l=(0,o.l1)(),c=(0,o.Fl)((()=>[n.linkClass,{active:r.value,disabled:s.value,[`text-${n.variant}`]:void 0!==n.variant}])),u=(0,o.Fl)((()=>n.href?"a":l.to?Xd:"button")),d=(0,o.Fl)((()=>({disabled:s.value,"aria-current":r.value?"true":null,href:"a"===u.value?n.href:null,rel:n.rel,type:"button"===u.value?"button":null,target:n.target,...l.to?{activeClass:"active",...l}:{}}))),h=e=>t("click",e);return(e,t)=>((0,o.wg)(),(0,o.iD)("li",{role:"presentation",class:(0,a.C_)(e.$attrs.class)},[((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(u)),(0,o.dG)({class:["dropdown-item",(0,i.SU)(c)]},(0,i.SU)(d),{onClick:h}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["class"]))],2))}}),Ff=["disabled"],Bf={inheritAttrs:!1},jf=(0,o.aZ)({...Bf,__name:"BDropdownItemButton",props:{buttonClass:null,active:{default:!1},activeClass:{default:"active"},disabled:{default:!1},variant:null},emits:["click"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"active")),s=qu((0,i.Vh)(n,"disabled")),l=(0,o.Fl)((()=>[n.buttonClass,{[n.activeClass]:r.value,disabled:s.value,[`text-${n.variant}`]:void 0!==n.variant}])),c=e=>t("click",e);return(e,t)=>((0,o.wg)(),(0,o.iD)("li",{role:"presentation",class:(0,a.C_)(e.$attrs.class)},[(0,o._)("button",{role:"menu",type:"button",class:(0,a.C_)(["dropdown-item",(0,i.SU)(l)]),disabled:(0,i.SU)(s),onClick:c},[(0,o.WI)(e.$slots,"default")],10,Ff)],2))}}),Vf={role:"presentation"},zf={class:"px-4 py-1 mb-0 text-muted"},Hf=(0,o.aZ)({__name:"BDropdownText",props:{text:{default:""}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",Vf,[(0,o._)("p",zf,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])]))}}),Wf=["id","novalidate","onSubmit"],Gf=(0,o.aZ)({__name:"BForm",props:{id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"floating")),l=qu((0,i.Vh)(n,"novalidate")),c=qu((0,i.Vh)(n,"validated")),u=(0,o.Fl)((()=>({"form-floating":r.value,"was-validated":c.value}))),d=e=>t("submit",e);return(t,n)=>((0,o.wg)(),(0,o.iD)("form",{id:e.id,novalidate:(0,i.SU)(l),class:(0,a.C_)((0,i.SU)(u)),onSubmit:(0,s.iM)(d,["prevent"])},[(0,o.WI)(t.$slots,"default")],42,Wf))}}),$f={class:"form-floating"},qf=["for"],Xf=(0,o.aZ)({__name:"BFormFloatingLabel",props:{labelFor:null,label:null,text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("div",$f,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)])),(0,o._)("label",{for:e.labelFor},[(0,o.WI)(t.$slots,"label",{},(()=>[(0,o.Uk)((0,a.zw)(e.label),1)]))],8,qf)]))}}),Yf=(0,o.aZ)({__name:"BFormInvalidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,text:null,role:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"forceShow")),r=qu((0,i.Vh)(t,"state")),s=qu((0,i.Vh)(t,"tooltip")),l=(0,o.Fl)((()=>!0===n.value||!1===r.value)),c=(0,o.Fl)((()=>({"d-block":l.value,"invalid-feedback":!s.value,"invalid-tooltip":s.value}))),u=(0,o.Fl)((()=>({id:t.id,role:t.role,"aria-live":t.ariaLive,"aria-atomic":t.ariaLive?"true":void 0})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),(0,o.dG)({class:(0,i.SU)(c)},(0,i.SU)(u)),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},16,["class"]))}}),Jf=(0,o.aZ)({__name:"BFormRow",props:{tag:{default:"div"}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"row d-flex flex-wrap"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3}))}}),Zf=(0,o.aZ)({__name:"BFormText",props:{id:null,inline:{default:!1},tag:{default:"small"},text:null,textVariant:{default:"muted"}},setup(e){const t=e,n=qu((0,i.Vh)(t,"inline")),r=(0,o.Fl)((()=>[[`text-${t.textVariant}`],{"form-text":!n.value}]));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,a.C_)((0,i.SU)(r))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},8,["id","class"]))}}),Kf=(0,o.aZ)({__name:"BFormValidFeedback",props:{ariaLive:null,forceShow:{default:!1},id:null,role:null,text:null,state:{default:void 0},tag:{default:"div"},tooltip:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"forceShow")),r=qu((0,i.Vh)(t,"state")),s=qu((0,i.Vh)(t,"tooltip")),l=(0,o.Fl)((()=>!0===n.value||!0===r.value)),c=(0,o.Fl)((()=>({"d-block":l.value,"valid-feedback":!s.value,"valid-tooltip":s.value}))),u=(0,o.Fl)((()=>t.ariaLive?"true":void 0));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,role:e.role,"aria-live":e.ariaLive,"aria-atomic":(0,i.SU)(u),class:(0,a.C_)((0,i.SU)(c))},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3},8,["id","role","aria-live","aria-atomic","class"]))}}),Qf=["id","disabled","required","name","form","aria-label","aria-labelledby","aria-required","value","indeterminate"],ep=["for"],tp={inheritAttrs:!1},np=(0,o.aZ)({...tp,__name:"BFormCheckbox",props:{ariaLabel:null,ariaLabelledBy:null,form:null,indeterminate:null,name:null,id:{default:void 0},autofocus:{default:!1},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:void 0},size:{default:"md"},state:{default:void 0},uncheckedValue:{type:[Array,Set,Boolean,String,Object,Number],default:!1},value:{type:[Array,Set,Boolean,String,Object,Number],default:!0},modelValue:{type:[Array,Set,Boolean,String,Object,Number],default:void 0}},emits:["update:modelValue","input","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=sd((0,i.Vh)(n,"id"),"form-check"),c=qu((0,i.Vh)(n,"indeterminate")),u=qu((0,i.Vh)(n,"autofocus")),d=qu((0,i.Vh)(n,"plain")),h=qu((0,i.Vh)(n,"button")),f=qu((0,i.Vh)(n,"switch")),p=qu((0,i.Vh)(n,"disabled")),m=qu((0,i.Vh)(n,"inline")),g=qu((0,i.Vh)(n,"required")),v=qu((0,i.Vh)(n,"state")),y=(0,i.iH)(null),b=(0,i.iH)(!1),_=(0,o.Fl)((()=>!yu(r.default))),w=(0,o.Fl)({get:()=>n.uncheckedValue?Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:n.modelValue===n.value:n.modelValue,set:e=>{let r=e;Array.isArray(n.modelValue)?n.uncheckedValue&&(r=n.modelValue,e?(r.indexOf(n.uncheckedValue)>-1&&r.splice(r.indexOf(n.uncheckedValue),1),r.push(n.value)):(r.indexOf(n.value)>-1&&r.splice(r.indexOf(n.value),1),r.push(n.uncheckedValue))):r=e?n.value:n.uncheckedValue,t("input",r),t("update:modelValue",r),t("change",r)}}),x=(0,o.Fl)((()=>Array.isArray(n.modelValue)?n.modelValue.indexOf(n.value)>-1:JSON.stringify(n.modelValue)===JSON.stringify(n.value))),S=(0,i.qj)({plain:(0,i.Vh)(d,"value"),button:(0,i.Vh)(h,"value"),inline:(0,i.Vh)(m,"value"),switch:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size"),state:(0,i.Vh)(v,"value"),buttonVariant:(0,i.Vh)(n,"buttonVariant")}),E=Qu(S),T=ed(S),M=td(S);return(0,o.bv)((()=>{u.value&&y.value.focus()})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)((0,i.SU)(E))},[(0,o.wy)((0,o._)("input",(0,o.dG)({id:(0,i.SU)(l)},t.$attrs,{ref_key:"input",ref:y,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(w)?w.value=e:null),class:(0,i.SU)(T),type:"checkbox",disabled:(0,i.SU)(p),required:!!e.name&&!!(0,i.SU)(g),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledBy,"aria-required":e.name&&(0,i.SU)(g)?"true":void 0,value:e.value,indeterminate:(0,i.SU)(c),onFocus:n[1]||(n[1]=e=>b.value=!0),onBlur:n[2]||(n[2]=e=>b.value=!1)}),null,16,Qf),[[s.e8,(0,i.SU)(w)]]),(0,i.SU)(_)||!(0,i.SU)(d)?((0,o.wg)(),(0,o.iD)("label",{key:0,for:(0,i.SU)(l),class:(0,a.C_)([(0,i.SU)(M),{active:(0,i.SU)(x),focus:b.value}])},[(0,o.WI)(t.$slots,"default")],10,ep)):(0,o.kq)("",!0)],2))}}),rp=["id"],ip=["innerHTML"],op=["textContent"],ap=(0,o.aZ)({__name:"BFormCheckboxGroup",props:{id:null,form:null,modelValue:{default:()=>[]},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},name:null,options:{default:()=>[]},plain:{default:!1},required:{default:!1},size:null,stacked:{default:!1},state:{default:void 0},switches:{default:!1},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),s="BFormCheckbox",l=sd((0,i.Vh)(n,"id"),"checkbox"),c=sd((0,i.Vh)(n,"name"),"checkbox");qu((0,i.Vh)(n,"autofocus"));const u=qu((0,i.Vh)(n,"buttons")),d=qu((0,i.Vh)(n,"disabled"));qu((0,i.Vh)(n,"plain"));const h=qu((0,i.Vh)(n,"required")),f=qu((0,i.Vh)(n,"stacked")),p=qu((0,i.Vh)(n,"state")),m=qu((0,i.Vh)(n,"switches")),g=qu((0,i.Vh)(n,"validated")),v=(0,o.Fl)({get:()=>n.modelValue,set:e=>{if(JSON.stringify(e)===JSON.stringify(n.modelValue))return;const r=n.options.filter((t=>e.map((e=>JSON.stringify(e))).includes(JSON.stringify("string"==typeof t?t:t[n.valueField])))).map((e=>"string"==typeof e?e:e[n.valueField]));t("input",r),t("update:modelValue",r),t("change",r)}}),y=(0,o.Fl)((()=>(r.first?id(r.first(),s,d.value):[]).concat(n.options.map((e=>od(e,n)))).concat(r.default?id(r.default(),s,d.value):[]).map(((e,t)=>ad(e,t,n,c,l))).map((e=>({...e,props:{switch:m.value,...e.props}}))))),b=(0,i.qj)({required:(0,i.Vh)(h,"value"),ariaInvalid:(0,i.Vh)(n,"ariaInvalid"),state:(0,i.Vh)(p,"value"),validated:(0,i.Vh)(g,"value"),buttons:(0,i.Vh)(u,"value"),stacked:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size")}),_=nd(b),w=rd(b);return(e,t)=>((0,o.wg)(),(0,o.iD)("div",(0,o.dG)((0,i.SU)(_),{id:(0,i.SU)(l),role:"group",class:[(0,i.SU)(w),"bv-no-focus-ring"],tabindex:"-1"}),[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(y),((e,n)=>((0,o.wg)(),(0,o.j4)(np,(0,o.dG)({key:n,modelValue:(0,i.SU)(v),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.dq)(v)?v.value=e:null)},e.props),{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.html},null,8,ip)):((0,o.wg)(),(0,o.iD)("span",{key:1,textContent:(0,a.zw)(e.text)},null,8,op))])),_:2},1040,["modelValue"])))),128))],16,rp))}}),sp=["input","select","textarea"],lp=sp.map((e=>`${e}:not([disabled])`)).join(),cp=[...sp,"a","button","label"],up="label",dp="invalid-feedback",hp="valid-feedback",fp="description",pp="default",mp=(0,o.aZ)({components:{BCol:nf,BFormInvalidFeedback:Yf,BFormRow:Jf,BFormText:Zf,BFormValidFeedback:Kf},props:{contentCols:{type:[Boolean,String,Number],required:!1},contentColsLg:{type:[Boolean,String,Number],required:!1},contentColsMd:{type:[Boolean,String,Number],required:!1},contentColsSm:{type:[Boolean,String,Number],required:!1},contentColsXl:{type:[Boolean,String,Number],required:!1},description:{type:[String],required:!1},disabled:{type:[Boolean,String],default:!1},feedbackAriaLive:{type:String,default:"assertive"},id:{type:String,required:!1},invalidFeedback:{type:String,required:!1},label:{type:String,required:!1},labelAlign:{type:[Boolean,String,Number],required:!1},labelAlignLg:{type:[Boolean,String,Number],required:!1},labelAlignMd:{type:[Boolean,String,Number],required:!1},labelAlignSm:{type:[Boolean,String,Number],required:!1},labelAlignXl:{type:[Boolean,String,Number],required:!1},labelClass:{type:[Array,Object,String],required:!1},labelCols:{type:[Boolean,String,Number],required:!1},labelColsLg:{type:[Boolean,String,Number],required:!1},labelColsMd:{type:[Boolean,String,Number],required:!1},labelColsSm:{type:[Boolean,String,Number],required:!1},labelColsXl:{type:[Boolean,String,Number],required:!1},labelFor:{type:String,required:!1},labelSize:{type:String,required:!1},labelSrOnly:{type:[Boolean,String],default:!1},state:{type:[Boolean,String],default:null},tooltip:{type:[Boolean,String],default:!1},validFeedback:{type:String,required:!1},validated:{type:[Boolean,String],default:!1},floating:{type:[Boolean,String],default:!1}},setup(e,{attrs:t}){const n=qu((0,i.Vh)(e,"disabled")),r=qu((0,i.Vh)(e,"labelSrOnly")),a=qu((0,i.Vh)(e,"state")),s=qu((0,i.Vh)(e,"tooltip")),l=qu((0,i.Vh)(e,"validated")),c=qu((0,i.Vh)(e,"floating")),u=null,d=["xs","sm","md","lg","xl"],h=(e,t)=>d.reduce(((n,r)=>{const i=Hu("xs"===r?"":r,`${t}Align`),o=e[i]||null;return o&&("xs"===r?n.push(`text-${o}`):n.push(`text-${r}-${o}`)),n}),[]),f=(e,t)=>d.reduce(((n,r)=>{const i=Hu("xs"===r?"":r,`${t}Cols`);let o=e[i];return o=""===o||(o||!1),"boolean"!=typeof o&&"auto"!==o&&(o=Fu(o,0),o=o>0&&o),o&&("xs"===r?n.cols=o:n[r||("boolean"==typeof o?"col":"cols")]=o),n}),{}),p=(0,i.iH)(),m=(t,n=null)=>{if(Zc&&e.labelFor){const r=bu(`#${qc(e.labelFor)}`,p);if(r){const e="aria-describedby",i=(t||"").split(Fc),o=(n||"").split(Fc),a=(wu(r,e)||"").split(Fc).filter((e=>!o.includes(e))).concat(i).filter(((e,t,n)=>n.indexOf(e)===t)).filter((e=>e)).join(" ").trim();a?Su(r,e,a):Eu(r,e)}}},g=(0,o.Fl)((()=>f(e,"content"))),v=(0,o.Fl)((()=>h(e,"label"))),y=(0,o.Fl)((()=>f(e,"label"))),b=(0,o.Fl)((()=>Object.keys(g.value).length>0||Object.keys(y.value).length>0)),_=(0,o.Fl)((()=>"boolean"==typeof a.value?a.value:null)),w=(0,o.Fl)((()=>{const e=_.value;return!0===e?"is-valid":!1===e?"is-invalid":null})),x=(0,o.Fl)((()=>Iu(t.ariaInvalid,a.value)));return(0,o.YP)((()=>u),((e,t)=>{e!==t&&m(e,t)})),(0,o.bv)((()=>{(0,o.Y3)((()=>{m(u)}))})),{disabledBoolean:n,labelSrOnlyBoolean:r,stateBoolean:a,tooltipBoolean:s,validatedBoolean:l,floatingBoolean:c,ariaDescribedby:u,computedAriaInvalid:x,contentColProps:g,isHorizontal:b,labelAlignClasses:v,labelColProps:y,onLegendClick:t=>{if(e.labelFor)return;const{target:n}=t,r=n?n.tagName:"";if(-1!==cp.indexOf(r))return;const i=_u(lp,p).filter(vu);1===i.length&&mu(i[0])},stateClass:w}},render(){const e=this.$props,t=this.$slots,n=sd(),r=!e.labelFor;let a=null;const s=Nu(up,{},t)||e.label,l=s?Lu("_BV_label_"):null;if(s||this.isHorizontal){const t=r?"legend":"label";if(this.labelSrOnlyBoolean)s&&(a=(0,o.h)(t,{class:"visually-hidden",id:l,for:e.labelFor||null},s)),a=this.isHorizontal?(0,o.h)(nf,this.labelColProps,{default:()=>a}):(0,o.h)("div",{},[a]);else{const n={onClick:r?this.onLegendClick:null,...this.isHorizontal?this.labelColProps:{},tag:this.isHorizontal?t:null,id:l,for:e.labelFor||null,tabIndex:r?"-1":null,class:[this.isHorizontal?"col-form-label":"form-label",{"bv-no-focus-ring":r,"col-form-label":this.isHorizontal||r,"pt-0":!this.isHorizontal&&r,"d-block":!this.isHorizontal&&!r,[`col-form-label-${e.labelSize}`]:!!e.labelSize},this.labelAlignClasses,e.labelClass]};a=this.isHorizontal?(0,o.h)(nf,n,{default:()=>s}):(0,o.h)(t,n,s)}}let c=null;const u=Nu(dp,{},t)||this.invalidFeedback,d=u?Lu("_BV_feedback_invalid_"):void 0;u&&(c=(0,o.h)(Yf,{ariaLive:e.feedbackAriaLive,id:d,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>u}));let h=null;const f=Nu(hp,{},t)||this.validFeedback,p=f?Lu("_BV_feedback_valid_"):void 0;f&&(h=(0,o.h)(Kf,{ariaLive:e.feedbackAriaLive,id:p,state:this.stateBoolean,tooltip:this.tooltipBoolean},{default:()=>f}));let m=null;const g=Nu(fp,{},t)||this.description,v=g?Lu("_BV_description_"):void 0;g&&(m=(0,o.h)(Zf,{id:v},{default:()=>g}));const y=this.ariaDescribedby=[v,!1===this.stateBoolean?d:null,!0===this.stateBoolean?p:null].filter((e=>e)).join(" ")||null,b=[Nu(pp,{ariaDescribedby:y,descriptionId:v,id:n,labelId:l},t)||"",c,h,m];!this.isHorizontal&&this.floatingBoolean&&b.push(a);let _=(0,o.h)("div",{ref:"content",class:[{"form-floating":!this.isHorizontal&&this.floatingBoolean}]},b);this.isHorizontal&&(_=(0,o.h)(nf,{ref:"content",...this.contentColProps},{default:()=>b}));const w={class:["mb-3",this.stateClass,{"was-validated":this.validatedBoolean}],id:sd((0,i.Vh)(e,"id")).value,disabled:r?this.disabledBoolean:null,role:r?null:"group","aria-invalid":this.computedAriaInvalid,"aria-labelledby":r&&this.isHorizontal?l:null};return this.isHorizontal&&!r?(0,o.h)(Jf,w,{default:()=>[a,_]}):(0,o.h)(r?"fieldset":"div",w,this.isHorizontal&&r?[(0,o.h)(Jf,null,{default:()=>[a,_]})]:this.isHorizontal||!this.floatingBoolean?[a,_]:[_])}}),gp=["text","number","email","password","search","url","tel","date","time","range","color"],vp=(0,o.aZ)({props:{...ld,max:{type:[String,Number],required:!1},min:{type:[String,Number],required:!1},step:{type:[String,Number],required:!1},type:{type:String,default:"text",validator:e=>gp.includes(e)}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:a,onInput:s,onChange:l,onBlur:c,focus:u,blur:d}=cd(e,t),h=(0,i.iH)(!1),f=(0,o.Fl)((()=>{const t="range"===e.type,n="color"===e.type;return{"form-control-highlighted":h.value,"form-range":t,"form-control":n||!e.plaintext&&!t,"form-control-color":n,"form-control-plaintext":e.plaintext&&!t&&!n,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}})),p=(0,o.Fl)((()=>gp.includes(e.type)?e.type:"text"));return{computedClasses:f,localType:p,input:n,computedId:r,computedAriaInvalid:a,onInput:s,onChange:l,onBlur:c,focus:u,blur:d,highlight:()=>{!0!==h.value&&(h.value=!0,setTimeout((()=>{h.value=!1}),2e3))}}}}),yp=["id","name","form","type","disabled","placeholder","required","autocomplete","readonly","min","max","step","list","aria-required","aria-invalid"];function bp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("input",(0,o.dG)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,type:e.localType,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,min:e.min,max:e.max,step:e.step,list:"password"!==e.type?e.list:void 0,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,yp)}const _p=$d(vp,[["render",bp]]),wp=["id","disabled","required","name","form","aria-label","aria-labelledby","value","aria-required"],xp=["for"],Sp=(0,o.aZ)({__name:"BFormRadio",props:{ariaLabel:null,ariaLabelledby:null,form:null,id:null,name:null,size:null,autofocus:{default:!1},modelValue:{type:[Boolean,String,Array,Object,Number],default:void 0},plain:{default:!1},button:{default:!1},switch:{default:!1},disabled:{default:!1},buttonVariant:{default:"secondary"},inline:{default:!1},required:{default:!1},state:{default:void 0},value:{type:[String,Boolean,Object,Number],default:!0}},emits:["input","change","update:modelValue"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=sd((0,i.Vh)(n,"id"),"form-check"),c=qu((0,i.Vh)(n,"autofocus")),u=qu((0,i.Vh)(n,"plain")),d=qu((0,i.Vh)(n,"button")),h=qu((0,i.Vh)(n,"switch")),f=qu((0,i.Vh)(n,"disabled")),p=qu((0,i.Vh)(n,"inline")),m=qu((0,i.Vh)(n,"required")),g=qu((0,i.Vh)(n,"state")),v=(0,i.iH)(null),y=(0,i.iH)(!1),b=(0,o.Fl)({get:()=>Array.isArray(n.modelValue)?n.modelValue[0]:n.modelValue,set:e=>{const r=!!e&&n.value,i=Array.isArray(n.modelValue)?[r]:r;t("input",i),t("change",i),t("update:modelValue",i)}}),_=(0,o.Fl)((()=>Array.isArray(n.modelValue)?(n.modelValue||[]).find((e=>e===n.value)):JSON.stringify(n.modelValue)===JSON.stringify(n.value))),w=(0,o.Fl)((()=>!yu(r.default))),x=(0,i.qj)({plain:(0,i.Vh)(u,"value"),button:(0,i.Vh)(d,"value"),inline:(0,i.Vh)(p,"value"),switch:(0,i.Vh)(h,"value"),size:(0,i.Vh)(n,"size"),state:(0,i.Vh)(g,"value"),buttonVariant:(0,i.Vh)(n,"buttonVariant")}),S=Qu(x),E=ed(x),T=td(x);return(0,o.bv)((()=>{c.value&&null!==v.value&&v.value.focus()})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)((0,i.SU)(S))},[(0,o.wy)((0,o._)("input",(0,o.dG)({id:(0,i.SU)(l)},t.$attrs,{ref_key:"input",ref:v,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(b)?b.value=e:null),class:(0,i.SU)(E),type:"radio",disabled:(0,i.SU)(f),required:!!e.name&&(0,i.SU)(m),name:e.name,form:e.form,"aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,value:e.value,"aria-required":!(!e.name||!(0,i.SU)(m))||void 0,onFocus:n[1]||(n[1]=e=>y.value=!0),onBlur:n[2]||(n[2]=e=>y.value=!1)}),null,16,wp),[[s.G2,(0,i.SU)(b)]]),(0,i.SU)(w)||!1===(0,i.SU)(u)?((0,o.wg)(),(0,o.iD)("label",{key:0,for:(0,i.SU)(l),class:(0,a.C_)([(0,i.SU)(T),{active:(0,i.SU)(_),focus:y.value}])},[(0,o.WI)(t.$slots,"default")],10,xp)):(0,o.kq)("",!0)],2))}}),Ep=["id"],Tp=["innerHTML"],Mp=["textContent"],Cp=(0,o.aZ)({__name:"BFormRadioGroup",props:{size:null,form:null,id:null,name:null,modelValue:{type:[String,Boolean,Array,Object,Number],default:""},ariaInvalid:{default:void 0},autofocus:{default:!1},buttonVariant:{default:"secondary"},buttons:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},plain:{default:!1},required:{default:!1},stacked:{default:!1},state:{default:void 0},textField:{default:"text"},validated:{default:!1},valueField:{default:"value"}},emits:["input","update:modelValue","change"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),s="BFormRadio",l=sd((0,i.Vh)(n,"id"),"radio"),c=sd((0,i.Vh)(n,"name"),"checkbox");qu((0,i.Vh)(n,"autofocus"));const u=qu((0,i.Vh)(n,"buttons")),d=qu((0,i.Vh)(n,"disabled"));qu((0,i.Vh)(n,"plain"));const h=qu((0,i.Vh)(n,"required")),f=qu((0,i.Vh)(n,"stacked")),p=qu((0,i.Vh)(n,"state")),m=qu((0,i.Vh)(n,"validated")),g=(0,o.Fl)({get:()=>n.modelValue,set:e=>{t("input",e),t("update:modelValue",e),t("change",e)}}),v=(0,o.Fl)((()=>(r.first?id(r.first(),s,d.value):[]).concat(n.options.map((e=>od(e,n)))).concat(r.default?id(r.default(),s,d.value):[]).map(((e,t)=>ad(e,t,n,c,l))).map((e=>({...e}))))),y=(0,i.qj)({required:(0,i.Vh)(h,"value"),ariaInvalid:(0,i.Vh)(n,"ariaInvalid"),state:(0,i.Vh)(p,"value"),validated:(0,i.Vh)(m,"value"),buttons:(0,i.Vh)(u,"value"),stacked:(0,i.Vh)(f,"value"),size:(0,i.Vh)(n,"size")}),b=nd(y),_=rd(y);return(e,t)=>((0,o.wg)(),(0,o.iD)("div",(0,o.dG)((0,i.SU)(b),{id:(0,i.SU)(l),role:"radiogroup",class:[(0,i.SU)(_),"bv-no-focus-ring"],tabindex:"-1"}),[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(v),((e,n)=>((0,o.wg)(),(0,o.j4)(Sp,(0,o.dG)({key:n,modelValue:(0,i.SU)(g),"onUpdate:modelValue":t[0]||(t[0]=e=>(0,i.dq)(g)?g.value=e:null)},e.props),{default:(0,o.w5)((()=>[e.html?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.html},null,8,Tp)):((0,o.wg)(),(0,o.iD)("span",{key:1,textContent:(0,a.zw)(e.text)},null,8,Mp))])),_:2},1040,["modelValue"])))),128))],16,Ep))}}),Ap=["value","disabled"],Rp=(0,o.aZ)({__name:"BFormSelectOption",props:{value:null,disabled:{default:!1}},setup(e){const t=qu((0,i.Vh)(e,"disabled"));return(n,r)=>((0,o.wg)(),(0,o.iD)("option",{value:e.value,disabled:(0,i.SU)(t)},[(0,o.WI)(n.$slots,"default")],8,Ap))}}),kp=["label"],Op=(0,o.aZ)({__name:"BFormSelectOptionGroup",props:{label:null,disabledField:{default:"disabled"},htmlField:{default:"html"},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(e){const t=e,n=(0,o.Fl)((()=>hd(t.options,"BFormSelectOptionGroup",t)));return(t,r)=>((0,o.wg)(),(0,o.iD)("optgroup",{label:e.label},[(0,o.WI)(t.$slots,"first"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(n),((e,n)=>((0,o.wg)(),(0,o.j4)(Rp,(0,o.dG)({key:n,value:e.value,disabled:e.disabled},t.$attrs,{innerHTML:e.html||e.text}),null,16,["value","disabled","innerHTML"])))),128)),(0,o.WI)(t.$slots,"default")],8,kp))}}),Lp=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],Ip=(0,o.aZ)({__name:"BFormSelect",props:{ariaInvalid:{default:void 0},autofocus:{default:!1},disabled:{default:!1},disabledField:{default:"disabled"},form:null,htmlField:{default:"html"},id:null,labelField:{default:"label"},multiple:{default:!1},name:null,options:{default:()=>[]},optionsField:{default:"options"},plain:{default:!1},required:{default:!1},selectSize:{default:0},size:null,state:{default:void 0},textField:{default:"text"},valueField:{default:"value"},modelValue:{default:""}},emits:["input","update:modelValue","change"],setup(e,{expose:t,emit:n}){const r=e,a=sd((0,i.Vh)(r,"id"),"input"),l=qu((0,i.Vh)(r,"autofocus")),c=qu((0,i.Vh)(r,"disabled")),u=qu((0,i.Vh)(r,"multiple")),d=qu((0,i.Vh)(r,"plain")),h=qu((0,i.Vh)(r,"required")),f=qu((0,i.Vh)(r,"state")),p=(0,i.iH)(),m=(0,o.Fl)((()=>({"form-control":d.value,[`form-control-${r.size}`]:r.size&&d.value,"form-select":!d.value,[`form-select-${r.size}`]:r.size&&!d.value,"is-valid":!0===f.value,"is-invalid":!1===f.value}))),g=(0,o.Fl)((()=>{if(r.selectSize||d.value)return r.selectSize})),v=(0,o.Fl)((()=>Iu(r.ariaInvalid,f.value))),y=(0,o.Fl)((()=>hd(r.options,"BFormSelect",r))),b=(0,o.Fl)({get(){return r.modelValue},set(e){n("change",e),n("update:modelValue",e),n("input",e)}}),_=()=>{var e;c.value||null==(e=p.value)||e.focus()},w=()=>{var e;c.value||null==(e=p.value)||e.blur()},x=()=>{(0,o.Y3)((()=>{var e;l.value&&(null==(e=p.value)||e.focus())}))};return(0,o.bv)(x),(0,o.dl)(x),t({blur:w,focus:_}),(t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("select",(0,o.dG)({id:(0,i.SU)(a),ref_key:"input",ref:p},t.$attrs,{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(b)?b.value=e:null),class:(0,i.SU)(m),name:e.name,form:e.form||void 0,multiple:(0,i.SU)(u)||void 0,size:(0,i.SU)(g),disabled:(0,i.SU)(c),required:(0,i.SU)(h),"aria-required":!!(0,i.SU)(h)||void 0,"aria-invalid":(0,i.SU)(v)}),[(0,o.WI)(t.$slots,"first"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(y),((e,t)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:t},[Array.isArray(e.options)?((0,o.wg)(),(0,o.j4)(Op,{key:0,label:e.label,options:e.options},null,8,["label","options"])):((0,o.wg)(),(0,o.j4)(Rp,{key:1,value:e.value,disabled:e.disabled,innerHTML:e.html||e.text},null,8,["value","disabled","innerHTML"]))],64)))),128)),(0,o.WI)(t.$slots,"default")],16,Lp)),[[s.bM,(0,i.SU)(b)]])}}),Pp=["id"],Dp=(0,o.aZ)({__name:"BFormTag",props:{id:null,title:null,disabled:{default:!1},noRemove:{default:!1},pill:{default:!1},removeLabel:{default:"Remove tag"},tag:{default:"span"},variant:{default:"secondary"}},emits:["remove"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),s=sd((0,i.Vh)(n,"id")),l=qu((0,i.Vh)(n,"disabled")),c=qu((0,i.Vh)(n,"noRemove")),u=qu((0,i.Vh)(n,"pill")),d=(0,o.Fl)((()=>{var e,t,i;return null!=(i=(null!=(t=null==(e=r.default)?void 0:e.call(r)[0].children)?t:"").toString()||n.title)?i:""})),h=(0,o.Fl)((()=>`${s.value}taglabel__`)),f=(0,o.Fl)((()=>[`bg-${n.variant}`,{"text-dark":["warning","info","light"].includes(n.variant),"rounded-pill":u.value,disabled:l.value}]));return(n,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:(0,i.SU)(s),title:(0,i.SU)(d),class:(0,a.C_)(["badge b-form-tag d-inline-flex align-items-center mw-100",(0,i.SU)(f)]),"aria-labelledby":(0,i.SU)(h)},{default:(0,o.w5)((()=>[(0,o._)("span",{id:(0,i.SU)(h),class:"b-form-tag-content flex-grow-1 text-truncate"},[(0,o.WI)(n.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)((0,i.SU)(d)),1)]))],8,Pp),(0,i.SU)(l)||(0,i.SU)(c)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Vd,{key:0,"aria-keyshortcuts":"Delete","aria-label":e.removeLabel,class:"b-form-tag-remove",white:!["warning","info","light"].includes(e.variant),"aria-describedby":(0,i.SU)(h),"aria-controls":e.id,onClick:r[0]||(r[0]=e=>t("remove",(0,i.SU)(d)))},null,8,["aria-label","white","aria-describedby","aria-controls"]))])),_:3},8,["id","title","class","aria-labelledby"]))}}),Np=["id"],Up=["id","for","aria-live"],Fp=["id","aria-live"],Bp=["id"],jp=["aria-controls"],Vp={role:"group",class:"d-flex"},zp=["id","disabled","value","type","placeholder","form","required"],Hp=["disabled"],Wp={"aria-live":"polite","aria-atomic":"true"},Gp={key:0,class:"d-block invalid-feedback"},$p={key:1,class:"form-text text-muted"},qp={key:2,class:"form-text text-muted"},Xp=["name","value"],Yp=(0,o.aZ)({__name:"BFormTags",props:{addButtonText:{default:"Add"},addButtonVariant:{default:"outline-secondary"},addOnChange:{default:!1},autofocus:{default:!1},disabled:{default:!1},duplicateTagText:{default:"Duplicate tag(s)"},inputAttrs:null,inputClass:null,inputId:null,inputType:{default:"text"},invalidTagText:{default:"Invalid tag(s)"},form:null,limit:null,limitTagsText:{default:"Tag limit reached"},modelValue:{default:()=>[]},name:null,noAddOnEnter:{default:!1},noOuterFocus:{default:!1},noTagRemove:{default:!1},placeholder:{default:"Add tag..."},removeOnDelete:{default:!1},required:{default:!1},separator:null,state:{default:void 0},size:null,tagClass:null,tagPills:{default:!1},tagRemoveLabel:null,tagRemovedLabel:{default:"Tag removed"},tagValidator:{type:Function,default:()=>!0},tagVariant:{default:"secondary"}},emits:["update:modelValue","input","tag-state","focus","focusin","focusout","blur"],setup(e,{emit:t}){const n=e,r=sd(),s=qu((0,i.Vh)(n,"addOnChange")),l=qu((0,i.Vh)(n,"autofocus")),c=qu((0,i.Vh)(n,"disabled")),u=qu((0,i.Vh)(n,"noAddOnEnter")),d=qu((0,i.Vh)(n,"noOuterFocus")),h=qu((0,i.Vh)(n,"noTagRemove")),f=qu((0,i.Vh)(n,"removeOnDelete")),p=qu((0,i.Vh)(n,"required")),m=qu((0,i.Vh)(n,"state")),g=qu((0,i.Vh)(n,"tagPills")),v=(0,i.iH)(null),y=(0,o.Fl)((()=>n.inputId||`${r.value}input__`)),b=(0,i.iH)(n.modelValue),_=(0,i.iH)(""),w=(0,i.iH)(!1),x=(0,i.iH)(!1),S=(0,i.iH)(""),E=(0,i.iH)([]),T=(0,i.iH)([]),M=(0,i.iH)([]),C=(0,o.Fl)((()=>({[`form-control-${n.size}`]:void 0!==n.size,disabled:c.value,focus:x.value,"is-invalid":!1===m.value,"is-valid":!0===m.value}))),A=(0,o.Fl)((()=>b.value.includes(_.value))),R=(0,o.Fl)((()=>""!==_.value&&!n.tagValidator(_.value))),k=(0,o.Fl)((()=>b.value.length===n.limit)),O=(0,o.Fl)((()=>!R.value&&!A.value)),L=(0,o.Fl)((()=>({addButtonText:n.addButtonText,addButtonVariant:n.addButtonVariant,addTag:j,disableAddButton:O.value,disabled:c.value,duplicateTagText:n.duplicateTagText,duplicateTags:M.value,form:n.form,inputAttrs:{...n.inputAttrs,disabled:c.value,form:n.form,id:y,value:_},inputHandlers:{input:U,keydown:B,change:F},inputId:y,inputType:n.inputType,invalidTagText:n.invalidTagText,invalidTags:T.value,isDuplicate:A.value,isInvalid:R.value,isLimitReached:k.value,limitTagsText:n.limitTagsText,limit:n.limit,noTagRemove:h.value,placeholder:n.placeholder,removeTag:V,required:p.value,separator:n.separator,size:n.size,state:m.value,tagClass:n.tagClass,tagPills:g.value,tagRemoveLabel:n.tagRemoveLabel,tagVariant:n.tagVariant,tags:b.value})));(0,o.YP)((()=>n.modelValue),(e=>{b.value=e}));const I=()=>{var e;l.value&&(null==(e=v.value)||e.focus())},P=e=>{c.value?e.target.blur():t("focusin",e)},D=e=>{c.value||d.value||(x.value=!0,t("focus",e))},N=e=>{x.value=!1,t("blur",e)},U=e=>{var r,i;const o="string"==typeof e?e:e.target.value;w.value=!1,(null==(r=n.separator)?void 0:r.includes(o.charAt(0)))&&o.length>0?v.value&&(v.value.value=""):(_.value=o,null!=(i=n.separator)&&i.includes(o.charAt(o.length-1))?j(o.slice(0,o.length-1)):(E.value=n.tagValidator(o)&&!A.value?[o]:[],T.value=n.tagValidator(o)?[]:[o],M.value=A.value?[o]:[],t("tag-state",E.value,T.value,M.value)))},F=e=>{s.value&&(U(e),A.value||j(_.value))},B=e=>{"Enter"!==e.key||u.value?("Backspace"===e.key||"Delete"===e.key)&&f.value&&""===_.value&&w.value&&b.value.length>0?V(b.value[b.value.length-1]):w.value=!0:j(_.value)},j=e=>{var r;if(e=(e||_.value).trim(),""===e||A.value||!n.tagValidator(e)||n.limit&&k.value)return;const i=[...n.modelValue,e];_.value="",w.value=!0,t("update:modelValue",i),t("input",i),null==(r=v.value)||r.focus()},V=e=>{var n;const r=b.value.indexOf(null!=(n=null==e?void 0:e.toString())?n:"");S.value=b.value.splice(r,1).toString(),t("update:modelValue",b.value)};return(0,o.bv)((()=>{I(),n.modelValue.length>0&&(w.value=!0)})),(0,o.dl)((()=>I())),(n,s)=>((0,o.wg)(),(0,o.iD)("div",{id:(0,i.SU)(r),class:(0,a.C_)(["b-form-tags form-control h-auto",(0,i.SU)(C)]),role:"group",tabindex:"-1",onFocusin:P,onFocusout:s[1]||(s[1]=e=>t("focusout",e))},[(0,o._)("output",{id:`${(0,i.SU)(r)}selected_tags__`,class:"visually-hidden",role:"status",for:(0,i.SU)(y),"aria-live":x.value?"polite":"off","aria-atomic":"true","aria-relevant":"additions text"},(0,a.zw)(b.value.join(", ")),9,Up),(0,o._)("div",{id:`${(0,i.SU)(r)}removed_tags__`,role:"status","aria-live":x.value?"assertive":"off","aria-atomic":"true",class:"visually-hidden"}," ("+(0,a.zw)(e.tagRemovedLabel)+") "+(0,a.zw)(S.value),9,Fp),(0,o.WI)(n.$slots,"default",(0,a.vs)((0,o.F4)((0,i.SU)(L))),(()=>[(0,o._)("ul",{id:`${(0,i.SU)(r)}tag_list__`,class:"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center"},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(b.value,((t,r)=>(0,o.WI)(n.$slots,"tag",(0,a.vs)((0,o.dG)({key:r},{tag:t,tagClass:e.tagClass,tagVariant:e.tagVariant,tagPills:(0,i.SU)(g),removeTag:V})),(()=>[(0,o.Wm)(Dp,{class:(0,a.C_)(e.tagClass),tag:"li",variant:e.tagVariant,pill:e.tagPills,onRemove:V},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(t),1)])),_:2},1032,["class","variant","pill"])])))),128)),(0,o._)("li",{role:"none","aria-live":"off",class:"b-from-tags-field flex-grow-1","aria-controls":`${(0,i.SU)(r)}tag_list__`},[(0,o._)("div",Vp,[(0,o._)("input",(0,o.dG)({id:(0,i.SU)(y),ref_key:"input",ref:v,disabled:(0,i.SU)(c),value:_.value,type:e.inputType,placeholder:e.placeholder,class:"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0",style:{outline:"currentcolor none 0px","min-width":"5rem"}},e.inputAttrs,{form:e.form,required:(0,i.SU)(p),onInput:U,onChange:F,onKeydown:B,onFocus:D,onBlur:N}),null,16,zp),(0,i.SU)(O)?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",class:(0,a.C_)(["btn b-form-tags-button py-0",[`btn-${e.addButtonVariant}`,{"disabled invisible":0===_.value.length},e.inputClass]]),style:{"font-size":"90%"},disabled:(0,i.SU)(c)||0===_.value.length||(0,i.SU)(k),onClick:s[0]||(s[0]=e=>j(_.value))},[(0,o.WI)(n.$slots,"add-button-text",{},(()=>[(0,o.Uk)((0,a.zw)(e.addButtonText),1)]))],10,Hp)):(0,o.kq)("",!0)])],8,jp)],8,Bp),(0,o._)("div",Wp,[(0,i.SU)(R)?((0,o.wg)(),(0,o.iD)("div",Gp,(0,a.zw)(e.invalidTagText)+": "+(0,a.zw)(_.value),1)):(0,o.kq)("",!0),(0,i.SU)(A)?((0,o.wg)(),(0,o.iD)("small",$p,(0,a.zw)(e.duplicateTagText)+": "+(0,a.zw)(_.value),1)):(0,o.kq)("",!0),b.value.length===e.limit?((0,o.wg)(),(0,o.iD)("small",qp,"Tag limit reached")):(0,o.kq)("",!0)])])),e.name?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:0},(0,o.Ko)(b.value,((t,n)=>((0,o.wg)(),(0,o.iD)("input",{key:n,type:"hidden",name:e.name,value:t},null,8,Xp)))),128)):(0,o.kq)("",!0)],42,Np))}}),Jp=(0,o.aZ)({props:{...ld,noResize:{type:[Boolean,String],default:!1},rows:{type:[String,Number],required:!1,default:2},wrap:{type:String,default:"soft"}},emits:["update:modelValue","change","blur","input"],setup(e,{emit:t}){const{input:n,computedId:r,computedAriaInvalid:a,onInput:s,onChange:l,onBlur:c,focus:u,blur:d}=cd(e,t),h=qu((0,i.Vh)(e,"noResize")),f=(0,o.Fl)((()=>({"form-control":!e.plaintext,"form-control-plaintext":e.plaintext,[`form-control-${e.size}`]:!!e.size,"is-valid":!0===e.state,"is-invalid":!1===e.state}))),p=(0,o.Fl)((()=>h.value?{resize:"none"}:void 0));return{input:n,computedId:r,computedAriaInvalid:a,onInput:s,onChange:l,onBlur:c,focus:u,blur:d,computedClasses:f,computedStyles:p}}}),Zp=["id","name","form","disabled","placeholder","required","autocomplete","readonly","aria-required","aria-invalid","rows","wrap"];function Kp(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("textarea",(0,o.dG)({id:e.computedId,ref:"input",class:e.computedClasses,name:e.name||void 0,form:e.form||void 0,disabled:e.disabled,placeholder:e.placeholder,required:e.required,autocomplete:e.autocomplete||void 0,readonly:e.readonly||e.plaintext,"aria-required":e.required?"true":void 0,"aria-invalid":e.computedAriaInvalid,rows:e.rows,style:e.computedStyles,wrap:e.wrap||void 0},e.$attrs,{onInput:t[0]||(t[0]=t=>e.onInput(t)),onChange:t[1]||(t[1]=t=>e.onChange(t)),onBlur:t[2]||(t[2]=t=>e.onBlur(t))}),null,16,Zp)}const Qp=$d(Jp,[["render",Kp]]),em={key:0,class:"input-group-text"},tm=["innerHTML"],nm={key:1},rm={key:0,class:"input-group-text"},im=["innerHTML"],om={key:1},am=(0,o.aZ)({__name:"BInputGroup",props:{append:null,appendHtml:null,id:null,prepend:null,prependHtml:null,size:null,tag:{default:"div"}},setup(e){const t=e,n=(0,o.Fl)((()=>({"input-group-sm":"sm"===t.size,"input-group-lg":"lg"===t.size}))),r=(0,o.Fl)((()=>!!t.append||!!t.appendHtml)),s=(0,o.Fl)((()=>!!t.prepend||!!t.prependHtml));return(t,l)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,a.C_)(["input-group",(0,i.SU)(n)]),role:"group"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"prepend",{},(()=>[(0,i.SU)(s)?((0,o.wg)(),(0,o.iD)("span",em,[e.prependHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.prependHtml},null,8,tm)):((0,o.wg)(),(0,o.iD)("span",nm,(0,a.zw)(e.prepend),1))])):(0,o.kq)("",!0)])),(0,o.WI)(t.$slots,"default"),(0,o.WI)(t.$slots,"append",{},(()=>[(0,i.SU)(r)?((0,o.wg)(),(0,o.iD)("span",rm,[e.appendHtml?((0,o.wg)(),(0,o.iD)("span",{key:0,innerHTML:e.appendHtml},null,8,im)):((0,o.wg)(),(0,o.iD)("span",om,(0,a.zw)(e.append),1))])):(0,o.kq)("",!0)]))])),_:3},8,["id","class"]))}}),sm=(0,o.aZ)({__name:"BInputGroupText",props:{tag:{default:"div"},text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:"input-group-text"},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))])),_:3}))}}),lm=(0,o.aZ)({__name:"BInputGroupAddon",props:{isText:{default:!1}},setup(e){const t=qu((0,i.Vh)(e,"isText"));return(e,n)=>(0,i.SU)(t)?((0,o.wg)(),(0,o.j4)(sm,{key:0},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3})):(0,o.WI)(e.$slots,"default",{key:1})}}),cm=(0,o.aZ)({__name:"BInputGroupAppend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)(lm,{"is-text":e.isText},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["is-text"]))}}),um=(0,o.aZ)({__name:"BInputGroupPrepend",props:{isText:{default:!1}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.j4)(lm,{"is-text":e.isText},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["is-text"]))}}),dm=Symbol(),hm=(0,o.aZ)({__name:"BListGroup",props:{flush:{default:!1},horizontal:{type:[Boolean,String],default:!1},numbered:{default:!1},tag:{default:"div"}},setup(e){const t=e,n=qu((0,i.Vh)(t,"flush")),r=qu((0,i.Vh)(t,"numbered")),s=(0,o.Fl)((()=>{const e=!n.value&&t.horizontal;return{"list-group-flush":n.value,"list-group-horizontal":!0===e,[`list-group-horizontal-${e}`]:"string"==typeof e,"list-group-numbered":r.value}})),l=(0,o.Fl)((()=>!0===r.value?"ol":t.tag));return(0,o.JJ)(dm,{numbered:r.value}),(e,t)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(l)),{class:(0,a.C_)(["list-group",(0,i.SU)(s)])},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"]))}}),fm=(0,o.aZ)({__name:"BListGroupItem",props:{action:{default:!1},active:{default:!1},button:{default:!1},disabled:{default:!1},href:null,tag:{default:"div"},target:{default:"_self"},to:null,variant:null},setup(e){const t=e,n=(0,o.l1)(),r=(0,o.f3)(dm,null),a=qu((0,i.Vh)(t,"action")),s=qu((0,i.Vh)(t,"active")),l=qu((0,i.Vh)(t,"button")),c=qu((0,i.Vh)(t,"disabled")),u=(0,o.Fl)((()=>!l.value&&(!!t.href||!!t.to))),d=(0,o.Fl)((()=>null!=r&&r.numbered?"li":l.value?"button":u.value?Xd:t.tag)),h=(0,o.Fl)((()=>a.value||u.value||l.value||["a","router-link","button","b-link"].includes(t.tag))),f=(0,o.Fl)((()=>({[`list-group-item-${t.variant}`]:void 0!==t.variant,"list-group-item-action":h.value,active:s.value,disabled:c.value}))),p=(0,o.Fl)((()=>{const e={};return l.value&&((!n||!n.type)&&(e.type="button"),c.value&&(e.disabled=!0)),e}));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)((0,i.SU)(d)),(0,o.dG)({class:["list-group-item",(0,i.SU)(f)],"aria-current":!!(0,i.SU)(s)||void 0,"aria-disabled":!!(0,i.SU)(c)||void 0,target:(0,i.SU)(u)?e.target:void 0,href:(0,i.SU)(l)?void 0:e.href,to:(0,i.SU)(l)?void 0:e.to},(0,i.SU)(p)),{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},16,["class","aria-current","aria-disabled","target","href","to"]))}}),pm=["id","aria-labelledby","aria-describedby"],mm=["id"],gm={inheritAttrs:!1},vm=(0,o.aZ)({...gm,__name:"BModal",props:{bodyBgVariant:null,bodyClass:null,bodyTextVariant:null,busy:{default:!1},lazy:{default:!1},buttonSize:{default:"md"},cancelDisabled:{default:!1},cancelTitle:{default:"Cancel"},cancelVariant:{default:"secondary"},centered:{default:!1},contentClass:null,dialogClass:null,footerBgVariant:null,footerBorderVariant:null,footerClass:null,footerTextVariant:null,fullscreen:{type:[Boolean,String],default:!1},headerBgVariant:null,headerBorderVariant:null,headerClass:null,headerCloseLabel:{default:"Close"},headerCloseWhite:{default:!1},headerTextVariant:null,hideBackdrop:{default:!1},hideFooter:{default:!1},hideHeader:{default:!1},hideHeaderClose:{default:!1},id:null,modalClass:null,modelValue:{default:!1},noCloseOnBackdrop:{default:!1},noCloseOnEsc:{default:!1},noFade:{default:!1},noFocus:{default:!1},okDisabled:{default:!1},okOnly:{default:!1},okTitle:{default:"Ok"},okVariant:{default:"primary"},scrollable:{default:!1},show:{default:!1},size:null,title:null,titleClass:null,titleSrOnly:{default:!1},titleTag:{default:"h5"},static:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden","hide-prevented","show-prevented","ok","cancel","close"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=sd((0,i.Vh)(n,"id"),"modal"),c=qu((0,i.Vh)(n,"busy")),u=qu((0,i.Vh)(n,"lazy")),d=qu((0,i.Vh)(n,"cancelDisabled")),h=qu((0,i.Vh)(n,"centered")),f=qu((0,i.Vh)(n,"hideBackdrop")),p=qu((0,i.Vh)(n,"hideFooter")),m=qu((0,i.Vh)(n,"hideHeader")),g=qu((0,i.Vh)(n,"hideHeaderClose")),v=qu((0,i.Vh)(n,"modelValue")),y=qu((0,i.Vh)(n,"noCloseOnBackdrop")),b=qu((0,i.Vh)(n,"noCloseOnEsc")),_=qu((0,i.Vh)(n,"noFade")),w=qu((0,i.Vh)(n,"noFocus")),x=qu((0,i.Vh)(n,"okDisabled")),S=qu((0,i.Vh)(n,"okOnly")),E=qu((0,i.Vh)(n,"scrollable")),T=qu((0,i.Vh)(n,"titleSrOnly")),M=qu((0,i.Vh)(n,"static")),C=(0,i.iH)(!1),A=(0,i.iH)(null),R=(0,i.iH)(!1),k=(0,o.Fl)((()=>[n.modalClass,{fade:!_.value,show:C.value}])),O=(0,o.Fl)((()=>!yu(r["header-close"]))),L=(0,o.Fl)((()=>[n.dialogClass,{"modal-fullscreen":!0===n.fullscreen,[`modal-fullscreen-${n.fullscreen}-down`]:"string"==typeof n.fullscreen,[`modal-${n.size}`]:void 0!==n.size,"modal-dialog-centered":h.value,"modal-dialog-scrollable":E.value}])),I=(0,o.Fl)((()=>[n.bodyClass,{[`bg-${n.bodyBgVariant}`]:void 0!==n.bodyBgVariant,[`text-${n.bodyTextVariant}`]:void 0!==n.bodyTextVariant}])),P=(0,o.Fl)((()=>[n.headerClass,{[`bg-${n.headerBgVariant}`]:void 0!==n.headerBgVariant,[`border-${n.headerBorderVariant}`]:void 0!==n.headerBorderVariant,[`text-${n.headerTextVariant}`]:void 0!==n.headerTextVariant}])),D=(0,o.Fl)((()=>[n.footerClass,{[`bg-${n.footerBgVariant}`]:void 0!==n.footerBgVariant,[`border-${n.footerBorderVariant}`]:void 0!==n.footerBorderVariant,[`text-${n.footerTextVariant}`]:void 0!==n.footerTextVariant}])),N=(0,o.Fl)((()=>[n.titleClass,{["visually-hidden"]:T.value}])),U=(0,o.Fl)((()=>d.value||c.value)),F=(0,o.Fl)((()=>x.value||c.value)),B=(e,t={})=>new Rc(e,{cancelable:!1,target:A.value||null,relatedTarget:null,trigger:null,...t,componentId:l.value}),j=(e="")=>{const n=B("hide",{cancelable:""!==e,trigger:e});if("ok"===e&&t(e,n),"cancel"===e&&t(e,n),"close"===e&&t(e,n),t("hide",n),n.defaultPrevented||"backdrop"===e&&y.value||"esc"===e&&b.value)return t("update:modelValue",!0),void t("hide-prevented");t("update:modelValue",!1)},V=()=>{const e=B("show",{cancelable:!0});if(t("show",e),e.defaultPrevented)return t("update:modelValue",!1),void t("show-prevented");t("update:modelValue",!0)},z=()=>V(),H=()=>{C.value=!0,t("shown",B("shown")),!0===u.value&&(R.value=!0)},W=()=>{C.value=!1},G=()=>{t("hidden",B("hidden")),!0===u.value&&(R.value=!1)};return(0,o.YP)((()=>v.value),(e=>{!0===e&&!w.value&&(0,o.Y3)((()=>{null!==A.value&&A.value.focus()}))})),(t,n)=>((0,o.wg)(),(0,o.j4)(o.lR,{to:"body",disabled:(0,i.SU)(M)},[(0,o.Wm)(Bd,{"no-fade":!0,"trans-props":{enterToClass:"show"},onBeforeEnter:z,onAfterEnter:H,onLeave:W,onAfterLeave:G},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",(0,o.dG)({id:(0,i.SU)(l),ref_key:"element",ref:A,class:["modal",(0,i.SU)(k)],role:"dialog","aria-labelledby":`${(0,i.SU)(l)}-label`,"aria-describedby":`${(0,i.SU)(l)}-body`,tabindex:"-1"},t.$attrs,{onKeyup:n[5]||(n[5]=(0,s.D2)((e=>j("esc")),["esc"]))}),[(0,o._)("div",{class:(0,a.C_)(["modal-dialog",(0,i.SU)(L)])},[!(0,i.SU)(u)||(0,i.SU)(u)&&R.value||(0,i.SU)(u)&&!0===(0,i.SU)(v)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["modal-content",e.contentClass])},[(0,i.SU)(m)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["modal-header",(0,i.SU)(P)])},[(0,o.WI)(t.$slots,"header",{},(()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.titleTag),{id:`${(0,i.SU)(l)}-label`,class:(0,a.C_)(["modal-title",(0,i.SU)(N)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,a.zw)(e.title),1)]),!0)])),_:3},8,["id","class"])),(0,i.SU)(g)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,i.SU)(O)?((0,o.wg)(),(0,o.iD)("button",{key:0,type:"button",onClick:n[0]||(n[0]=e=>j("close"))},[(0,o.WI)(t.$slots,"header-close",{},void 0,!0)])):((0,o.wg)(),(0,o.j4)(Vd,{key:1,"aria-label":e.headerCloseLabel,white:e.headerCloseWhite,onClick:n[1]||(n[1]=e=>j("close"))},null,8,["aria-label","white"]))],64))]),!0)],2)),(0,o._)("div",{id:`${(0,i.SU)(l)}-body`,class:(0,a.C_)(["modal-body",(0,i.SU)(I)])},[(0,o.WI)(t.$slots,"default",{},void 0,!0)],10,mm),(0,i.SU)(p)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,a.C_)(["modal-footer",(0,i.SU)(D)])},[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,o.WI)(t.$slots,"cancel",{},(()=>[(0,i.SU)(S)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Zd,{key:0,type:"button",class:"btn",disabled:(0,i.SU)(U),size:e.buttonSize,variant:e.cancelVariant,onClick:n[2]||(n[2]=e=>j("cancel"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.cancelTitle),1)])),_:1},8,["disabled","size","variant"]))]),!0),(0,o.WI)(t.$slots,"ok",{},(()=>[(0,o.Wm)(Zd,{type:"button",class:"btn",disabled:(0,i.SU)(F),size:e.buttonSize,variant:e.okVariant,onClick:n[3]||(n[3]=e=>j("ok"))},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.okTitle),1)])),_:1},8,["disabled","size","variant"])]),!0)]),!0)],2))],2)):(0,o.kq)("",!0)],2),(0,i.SU)(f)?(0,o.kq)("",!0):(0,o.WI)(t.$slots,"backdrop",{key:0},(()=>[(0,o._)("div",{class:"modal-backdrop fade show",onClick:n[4]||(n[4]=e=>j("backdrop"))})]),!0)],16,pm),[[s.F8,(0,i.SU)(v)]])])),_:3})],8,["disabled"]))}}),ym=$d(vm,[["__scopeId","data-v-116ecd66"]]),bm=(0,o.aZ)({__name:"BNav",props:{align:null,cardHeader:{default:!1},fill:{default:!1},justified:{default:!1},pills:{default:!1},small:{default:!1},tabs:{default:!1},tag:{default:"ul"},vertical:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"cardHeader")),r=qu((0,i.Vh)(t,"fill")),s=qu((0,i.Vh)(t,"justified")),l=qu((0,i.Vh)(t,"pills")),c=qu((0,i.Vh)(t,"small")),u=qu((0,i.Vh)(t,"tabs")),d=qu((0,i.Vh)(t,"vertical")),h=Cc((0,i.Vh)(t,"align")),f=(0,o.Fl)((()=>({"nav-tabs":u.value,"nav-pills":l.value&&!u.value,"card-header-tabs":!d.value&&n.value&&u.value,"card-header-pills":!d.value&&n.value&&l.value&&!u.value,"flex-column":d.value,"nav-fill":!d.value&&r.value,"nav-justified":!d.value&&s.value,[h.value]:!d.value&&void 0!==t.align,small:c.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["nav",(0,i.SU)(f)])},{default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default")])),_:3},8,["class"]))}}),_m=(0,o.aZ)({__name:"BNavForm",props:{role:null,id:null,floating:{default:!1},novalidate:{default:!1},validated:{default:!1}},emits:["submit"],setup(e,{emit:t}){const n=e,r=(0,o.Fl)((()=>({floating:n.floating,role:n.role,id:n.id,novalidate:n.novalidate,validated:n.validated}))),a=e=>t("submit",e);return(e,t)=>((0,o.wg)(),(0,o.j4)(Gf,(0,o.dG)((0,i.SU)(r),{class:"d-flex",onSubmit:(0,s.iM)(a,["prevent"])}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["onSubmit"]))}}),wm=(0,o.aZ)({components:{BLink:Xd},props:{...ju(Wd,["event","routerTag"])},setup(e){return{disabledBoolean:qu((0,i.Vh)(e,"disabled"))}}}),xm={class:"nav-item"};function Sm(e,t,n,r,i,a){const s=(0,o.up)("b-link");return(0,o.wg)(),(0,o.iD)("li",xm,[(0,o.Wm)(s,(0,o.dG)({class:"nav-link"},e.$props,{"active-class":"active",tabindex:e.disabledBoolean?-1:void 0,"aria-disabled":!!e.disabledBoolean||void 0}),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16,["tabindex","aria-disabled"])])}const Em=$d(wm,[["render",Sm]]),Tm={class:"nav-item dropdown"},Mm=(0,o.aZ)({__name:"BNavItemDropdown",props:{id:null,text:null,toggleClass:null,size:null,offset:null,autoClose:{type:[Boolean,String],default:!0},dark:{type:Boolean,default:!1},dropleft:{type:Boolean,default:!1},dropright:{type:Boolean,default:!1},dropup:{type:Boolean,default:!1},right:{type:Boolean,default:!1},left:{type:[Boolean,String],default:!1},split:{type:Boolean,default:!1},splitVariant:null,noCaret:{type:Boolean,default:!1},variant:{default:"link"}},setup(e){const t=e;return(e,n)=>((0,o.wg)(),(0,o.iD)("li",Tm,[(0,o.Wm)(_f,(0,o.dG)(t,{"is-nav":""}),(0,o.Nv)({_:2},[(0,o.Ko)(e.$slots,((t,n,r)=>({name:n,fn:(0,o.w5)((t=>[(0,o.WI)(e.$slots,n,(0,a.vs)((0,o.F4)(t||{})))]))})))]),1040)]))}}),Cm={class:"navbar-text"},Am=(0,o.aZ)({__name:"BNavText",props:{text:null},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("li",Cm,[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.text),1)]))]))}}),Rm=(0,o.aZ)({__name:"BNavbar",props:{fixed:null,print:{default:!1},sticky:null,tag:{default:"nav"},toggleable:{type:[Boolean,String],default:!1},dark:{default:!1},variant:null,container:{type:[String,Boolean],default:"fluid"}},setup(e){const t=e,n=qu((0,i.Vh)(t,"print")),r=qu((0,i.Vh)(t,"dark")),s=(0,o.Fl)((()=>"nav"===t.tag?void 0:"navigation")),l=(0,o.Fl)((()=>"string"==typeof t.toggleable?`navbar-expand-${t.toggleable}`:!1===t.toggleable?"navbar-expand":void 0)),c=(0,o.Fl)((()=>!0===t.container?"container":"container-fluid")),u=(0,o.Fl)((()=>({"d-print":n.value,[`sticky-${t.sticky}`]:void 0!==t.sticky,"navbar-dark":r.value,[`bg-${t.variant}`]:void 0!==t.variant,[`fixed-${t.fixed}`]:void 0!==t.fixed,[`${l.value}`]:void 0!==l.value})));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["navbar",(0,i.SU)(u)]),role:(0,i.SU)(s)},{default:(0,o.w5)((()=>[!1!==e.container?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)((0,i.SU)(c))},[(0,o.WI)(t.$slots,"default")],2)):(0,o.WI)(t.$slots,"default",{key:1})])),_:3},8,["class","role"]))}}),km=ju(Wd,["event","routerTag"]),Om=(0,o.aZ)({components:{BLink:Xd},props:{tag:{type:String,default:"div"},...km},setup(e){const t=(0,o.Fl)((()=>$u(e))),n=(0,o.Fl)((()=>t.value?Xd:e.tag));return{computedLinkProps:(0,o.Fl)((()=>t.value?Wu(e,km):{})),computedTag:n}}});function Lm(e,t,n,r,i,a){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.computedTag),(0,o.dG)({class:"navbar-brand"},e.computedLinkProps),{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},16)}const Im=$d(Om,[["render",Lm]]),Pm=(0,o.aZ)({__name:"BNavbarNav",props:{align:null,fill:{default:!1},justified:{default:!1},small:{default:!1},tag:{default:"ul"}},setup(e){const t=e,n=qu((0,i.Vh)(t,"fill")),r=qu((0,i.Vh)(t,"justified")),s=qu((0,i.Vh)(t,"small")),l=Cc((0,i.Vh)(t,"align")),c=(0,o.Fl)((()=>({"nav-fill":n.value,"nav-justified":r.value,[l.value]:void 0!==t.align,small:s.value})));return(e,t)=>((0,o.wg)(),(0,o.iD)("ul",{class:(0,a.C_)(["navbar-nav",(0,i.SU)(c)])},[(0,o.WI)(e.$slots,"default")],2))}}),Dm=(0,o._)("span",{class:"navbar-toggler-icon"},null,-1),Nm=(0,o.aZ)({__name:"BNavbarToggle",props:{disabled:{default:!1},label:{default:"Toggle navigation"},target:null},emits:["click"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"disabled")),a=(0,o.Fl)((()=>({disabled:r.value,"aria-label":n.label}))),s=(0,o.Fl)((()=>({disabled:r.value}))),l=e=>{r.value||t("click",e)};return(t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("button",(0,o.dG)({class:["navbar-toggler",(0,i.SU)(s)],type:"button"},(0,i.SU)(a),{onClick:l}),[(0,o.WI)(t.$slots,"default",{},(()=>[Dm]))],16)),[[(0,i.SU)(Sd),(0,i.SU)(r)?void 0:e.target]])}}),Um=["data-bs-backdrop","data-bs-scroll"],Fm={key:0,class:"offcanvas-header"},Bm={id:"offcanvasLabel",class:"offcanvas-title"},jm={class:"offcanvas-body"},Vm={key:1},zm=(0,o.aZ)({__name:"BOffcanvas",props:{dismissLabel:{default:"Close"},modelValue:{default:!1},bodyScrolling:{default:!1},backdrop:{default:!0},placement:{default:"start"},title:null,noHeaderClose:{default:!1},noHeader:{default:!1}},emits:["update:modelValue","show","shown","hide","hidden"],setup(e,{emit:t}){const n=e,r=qu((0,i.Vh)(n,"modelValue")),s=qu((0,i.Vh)(n,"bodyScrolling")),l=qu((0,i.Vh)(n,"backdrop")),c=qu((0,i.Vh)(n,"noHeaderClose")),u=qu((0,i.Vh)(n,"noHeader")),d=(0,o.Rr)(),h=(0,i.iH)(),f=(0,i.iH)(),p=(0,o.Fl)((()=>!yu(d.footer))),m=(0,o.Fl)((()=>[`offcanvas-${n.placement}`])),g=()=>{t("show"),t("update:modelValue",!0)},v=()=>{t("hide"),t("update:modelValue",!1)};return(0,o.YP)((()=>r.value),(e=>{var t,n;e?null==(t=f.value)||t.show(h.value):null==(n=f.value)||n.hide()})),Ku(h,"shown.bs.offcanvas",(()=>t("shown"))),Ku(h,"hidden.bs.offcanvas",(()=>t("hidden"))),Ku(h,"show.bs.offcanvas",(()=>{g()})),Ku(h,"hide.bs.offcanvas",(()=>{v()})),(0,o.bv)((()=>{var e;f.value=new ta(h.value),r.value&&(null==(e=f.value)||e.show(h.value))})),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"element",ref:h,class:(0,a.C_)(["offcanvas",(0,i.SU)(m)]),tabindex:"-1","aria-labelledby":"offcanvasLabel","data-bs-backdrop":(0,i.SU)(l),"data-bs-scroll":(0,i.SU)(s)},[(0,i.SU)(u)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Fm,[(0,o.WI)(t.$slots,"header",(0,a.vs)((0,o.F4)({visible:(0,i.SU)(r),placement:e.placement,hide:v})),(()=>[(0,o._)("h5",Bm,[(0,o.WI)(t.$slots,"title",{},(()=>[(0,o.Uk)((0,a.zw)(e.title),1)]))]),(0,i.SU)(c)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(Vd,{key:0,class:"text-reset","data-bs-dismiss":"offcanvas","aria-label":e.dismissLabel},null,8,["aria-label"]))]))])),(0,o._)("div",jm,[(0,o.WI)(t.$slots,"default")]),(0,i.SU)(p)?((0,o.wg)(),(0,o.iD)("div",Vm,[(0,o.WI)(t.$slots,"footer",(0,a.vs)((0,o.F4)({visible:(0,i.SU)(r),placement:e.placement,hide:v})))])):(0,o.kq)("",!0)],10,Um))}}),Hm=(0,o.aZ)({__name:"BOverlay",props:{bgColor:null,blur:{default:"2px"},fixed:{default:!1},noCenter:{default:!1},noFade:{default:!1},noWrap:{default:!1},opacity:{default:.85},overlayTag:{default:"div"},rounded:{type:[Boolean,String],default:!1},show:{default:!1},spinnerSmall:{default:!1},spinnerType:{default:"border"},spinnerVariant:null,variant:{default:"light"},wrapTag:{default:"div"},zIndex:{default:10}},emits:["click","hidden","shown"],setup(e,{emit:t}){const n=e,r={top:0,left:0,bottom:0,right:0},s=qu((0,i.Vh)(n,"fixed")),l=qu((0,i.Vh)(n,"noCenter")),c=qu((0,i.Vh)(n,"noWrap")),u=qu((0,i.Vh)(n,"show")),d=qu((0,i.Vh)(n,"spinnerSmall")),h=(0,o.Fl)((()=>!0===n.rounded||""===n.rounded?"rounded":!1===n.rounded?"":`rounded-${n.rounded}`)),f=(0,o.Fl)((()=>n.variant&&!n.bgColor?`bg-${n.variant}`:"")),p=(0,o.Fl)((()=>u.value?"true":null)),m=(0,o.Fl)((()=>({type:n.spinnerType||void 0,variant:n.spinnerVariant||void 0,small:d.value}))),g=(0,o.Fl)((()=>({...r,zIndex:n.zIndex||10}))),v=(0,o.Fl)((()=>["b-overlay",{"position-absolute":!c.value||!s.value,"position-fixed":c.value&&s.value}])),y=(0,o.Fl)((()=>[f.value,h.value])),b=(0,o.Fl)((()=>({...r,opacity:n.opacity,backgroundColor:n.bgColor||void 0,backdropFilter:blur?`blur(${blur})`:void 0}))),_=(0,o.Fl)((()=>l.value?r:{top:"50%",left:"50%",transform:"translateX(-50%) translateY(-50%)"}));return(n,r)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.wrapTag),{class:"b-overlay-wrap position-relative","aria-busy":(0,i.SU)(p)},{default:(0,o.w5)((()=>[(0,o.WI)(n.$slots,"default"),(0,o.Wm)(Bd,{"no-fade":e.noFade,"trans-props":{enterToClass:"show"},name:"fade",onOnAfterEnter:r[1]||(r[1]=e=>t("shown")),onOnAfterLeave:r[2]||(r[2]=e=>t("hidden"))},{default:(0,o.w5)((()=>[(0,i.SU)(u)?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.overlayTag),{key:0,class:(0,a.C_)((0,i.SU)(v)),style:(0,a.j5)((0,i.SU)(g)),onClick:r[0]||(r[0]=e=>t("click",e))},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,a.C_)(["position-absolute",(0,i.SU)(y)]),style:(0,a.j5)((0,i.SU)(b))},null,6),(0,o._)("div",{class:"position-absolute",style:(0,a.j5)((0,i.SU)(_))},[(0,o.WI)(n.$slots,"overlay",(0,a.vs)((0,o.F4)((0,i.SU)(m))),(()=>[(0,o.Wm)(Hd,(0,a.vs)((0,o.F4)((0,i.SU)(m))),null,16)]))],4)])),_:3},8,["class","style"])):(0,o.kq)("",!0)])),_:3},8,["no-fade"])])),_:3},8,["aria-busy"]))}}),Wm=5,Gm=20,$m=0,qm=3,Xm="ellipsis-text",Ym="first-text",Jm="last-text",Zm="next-text",Km="page",Qm="prev-text",eg=e=>Math.max(Uu(e)||Gm,1),tg=e=>Math.max(Uu(e)||$m,0),ng=(e,t)=>{const n=Uu(e)||1;return n>t?t:n<1?1:n},rg=(0,o.aZ)({name:"BPagination",props:{align:{type:String,default:"start"},ariaControls:{type:String,required:!1},ariaLabel:{type:String,default:"Pagination"},disabled:{type:[Boolean,String],default:!1},ellipsisClass:{type:[Array,String],default:()=>[]},ellipsisText:{type:String,default:"…"},firstClass:{type:[Array,String],default:()=>[]},firstNumber:{type:[Boolean,String],default:!1},firstText:{type:String,default:"«"},hideEllipsis:{type:[Boolean,String],default:!1},hideGotoEndButtons:{type:[Boolean,String],default:!1},labelFirstPage:{type:String,default:"Go to first page"},labelLastPage:{type:String,default:"Go to last page"},labelNextPage:{type:String,default:"Go to next page"},labelPage:{type:String,default:"Go to page"},labelPrevPage:{type:String,default:"Go to previous page"},lastClass:{type:[Array,String],default:()=>[]},lastNumber:{type:[Boolean,String],default:!1},lastText:{type:String,default:"»"},limit:{type:Number,default:Wm},modelValue:{type:Number,default:1},nextClass:{type:[Array,String],default:()=>[]},nextText:{type:String,default:"›"},pageClass:{type:[Array,String],default:()=>[]},perPage:{type:Number,default:Gm},pills:{type:[Boolean,String],default:!1},prevClass:{type:[Array,String],default:()=>[]},prevText:{type:String,default:"‹"},size:{type:String,required:!1},totalRows:{type:Number,default:$m}},emits:["update:modelValue","page-click"],setup(e,{emit:t,slots:n}){const r=qu((0,i.Vh)(e,"disabled")),a=qu((0,i.Vh)(e,"firstNumber")),s=qu((0,i.Vh)(e,"hideEllipsis")),l=qu((0,i.Vh)(e,"hideGotoEndButtons")),c=qu((0,i.Vh)(e,"lastNumber")),u=qu((0,i.Vh)(e,"pills")),d=(0,o.Fl)((()=>"fill"===e.align?"start":e.align)),h=Cc((0,i.Vh)(d,"value")),f=(0,o.Fl)((()=>Math.ceil(tg(e.totalRows)/eg(e.perPage)))),p=(0,o.Fl)((()=>{let t;return t=f.value-e.modelValue+2<e.limit&&e.limit>qm?f.value-g.value+1:e.modelValue-Math.floor(g.value/2),t<1?t=1:t>f.value-g.value&&(t=f.value-g.value+1),e.limit<=qm&&c.value&&f.value===t+g.value-1&&(t=Math.max(t-1,1)),t})),m=(0,o.Fl)((()=>{const t=f.value-e.modelValue;let n=!1;return t+2<e.limit&&e.limit>qm?e.limit>qm&&(n=!0):e.limit>qm&&(n=!(s.value&&!a.value)),p.value<=1&&(n=!1),n&&a.value&&p.value<4&&(n=!1),n})),g=(0,o.Fl)((()=>{let t=e.limit;return f.value<=e.limit?t=f.value:e.modelValue<e.limit-1&&e.limit>qm?((!s.value||c.value)&&(t=e.limit-(a.value?0:1)),t=Math.min(t,e.limit)):f.value-e.modelValue+2<e.limit&&e.limit>qm?(!s.value||a.value)&&(t=e.limit-(c.value?0:1)):e.limit>qm&&(t=e.limit-(s.value?0:2)),t})),v=(0,o.Fl)((()=>{const t=f.value-g.value;let n=!1;e.modelValue<e.limit-1&&e.limit>qm?(!s.value||c.value)&&(n=!0):e.limit>qm&&(n=!(s.value&&!c.value)),p.value>t&&(n=!1);const r=p.value+g.value-1;return n&&c.value&&r>f.value-3&&(n=!1),n})),y=(0,i.qj)({pageSize:eg(e.perPage),totalRows:tg(e.totalRows),numberOfPages:f.value}),b=(n,r)=>{if(r===e.modelValue)return;const{target:i}=n,o=new Ac("page-click",{cancelable:!0,target:i});t("page-click",o,r),!o.defaultPrevented&&t("update:modelValue",r)},_=(0,o.Fl)((()=>e.size?`pagination-${e.size}`:"")),w=(0,o.Fl)((()=>u.value?"b-pagination-pills":""));(0,o.YP)((()=>e.modelValue),(n=>{const r=ng(n,f.value);r!==e.modelValue&&t("update:modelValue",r)})),(0,o.YP)(y,((n,r)=>{null!=n&&(r.pageSize!==n.pageSize&&r.totalRows===n.totalRows||r.numberOfPages!==n.numberOfPages&&e.modelValue>r.numberOfPages)&&t("update:modelValue",1)}));const x=(0,o.Fl)((()=>{const e=[];for(let t=0;t<g.value;t++)e.push({number:p.value+t,classes:null});return e}));return()=>{const t=[],i=x.value.map((e=>e.number)),s=t=>t===e.modelValue,u=e.modelValue<1,d="fill"===e.align,p=(t,i,a,l,c,h)=>{const p=r.value||s(h)||u||t<1||t>f.value,m=t<1?1:t>f.value?f.value:t,g={disabled:p,page:m,index:m-1},v=Nu(a,g,n)||l||"";return(0,o.h)("li",{class:["page-item",{disabled:p,"flex-fill":d,"d-flex":d&&!p},c]},(0,o.h)(p?"span":"button",{class:["page-link",{"flex-grow-1":!p&&d}],"aria-label":i,"aria-controls":e.ariaControls||null,"aria-disabled":p?"true":null,role:"menuitem",type:p?null:"button",tabindex:p?null:"-1",onClick:e=>{p||b(e,m)}},v))},g=t=>(0,o.h)("li",{class:["page-item","disabled","bv-d-xs-down-none",d?"flex-fill":"",e.ellipsisClass],role:"separator",key:"ellipsis-"+(t?"last":"first")},[(0,o.h)("span",{class:["page-link"]},Nu(Xm,{},n)||e.ellipsisText||"...")]),y=(t,i)=>{const a=s(t.number)&&!u,l=r.value?null:a||u&&0===i?"0":"-1",c={active:a,disabled:r.value,page:t.number,index:t.number-1,content:t.number},h=Nu(Km,c,n)||t.number,f=(0,o.h)(r.value?"span":"button",{class:["page-link",{"flex-grow-1":!r.value&&d}],"aria-controls":e.ariaControls||null,"aria-disabled":r.value?"true":null,"aria-label":e.labelPage?`${e.labelPage} ${t.number}`:null,role:"menuitemradio",type:r.value?null:"button",tabindex:l,onClick:e=>{r.value||b(e,t.number)}},h);return(0,o.h)("li",{class:["page-item",{disabled:r.value,active:a,"flex-fill":d,"d-flex":d&&!r.value},e.pageClass],role:"presentation",key:`page-${t.number}`},f)};if(!l.value&&!a.value){const n=p(1,e.labelFirstPage,Ym,e.firstText,e.firstClass,1);t.push(n)}const S=p(e.modelValue-1,e.labelFirstPage,Qm,e.prevText,e.prevClass,1);t.push(S),a.value&&1!==i[0]&&t.push(y({number:1},0)),m.value&&t.push(g(!1)),x.value.forEach(((e,n)=>{const r=m.value&&a.value&&1!==i[0]?1:0;t.push(y(e,n+r))})),v.value&&t.push(g(!0)),c.value&&i[i.length-1]!==f.value&&t.push(y({number:f.value},-1));const E=p(e.modelValue+1,e.labelNextPage,Zm,e.nextText,e.nextClass,f.value);if(t.push(E),!c.value&&!l.value){const n=p(f.value,e.labelLastPage,Jm,e.lastText,e.lastClass,f.value);t.push(n)}return(0,o.h)("ul",{class:["pagination",_.value,h.value,w.value],role:"menubar","aria-disabled":r.value,"aria-label":e.ariaLabel||null},t)}}}),ig=(0,o.aZ)({__name:"BPlaceholder",props:{tag:{default:"span"},width:null,cols:null,variant:null,size:null,animation:null},setup(e){const t=e,n=(0,o.Fl)((()=>void 0===t.width?void 0:"number"==typeof t.width?t.width.toString():t.width.includes("%")?t.width.replaceAll("%",""):t.width)),r=(0,o.Fl)((()=>void 0===t.cols?void 0:"number"==typeof t.cols?t.cols.toString():t.cols)),s=(0,o.Fl)((()=>({[`col-${r.value}`]:void 0!==r.value&&void 0===n.value,[`bg-${t.variant}`]:void 0!==t.variant,[`placeholder-${t.size}`]:void 0!==t.size,[`placeholder-${t.animation}`]:void 0!==t.animation}))),l=(0,o.Fl)((()=>void 0===n.value?void 0:`width: ${n.value}%;`));return(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["placeholder",(0,i.SU)(s)]),style:(0,a.j5)((0,i.SU)(l))},null,8,["class","style"]))}}),og=(0,o.aZ)({__name:"BPlaceholderButton",props:{tag:{default:"div"},width:null,cols:null,variant:{default:"primary"},animation:null},setup(e){const t=e,n=(0,o.Fl)((()=>["btn",`btn-${t.variant}`,"disabled"])),r=(0,o.Fl)((()=>({animation:t.animation,width:t.width,cols:t.cols,tag:t.tag})));return(e,t)=>((0,o.wg)(),(0,o.j4)(ig,(0,o.dG)({class:(0,i.SU)(n)},(0,i.SU)(r)),null,16,["class"]))}}),ag=(0,o.aZ)({__name:"BPlaceholderCard",props:{noHeader:{default:!1},headerWidth:{default:100},headerVariant:null,headerAnimation:null,headerSize:null,noFooter:{default:!1},footerWidth:{default:100},footerVariant:null,footerAnimation:null,footerSize:null,animation:null,size:null,variant:null,noButton:{default:!1},imgBottom:{default:!1},imgSrc:null,imgBlankColor:{default:"#868e96"},imgHeight:{default:100},noImg:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"noButton")),r=qu((0,i.Vh)(t,"noHeader")),s=qu((0,i.Vh)(t,"noFooter")),l=qu((0,i.Vh)(t,"noImg")),c=(0,o.Fl)((()=>({width:t.headerWidth,variant:t.headerVariant,animation:t.headerAnimation,size:t.headerSize}))),u=(0,o.Fl)((()=>({width:t.footerWidth,animation:t.footerAnimation,size:n.value?t.footerSize:void 0,variant:t.footerVariant}))),d=(0,o.Fl)((()=>({blank:!t.imgSrc,blankColor:t.imgBlankColor,height:t.imgSrc?void 0:t.imgHeight,src:t.imgSrc,top:!t.imgBottom,bottom:t.imgBottom})));return(t,h)=>((0,o.wg)(),(0,o.j4)(kh,{"img-bottom":e.imgBottom},(0,o.Nv)({default:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Wm)(ig,{cols:"7"}),(0,o.Wm)(ig,{cols:"4"}),(0,o.Wm)(ig,{cols:"4"}),(0,o.Wm)(ig,{cols:"6"}),(0,o.Wm)(ig,{cols:"8"})]))])),_:2},[(0,i.SU)(l)?void 0:{name:"img",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"img",{},(()=>[(0,o.Wm)(xh,(0,a.vs)((0,o.F4)((0,i.SU)(d))),null,16)]))])),key:"0"},(0,i.SU)(r)?void 0:{name:"header",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"header",{},(()=>[(0,o.Wm)(ig,(0,a.vs)((0,o.F4)((0,i.SU)(c))),null,16)]))])),key:"1"},(0,i.SU)(s)?void 0:{name:"footer",fn:(0,o.w5)((()=>[(0,o.WI)(t.$slots,"footer",{},(()=>[(0,i.SU)(n)?((0,o.wg)(),(0,o.j4)(ig,(0,a.vs)((0,o.dG)({key:1},(0,i.SU)(u))),null,16)):((0,o.wg)(),(0,o.j4)(og,(0,a.vs)((0,o.dG)({key:0},(0,i.SU)(u))),null,16))]))])),key:"2"}]),1032,["img-bottom"]))}}),sg=(0,o.aZ)({__name:"BTableSimple",props:{bordered:{default:!1},borderless:{default:!1},borderVariant:null,captionTop:{default:!1},dark:{default:!1},hover:{default:!1},responsive:{type:[Boolean,String],default:!1},stacked:{type:[Boolean,String],default:!1},striped:{default:!1},small:{default:!1},tableClass:null,tableVariant:null,stickyHeader:{default:!1}},setup(e){const t=e,n=qu((0,i.Vh)(t,"captionTop")),r=qu((0,i.Vh)(t,"borderless")),s=qu((0,i.Vh)(t,"bordered")),l=qu((0,i.Vh)(t,"dark")),c=qu((0,i.Vh)(t,"hover")),u=qu((0,i.Vh)(t,"small")),d=qu((0,i.Vh)(t,"striped")),h=qu((0,i.Vh)(t,"stickyHeader")),f=(0,o.Fl)((()=>["table","b-table",{"table-bordered":s.value,"table-borderless":r.value,[`border-${t.borderVariant}`]:void 0!==t.borderVariant,"caption-top":n.value,"table-dark":l.value,"table-hover":c.value,"b-table-stacked":"boolean"==typeof t.stacked&&t.stacked,[`b-table-stacked-${t.stacked}`]:"string"==typeof t.stacked,"table-striped":d.value,"table-sm":u.value,[`table-${t.tableVariant}`]:void 0!==t.tableVariant},t.tableClass])),p=(0,o.Fl)((()=>[{"table-responsive":!0===t.responsive,[`table-responsive-${t.responsive}`]:"string"==typeof t.responsive,"b-table-sticky-header":h.value}]));return(t,n)=>e.responsive?((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,a.C_)((0,i.SU)(p))},[(0,o._)("table",{role:"table",class:(0,a.C_)((0,i.SU)(f))},[(0,o.WI)(t.$slots,"default")],2)],2)):((0,o.wg)(),(0,o.iD)("table",{key:0,role:"table",class:(0,a.C_)((0,i.SU)(f))},[(0,o.WI)(t.$slots,"default")],2))}}),lg=(0,o.aZ)({__name:"BPlaceholderTable",props:{rows:{default:3},columns:{default:5},cellWidth:{default:100},size:null,animation:null,variant:null,headerColumns:null,hideHeader:{default:!1},headerCellWidth:{default:100},headerSize:null,headerAnimation:null,headerVariant:null,footerColumns:null,showFooter:{default:!1},footerCellWidth:{default:100},footerSize:null,footerAnimation:null,footerVariant:null},setup(e){const t=e,n=(0,o.Fl)((()=>"string"==typeof t.columns?Fu(t.columns,5):t.columns)),r=(0,o.Fl)((()=>"string"==typeof t.rows?Fu(t.rows,3):t.rows)),s=(0,o.Fl)((()=>void 0===t.headerColumns?n.value:"string"==typeof t.headerColumns?Fu(t.headerColumns,n.value):t.headerColumns)),l=(0,o.Fl)((()=>void 0===t.footerColumns?n.value:"string"==typeof t.footerColumns?Fu(t.footerColumns,n.value):t.footerColumns)),c=(0,o.Fl)((()=>({size:t.size,variant:t.variant,animation:t.animation,width:t.cellWidth}))),u=(0,o.Fl)((()=>({size:t.headerSize,variant:t.headerVariant,animation:t.headerAnimation,width:t.headerCellWidth}))),d=(0,o.Fl)((()=>({size:t.footerSize,variant:t.footerVariant,animation:t.footerAnimation,width:t.footerCellWidth}))),h=qu((0,i.Vh)(t,"hideHeader")),f=qu((0,i.Vh)(t,"showFooter"));return(e,t)=>((0,o.wg)(),(0,o.j4)(sg,null,{default:(0,o.w5)((()=>[(0,i.SU)(h)?(0,o.kq)("",!0):(0,o.WI)(e.$slots,"thead",{key:0},(()=>[(0,o._)("thead",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(s),((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(ig,(0,a.vs)((0,o.F4)((0,i.SU)(u))),null,16)])))),128))])])])),(0,o.WI)(e.$slots,"default",{},(()=>[(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(r),((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(n),((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:t},[(0,o.Wm)(ig,(0,a.vs)((0,o.F4)((0,i.SU)(c))),null,16)])))),128))])))),128))])])),(0,i.SU)(f)?(0,o.WI)(e.$slots,"tfoot",{key:1},(()=>[(0,o._)("tfoot",null,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(l),((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(ig,(0,a.vs)((0,o.F4)((0,i.SU)(d))),null,16)])))),128))])])])):(0,o.kq)("",!0)])),_:3}))}}),cg=(0,o.aZ)({__name:"BPlaceholderWrapper",props:{loading:{default:!1}},setup(e){const t=qu((0,i.Vh)(e,"loading"));return(e,n)=>(0,i.SU)(t)?(0,o.WI)(e.$slots,"loading",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})}}),ug=(0,o.aZ)({props:{container:{type:[String,Object],default:"body"},content:{type:String},id:{type:String},customClass:{type:String,default:""},noninteractive:{type:[Boolean,String],default:!1},placement:{type:String,default:"right"},target:{type:[String,Object],default:void 0},title:{type:String},delay:{type:[Number,Object],default:0},triggers:{type:String,default:"click"},show:{type:[Boolean,String],default:!1},variant:{type:String,default:void 0},html:{type:[Boolean,String],default:!0},sanitize:{type:[Boolean,String],default:!1},offset:{type:String,default:"0"}},emits:["show","shown","hide","hidden","inserted"],setup(e,{emit:t,slots:n}){qu((0,i.Vh)(e,"noninteractive"));const r=qu((0,i.Vh)(e,"show")),a=qu((0,i.Vh)(e,"html")),s=qu((0,i.Vh)(e,"sanitize")),l=(0,i.iH)(),c=(0,i.iH)(),u=(0,i.iH)(),d=(0,i.iH)(),h=(0,i.iH)(),f=(0,o.Fl)((()=>({[`b-popover-${e.variant}`]:void 0!==e.variant}))),p=e=>"string"==typeof e||e instanceof HTMLElement?e:typeof e<"u"?e.$el:void 0,m=e=>{if(e){if("string"==typeof e){const t=document.getElementById(e);return t||void 0}return e}},g=[{event:"show.bs.popover",handler:()=>t("show")},{event:"shown.bs.popover",handler:()=>t("shown")},{event:"hide.bs.popover",handler:()=>t("hide")},{event:"hidden.bs.popover",handler:()=>t("hidden")},{event:"inserted.bs.popover",handler:()=>t("inserted")}],v=e=>{for(const t of g)e.addEventListener(t.event,t.handler)},y=e=>{for(const t of g)e.removeEventListener(t.event,t.handler)},b=t=>{c.value=m(p(t)),c.value&&(v(c.value),u.value=new Wa(c.value,{customClass:e.customClass,container:p(e.container),trigger:e.triggers,placement:e.placement,title:e.title||n.title?d.value:"",content:h.value,html:a.value,delay:e.delay,sanitize:s.value,offset:e.offset}))};return(0,o.YP)((()=>e.target),(e=>{var t;null==(t=u.value)||t.dispose(),c.value instanceof HTMLElement&&y(c.value),b(e)})),(0,o.YP)((()=>r.value),((e,t)=>{var n,r;e!==t&&(e?null==(n=u.value)||n.show():null==(r=u.value)||r.hide())})),(0,o.bv)((()=>{var t,n,i;(0,o.Y3)((()=>{b(e.target)})),null==(n=null==(t=l.value)?void 0:t.parentNode)||n.removeChild(l.value),r.value&&(null==(i=u.value)||i.show())})),(0,o.Jd)((()=>{var e;null==(e=u.value)||e.dispose(),c.value instanceof HTMLElement&&y(c.value)})),{element:l,titleRef:d,contentRef:h,computedClasses:f}}}),dg=["id"],hg={ref:"titleRef"},fg={ref:"contentRef"};function pg(e,t,n,r,i,s){return(0,o.wg)(),(0,o.iD)("div",{id:e.id,ref:"element",class:(0,a.C_)(["popover b-popover",e.computedClasses]),role:"tooltip",tabindex:"-1"},[(0,o._)("div",hg,[(0,o.WI)(e.$slots,"title",{},(()=>[(0,o.Uk)((0,a.zw)(e.title),1)]))],512),(0,o._)("div",fg,[(0,o.WI)(e.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)(e.content),1)]))],512)],10,dg)}const mg=$d(ug,[["render",pg]]),gg=["aria-valuenow","aria-valuemax"],vg=(0,o.aZ)({__name:"BProgressBar",props:{animated:{default:!1},label:null,labelHtml:null,max:null,precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0},variant:null},setup(e){const t=e,n=(0,o.f3)(yg),r=qu((0,i.Vh)(t,"animated")),s=qu((0,i.Vh)(t,"showProgress")),l=qu((0,i.Vh)(t,"showValue")),c=qu((0,i.Vh)(t,"striped")),u=(0,o.Fl)((()=>({"progress-bar-animated":r.value||(null==n?void 0:n.animated),"progress-bar-striped":c.value||(null==n?void 0:n.striped)||r.value||(null==n?void 0:n.animated),[`bg-${t.variant}`]:void 0!==t.variant}))),d=(0,o.Fl)((()=>"number"==typeof t.precision?t.precision:Number.parseFloat(t.precision))),h=(0,o.Fl)((()=>"number"==typeof t.value?t.value:Number.parseFloat(t.value))),f=(0,o.Fl)((()=>"number"==typeof t.max?t.max:void 0===t.max?void 0:Number.parseFloat(t.max))),p=(0,o.Fl)((()=>void 0!==t.labelHtml?t.labelHtml:l.value||(null==n?void 0:n.showValue)?h.value.toFixed(d.value):s.value||(null==n?void 0:n.showProgress)?(100*h.value/(f.value||100)).toFixed(d.value):void 0!==t.label?t.label:"")),m=(0,o.Fl)((()=>null!=n&&n.max?100*h.value/("number"==typeof n.max?n.max:Number.parseInt(n.max))+"%":t.max?100*h.value/("number"==typeof t.max?t.max:Number.parseInt(t.max))+"%":"string"==typeof t.value?t.value:`${t.value}%`));return(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["progress-bar",(0,i.SU)(u)]),role:"progressbar","aria-valuenow":e.value,"aria-valuemin":"0","aria-valuemax":e.max,style:(0,a.j5)({width:(0,i.SU)(m)})},[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Uk)((0,a.zw)((0,i.SU)(p)),1)]))],14,gg))}}),yg=Symbol(),bg=(0,o.aZ)({__name:"BProgress",props:{variant:null,max:null,height:null,animated:{default:!1},precision:{default:0},showProgress:{default:!1},showValue:{default:!1},striped:{default:!1},value:{default:0}},setup(e){const t=e,n=qu((0,i.Vh)(t,"animated")),r=qu((0,i.Vh)(t,"showProgress")),s=qu((0,i.Vh)(t,"showValue")),l=qu((0,i.Vh)(t,"striped")),c=(0,o.Fl)((()=>({animated:t.animated,max:t.max,precision:t.precision,showProgress:t.showProgress,showValue:t.showValue,striped:t.striped,value:t.value,variant:t.variant})));return(0,o.JJ)(yg,{animated:n.value,max:t.max,showProgress:r.value,showValue:s.value,striped:l.value}),(t,n)=>((0,o.wg)(),(0,o.iD)("div",{class:"progress",style:(0,a.j5)({height:e.height})},[(0,o.WI)(t.$slots,"default",{},(()=>[(0,o.Wm)(vg,(0,a.vs)((0,o.F4)((0,i.SU)(c))),null,16)]))],4))}}),_g=ku("cols",[""],{type:[String,Number],default:null}),wg=(0,o.aZ)({name:"BRow",props:{tag:{type:String,default:"div"},gutterX:{type:String,default:null},gutterY:{type:String,default:null},noGutters:{type:[Boolean,String],default:!1},alignV:{type:String,default:null},alignH:{type:String,default:null},alignContent:{type:String,default:null},..._g},setup(e){const t=qu((0,i.Vh)(e,"noGutters")),n=Cc((0,i.Vh)(e,"alignH")),r=(0,o.Fl)((()=>Ou(e,_g,"cols","row-cols")));return{computedClasses:(0,o.Fl)((()=>[r.value,{[`gx-${e.gutterX}`]:null!==e.gutterX,[`gy-${e.gutterY}`]:null!==e.gutterY,"g-0":t.value,[`align-items-${e.alignV}`]:null!==e.alignV,[n.value]:null!==e.alignH,[`align-content-${e.alignContent}`]:null!==e.alignContent}]))}}});function xg(e,t,n,r,i,s){return(0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{class:(0,a.C_)(["row",e.computedClasses])},{default:(0,o.w5)((()=>[(0,o.WI)(e.$slots,"default")])),_:3},8,["class"])}const Sg=$d(wg,[["render",xg]]),Eg=(0,o.aZ)({__name:"BSkeleton",props:{height:null,width:null,size:null,animation:{default:"wave"},type:{default:"text"},variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>[`b-skeleton-${t.type}`,{[`b-skeleton-animate-${t.animation}`]:"boolean"!=typeof t.animation&&t.animation,[`bg-${t.variant}`]:void 0!==t.variant}])),r=(0,o.Fl)((()=>({width:t.size||t.width,height:t.size||t.height})));return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["b-skeleton",(0,i.SU)(n)]),style:(0,a.j5)((0,i.SU)(r))},null,6))}}),Tg=(0,o.aZ)({__name:"BSkeletonIcon",props:{animation:{default:"wave"}},setup(e){const t=e,n=(0,o.Fl)((()=>[`b-skeleton-animate-${t.animation}`]));return(e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["b-skeleton-icon-wrapper position-relative d-inline-block overflow-hidden",(0,i.SU)(n)])},[(0,o.WI)(e.$slots,"default")],2))}}),Mg={key:0},Cg={key:1},Ag=(0,o.aZ)({__name:"BSkeletonTable",props:{animation:{default:"wave"},columns:{default:5},hideHeader:{default:!1},rows:{default:3},showFooter:{default:!1},tableProps:null},setup(e){const t=e,n=qu((0,i.Vh)(t,"hideHeader")),r=qu((0,i.Vh)(t,"showFooter"));return(t,s)=>((0,o.wg)(),(0,o.j4)(sg,(0,a.vs)((0,o.F4)(e.tableProps)),{default:(0,o.w5)((()=>[(0,i.SU)(n)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("thead",Mg,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(Eg)])))),128))])])),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.rows,((t,n)=>((0,o.wg)(),(0,o.iD)("tr",{key:n},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:t},[(0,o.Wm)(Eg,{width:"75%"})])))),128))])))),128))]),(0,i.SU)(r)?((0,o.wg)(),(0,o.iD)("tfoot",Cg,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.columns,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},[(0,o.Wm)(Eg)])))),128))])])):(0,o.kq)("",!0)])),_:1},16))}}),Rg=(0,o.aZ)({__name:"BSkeletonWrapper",props:{loading:{default:!1}},setup(e){const t=qu((0,i.Vh)(e,"loading"));return(e,n)=>(0,i.SU)(t)?(0,o.WI)(e.$slots,"loading",{key:0}):(0,o.WI)(e.$slots,"default",{key:1})}}),kg=["ar","az","ckb","fa","he","ks","lrc","mzn","ps","sd","te","ug","ur","yi"].map((e=>e.toLowerCase())),Og=e=>{const t=zc(e).toLowerCase().replace(Vc,"").split("-"),n=t.slice(0,2).join("-"),r=t[0];return kg.includes(n)||kg.includes(r)},Lg=e=>Qc?kc(e)?e:{capture:!!e||!1}:!!(kc(e)?e.capture:e),Ig=(e,t,n,r)=>{e&&e.addEventListener&&e.addEventListener(t,n,Lg(r))},Pg=(e,t,n,r)=>{e&&e.removeEventListener&&e.removeEventListener(t,n,r)},Dg=(e,t)=>{(e?Ig:Pg)(...t)},Ng=(e,{preventDefault:t=!0,propagation:n=!0,immediatePropagation:r=!1}={})=>{t&&e.preventDefault(),n&&e.stopPropagation(),r&&e.stopImmediatePropagation()},Ug="ArrowDown",Fg="End",Bg="Home",jg="PageDown",Vg="PageUp",zg="ArrowUp",Hg=1,Wg=100,Gg=1,$g=500,qg=100,Xg=10,Yg=4,Jg=[zg,Ug,Bg,Fg,Vg,jg],Zg=(0,o.aZ)({props:{ariaControls:{type:String,required:!1},ariaLabel:{type:String,required:!1},labelIncrement:{type:String,default:"Increment"},labelDecrement:{type:String,default:"Decrement"},modelValue:{type:Number,default:null},name:{type:String,default:"BFormSpinbutton"},disabled:{type:[Boolean,String],default:!1},placeholder:{type:String,required:!1},locale:{type:String,default:"locale"},form:{type:String,required:!1},inline:{type:Boolean,default:!1},size:{type:String,required:!1},formatterFn:{type:Function},readonly:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},repeatDelay:{type:[String,Number],default:$g},repeatInterval:{type:[String,Number],default:qg},repeatStepMultiplier:{type:[String,Number],default:Yg},repeatThreshold:{type:[String,Number],default:Xg},required:{type:[Boolean,String],default:!1},step:{type:[String,Number],default:Gg},min:{type:[String,Number],default:Hg},max:{type:[String,Number],default:Wg},wrap:{type:Boolean,default:!1},state:{type:[Boolean,String],default:null}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=(0,i.iH)(!1),r=(0,o.Fl)((()=>1)),a=()=>{t("change",l.value)},s=(0,i.iH)(null),l=(0,o.Fl)({get(){return Ic(e.modelValue)?s.value:e.modelValue},set(n){Ic(e.modelValue)?s.value=n:t("update:modelValue",n)}});let c,u,d=!1;const h=(0,o.Fl)((()=>Bu(e.step,Gg))),f=(0,o.Fl)((()=>Bu(e.min,Hg))),p=(0,o.Fl)((()=>{const t=Bu(e.max,Wg),n=h.value,r=f.value;return Math.floor((t-r)/n)*n+r})),m=(0,o.Fl)((()=>{const t=Uu(e.repeatDelay,0);return t>0?t:$g})),g=(0,o.Fl)((()=>{const t=Uu(e.repeatInterval,0);return t>0?t:qg})),v=(0,o.Fl)((()=>Math.max(Uu(e.repeatThreshold,Xg),1))),y=(0,o.Fl)((()=>Math.max(Uu(e.repeatStepMultiplier,Yg),1))),b=(0,o.Fl)((()=>{const e=h.value;return Math.floor(e)===e?0:(e.toString().split(".")[1]||"").length})),_=(0,o.Fl)((()=>Math.pow(10,b.value||0))),w=(0,o.Fl)((()=>{const{value:e}=l;return null===e?"":e.toFixed(b.value)})),x=(0,o.Fl)((()=>{const t=[e.locale];return new Intl.NumberFormat(t).resolvedOptions().locale})),S=(0,o.Fl)((()=>Og(x.value))),E=()=>{const e=b.value;return new Intl.NumberFormat(x.value,{style:"decimal",useGrouping:!1,minimumIntegerDigits:1,minimumFractionDigits:e,maximumFractionDigits:e,notation:"standard"}).format},T=(0,o.Fl)((()=>e.formatterFn?e.formatterFn:E())),M=(0,o.Fl)((()=>({role:"group",lang:x.value,tabindex:e.disabled?null:"-1",title:e.ariaLabel}))),C=(0,o.Fl)((()=>!Ic(e.modelValue)||!Ic(s.value))),A=(0,o.Fl)((()=>({dir:S.value,spinId:r.value,tabindex:e.disabled?null:"0",role:"spinbutton","aria-live":"off","aria-label":e.ariaLabel||null,"aria-controls":e.ariaControls||null,"aria-invalid":!1===e.state||!C.value&&e.required?"true":null,"aria-required":e.required?"true":null,"aria-valuemin":f.value,"aria-valuemax":p.value,"aria-valuenow":Ic(l.value)?null:l.value,"aria-valuetext":Ic(l.value)?null:T.value(l.value)}))),R=t=>{let{value:n}=l;if(!e.disabled&&!Ic(n)){const r=h.value*t,i=f.value,o=p.value,a=_.value,{wrap:s}=e;n=Math.round((n-i)/r)*r+i+r,n=Math.round(n*a)/a,l.value=n>o?s?i:o:n<i?s?o:i:n}},k=(e=1)=>{Ic(l.value)?l.value=f.value:R(1*e)},O=(t=1)=>{Ic(l.value)?l.value=e.wrap?p.value:f.value:R(-1*t)},L=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:o}=t;if(!(e.disabled||e.readonly||r||i||o)&&Jg.includes(n)){if(Ng(t,{propagation:!1}),d)return;F(),[zg,Ug].includes(n)?(d=!0,n===zg?P(t,k):n===Ug&&P(t,O)):n===Vg?k(y.value):n===jg?O(y.value):n===Bg?l.value=f.value:n===Fg&&(l.value=p.value)}},I=t=>{const{code:n,altKey:r,ctrlKey:i,metaKey:o}=t;e.disabled||e.readonly||r||i||o||Jg.includes(n)&&(Ng(t,{propagation:!1}),F(),d=!1,a())},P=(t,n)=>{const{type:r}=t||{};if(!e.disabled&&!e.readonly){if(D(t)&&"mousedown"===r&&t.button)return;F(),n(1);const e=v.value,i=y.value,o=m.value,a=g.value;c=setTimeout((()=>{let t=0;u=setInterval((()=>{n(t<e?1:i),t++}),a)}),o)}};function D(e){return"mouseup"===e.type||"mousedown"===e.type}const N=e=>{D(e)&&"mouseup"===e.type&&e.button||(Ng(e,{propagation:!1}),F(),U(!1),a())},U=e=>{try{Dg(e,[document.body,"mouseup",N,!1]),Dg(e,[document.body,"touchend",N,!1])}catch{return 0}},F=()=>{clearTimeout(c),clearInterval(u),c=void 0,u=void 0},B=(t,i,a,s,l,c,u)=>{const d=(0,o.h)(a,{props:{scale:n.value?1.5:1.25},attrs:{"aria-hidden":"true"}}),h={hasFocus:n.value},f=n=>{!e.disabled&&!e.readonly&&(Ng(n,{propagation:!1}),U(!0),P(n,t))};return(0,o.h)("button",{class:[{"py-0":!e.vertical},"btn","btn-sm","border-0","rounded-0"],tabindex:"-1",type:"button",disabled:e.disabled||e.readonly||c,"aria-disabled":e.disabled||e.readonly||c?"true":null,"aria-controls":r.value,"aria-label":i||null,"aria-keyshortcuts":l||null,onmousedown:f,ontouchstart:f},[Nu(u,h)||d])};return()=>{const t=B(k,e.labelIncrement,(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-plus",viewBox:"0 0 16 16"},(0,o.h)("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})),"inc","ArrowUp",!1,"increment"),r=B(O,e.labelDecrement,(0,o.h)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-dash",viewBox:"0 0 16 16"},(0,o.h)("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})),"dec","ArrowDown",!1,"decrement"),i=[];e.name&&!e.disabled&&i.push((0,o.h)("input",{type:"hidden",name:e.name,form:e.form||null,value:w.value,key:"hidden"}));const a=(0,o.h)("output",{class:[{"d-flex":e.vertical},{"align-self-center":!e.vertical},{"align-items-center":e.vertical},{"border-top":e.vertical},{"border-bottom":e.vertical},{"border-start":!e.vertical},{"border-end":!e.vertical},"flex-grow-1"],...A.value,key:"output"},[(0,o.h)("bdi",C.value?T.value(l.value):e.placeholder||"")]);return(0,o.h)("div",{class:["b-form-spinbutton form-control",{disabled:e.disabled},{readonly:e.readonly},{focus:n},{"d-inline-flex":e.inline||e.vertical},{"d-flex":!e.inline&&!e.vertical},{"align-items-stretch":!e.vertical},{"flex-column":e.vertical},e.size?`form-control-${e.size}`:null],...M.value,onkeydown:L,onkeyup:I},e.vertical?[t,i,a,r]:[r,i,a,t])}}}),Kg=["TD","TH","TR"],Qg=["a","a *","button","button *","input:not(.disabled):not([disabled])","select:not(.disabled):not([disabled])","textarea:not(.disabled):not([disabled])",'[role="link"]','[role="link"] *','[role="button"]','[role="button"] *',"[tabindex]:not(.disabled):not([disabled])"].join(","),ev=e=>{if(!e||!e.target)return!1;const t=e.target;if("disabled"in t&&t.disabled||-1!==Kg.indexOf(t.tagName))return!1;if(Ru(".dropdown-menu",t))return!0;const n="LABEL"===t.tagName?t:Ru("label",t);if(n){const e=wu(n,"for"),t=e?xu(e):bu("input, select, textarea",n);if(t&&!t.disabled)return!0}return Cu(t,Qg)},tv=()=>{const e=(e,t)=>{const n=[];return null!=e&&e.length||!(null==t?void 0:t.length)?(Array.isArray(e)&&e.forEach((e=>{"string"==typeof e?n.push({key:e,label:Hc(e)}):kc(e)&&e.key&&"string"==typeof e.key&&n.push({...e})})),n):(Object.keys(t[0]).forEach((e=>n.push({key:e,label:Hc(e)}))),n)},t=(0,i.iH)([]),n=(e,n,r,i)=>(t.value=Vu(n),"isFilterableTable"in i&&!0===i.isFilterableTable.value&&r.filter&&(t.value=a(t.value,r.filter,r.filterable)),"isSortable"in i&&!0===i.isSortable.value&&(t.value=o(e,t.value,{key:r.sortBy,desc:i.sortDescBoolean.value},r.sortCompare)),t.value),r=(0,i.iH)(void 0),o=(e,t,n,r)=>{if(!n||!n.key)return t;const i=n.key;return t.sort(((e,t)=>{if(void 0!==r)return r(e,t,n.key,n.desc);const o=e=>"object"==typeof e?JSON.stringify(e):e;return o(e[i])>o(t[i])?n.desc?-1:1:o(t[i])>o(e[i])?n.desc?1:-1:0}))},a=(e,t,n)=>e.filter((e=>Object.entries(e).filter((e=>{const[r,i]=e;return!(!i||"_"===r[0]||n.length>0&&!n.includes(r))&&("object"==typeof i?JSON.stringify(Object.values(i)):"string"==typeof i?i:i.toString()).toLowerCase().includes(t.toLowerCase())})).length>0));return{normaliseFields:e,mapItems:n,internalItems:t,updateInternalItems:async e=>{try{return t.value=await zu(e),t.value}catch{return}},filterEvent:r,notifyFilteredItems:()=>{r.value&&r.value(t.value)},formatItem:(e,t)=>{const n=e[t.key];return t.formatter&&"function"==typeof t.formatter?t.formatter(n,t.key,e):e[t.key]}}},nv=["title","abbr","onClick"],rv={class:"d-inline-flex flex-nowrap align-items-center gap-1"},iv={key:1},ov=["onClick","onDblclick","onMouseenter","onMouseleave"],av={key:0,class:"b-table-stacked-label"},sv=["colspan"],lv=["colspan"],cv={class:"d-flex align-items-center justify-content-center gap-2"},uv=(0,o._)("strong",null,"Loading...",-1),dv={key:1,class:"b-table-empty-slot"},hv=["colspan"],fv={key:0},pv=["title","abbr","onClick"],mv={key:1},gv={key:2},vv={key:3},yv=(0,o.aZ)({__name:"BTable",props:{align:null,caption:null,captionTop:{default:!1},borderless:{default:!1},bordered:{default:!1},borderVariant:null,dark:{default:!1},fields:{default:()=>[]},footClone:{default:!1},hover:{default:!1},items:{default:()=>[]},provider:null,sortCompare:null,noProvider:null,noProviderPaging:null,noProviderSorting:null,noProviderFiltering:null,responsive:{type:[Boolean,String],default:!1},small:{default:!1},striped:{default:!1},stacked:{type:[Boolean,String],default:!1},labelStacked:{type:Boolean,default:!1},variant:null,sortBy:null,sortDesc:{default:!1},sortInternal:{default:!0},selectable:{default:!1},stickySelect:{default:!1},selectHead:{type:[Boolean,String],default:!0},selectMode:{default:"single"},selectionVariant:{default:"primary"},stickyHeader:{default:!1},busy:{default:!1},showEmpty:{default:!1},perPage:null,currentPage:{default:1},filter:null,filterable:null,emptyText:{default:"There are no records to show"},emptyFilteredText:{default:"There are no records matching your request"}},emits:["headClicked","rowClicked","rowDblClicked","rowHovered","rowUnhovered","rowSelected","rowUnselected","selection","update:busy","update:sortBy","update:sortDesc","sorted","filtered"],setup(e,{expose:t,emit:n}){const r=e,s=(0,o.Rr)(),l=tv(),c=qu((0,i.Vh)(r,"footClone")),u=qu((0,i.Vh)(r,"sortDesc")),d=qu((0,i.Vh)(r,"sortInternal")),h=qu((0,i.Vh)(r,"selectable")),f=qu((0,i.Vh)(r,"stickySelect")),p=qu((0,i.Vh)(r,"labelStacked")),m=qu((0,i.Vh)(r,"busy")),g=qu((0,i.Vh)(r,"showEmpty")),v=qu((0,i.Vh)(r,"noProviderPaging")),y=qu((0,i.Vh)(r,"noProviderSorting")),b=qu((0,i.Vh)(r,"noProviderFiltering")),_=(0,i.iH)(m.value);l.filterEvent.value=async e=>{if(A.value)return void await z();const t=await zu(e);n("filtered",t)};const w=(0,i.iH)(new Set([])),x=(0,o.Fl)((()=>w.value.size>0)),S=(0,o.Fl)((()=>({[`align-${r.align}`]:void 0!==r.align,"b-table-selectable":h.value,[`b-table-select-${r.selectMode}`]:h.value,"b-table-selecting user-select-none":h.value&&x.value,"b-table-busy":_.value,"b-table-sortable":k.value,"b-table-sort-desc":k.value&&!0===u.value,"b-table-sort-asc":k.value&&!1===u.value}))),E=(0,o.Fl)((()=>({bordered:r.bordered,borderless:r.borderless,borderVariant:r.borderVariant,captionTop:r.captionTop,dark:r.dark,hover:r.hover,responsive:r.responsive,striped:r.striped,stacked:r.stacked,small:r.small,tableClass:S.value,tableVariant:r.variant,stickyHeader:r.stickyHeader}))),T=(0,o.Fl)((()=>l.normaliseFields(r.fields,r.items))),M=(0,o.Fl)((()=>T.value.length+(h.value?1:0))),C=(0,o.Fl)((()=>void 0!==r.filter&&""!==r.filter)),A=(0,o.Fl)((()=>void 0!==r.provider)),R=(0,o.Fl)((()=>h.value&&(!!r.selectHead||void 0!==s.selectHead))),k=(0,o.Fl)((()=>r.fields.filter((e=>"string"!=typeof e&&e.sortable)).length>0)),O=(0,o.Fl)((()=>k.value&&!0===d.value)),L=(0,o.Fl)((()=>{const e=A.value?l.internalItems.value:O.value?l.mapItems(r.fields,r.items,r,{isSortable:k,isFilterableTable:C,sortDescBoolean:u}):r.items;if(void 0!==r.perPage){const t=(r.currentPage-1)*r.perPage;return e.splice(t,r.perPage)}return e})),I=e=>"string"==typeof e?Wc(e):void 0!==e.label?e.label:"string"==typeof e.key?Wc(e.key):e.key,P=(e,t,r=!1)=>{const i="string"==typeof e?e:e.key;n("headClicked",i,e,t,r),B(e)},D=(e,t,r)=>{n("rowClicked",e,t,r),V(e,t,r.shiftKey)},N=(e,t,r)=>n("rowDblClicked",e,t,r),U=(e,t,r)=>n("rowHovered",e,t,r),F=(e,t,r)=>n("rowUnhovered",e,t,r),B=e=>{if(!k.value)return;const t="string"==typeof e?e:e.key,i="string"!=typeof e&&e.sortable;if(!0===k.value&&!0===i){const e=!u.value;t!==r.sortBy&&n("update:sortBy",t),n("update:sortDesc",e),n("sorted",t,e)}},j=()=>{!h.value||n("selection",Array.from(w.value))},V=(e,t,i=!1)=>{if(h.value){if(w.value.has(e))w.value.delete(e),n("rowUnselected",e);else if("single"===r.selectMode&&w.value.size>0&&(w.value.forEach((e=>n("rowUnselected",e))),w.value.clear()),"range"===r.selectMode&&w.value.size>0&&i){const e=Array.from(w.value).pop(),r=L.value.findIndex((t=>t===e)),i=Math.min(r,t),o=Math.max(r,t);L.value.slice(i,o+1).forEach((e=>{w.value.has(e)||(w.value.add(e),n("rowSelected",e))}))}else w.value.add(e),n("rowSelected",e);j()}},z=async()=>{if(!A.value||!r.provider||_.value)return;_.value=!0;const e=new Proxy({currentPage:r.currentPage,filter:r.filter,sortBy:r.sortBy,sortDesc:r.sortDesc,perPage:r.perPage},{get(e,t){return t in e?e[t]:void 0},set(){return console.error("BTable provider context is a read-only object."),!0}}),t=r.provider(e,l.updateInternalItems);if(void 0!==t){if(t instanceof Promise)try{const e=await t;return Array.isArray(e)?await l.updateInternalItems(e):void 0}finally{_.value&&(_.value=!1)}try{return await l.updateInternalItems(t)}finally{_.value&&(_.value=!1)}}},H=e=>{e._showDetails=!e._showDetails},W=e=>[e.class,e.thClass,e.variant?`table-${e.variant}`:void 0,{"b-table-sortable-column":k.value&&e.sortable,"b-table-sticky-column":e.stickyColumn}],G=(e,t)=>[e.class,e.tdClass,e.variant?`table-${e.variant}`:void 0,(null==t?void 0:t._cellVariants)&&(null==t?void 0:t._cellVariants[e.key])?`table-${null==t?void 0:t._cellVariants[e.key]}`:void 0,{"b-table-sticky-column":e.stickyColumn}],$=e=>[e._rowVariant?`table-${e._rowVariant}`:null,e._rowVariant?`table-${e._rowVariant}`:null,h.value&&w.value.has(e)?`selected table-${r.selectionVariant}`:null],q=()=>{if(!h.value)return;const e=w.value.size>0?Array.from(w.value):[];w.value=new Set([...L.value]),w.value.forEach((t=>{e.includes(t)||n("rowSelected",t)})),j()},X=()=>{!h.value||(w.value.forEach((e=>{n("rowUnselected",e)})),w.value=new Set([]),j())},Y=e=>{if(!h.value)return;const t=L.value[e];!t||w.value.has(t)||(w.value.add(t),n("rowSelected",t),j())},J=e=>{if(!h.value)return;const t=L.value[e];!t||!w.value.has(t)||(w.value.delete(t),n("rowUnselected",t),j())},Z=async(e,t,n)=>{if(t===n)return;const i=e=>r.noProvider&&r.noProvider.includes(e),o=!["currentPage","perPage"].includes(e),a=["currentPage","perPage"].includes(e)&&(i("paging")||!0===v.value),s=["filter"].includes(e)&&(i("filtering")||!0===b.value),c=["sortBy","sortDesc"].includes(e)&&(i("sorting")||!0===y.value);a||s||c||(await z(),o&&l.notifyFilteredItems())};return(0,o.YP)((()=>r.filter),((e,t)=>{e===t||A.value||e||zu(r.items).then((e=>n("filtered",e)))})),(0,o.YP)((()=>_.value),(()=>_.value!==m.value&&n("update:busy",_.value))),(0,o.YP)((()=>m.value),(()=>_.value!==m.value&&(_.value=m.value))),(0,o.YP)((()=>r.filter),((e,t)=>Z("filter",e,t))),(0,o.YP)((()=>r.currentPage),((e,t)=>Z("currentPage",e,t))),(0,o.YP)((()=>r.perPage),((e,t)=>Z("perPage",e,t))),(0,o.YP)((()=>r.sortBy),((e,t)=>Z("sortBy",e,t))),(0,o.YP)((()=>r.sortDesc),((e,t)=>Z("sortDesc",e,t))),(0,o.bv)((()=>{A.value&&z()})),t({selectAllRows:q,clearSelected:X,selectRow:Y,unselectRow:J}),(t,n)=>((0,o.wg)(),(0,o.j4)(sg,(0,a.vs)((0,o.F4)((0,i.SU)(E))),{default:(0,o.w5)((()=>{var n;return[(0,o._)("thead",null,[t.$slots["thead-top"]?(0,o.WI)(t.$slots,"thead-top",{key:0}):(0,o.kq)("",!0),(0,o._)("tr",null,[(0,i.SU)(R)?((0,o.wg)(),(0,o.iD)("th",{key:0,class:(0,a.C_)(["b-table-selection-column",{"b-table-sticky-column":(0,i.SU)(f)}])},[(0,o.WI)(t.$slots,"select-head",{},(()=>[(0,o.Uk)((0,a.zw)("boolean"==typeof e.selectHead?"Selected":e.selectHead),1)]))],2)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(n=>((0,o.wg)(),(0,o.iD)("th",(0,o.dG)({key:n.key,scope:"col",class:W(n),title:n.headerTitle,abbr:n.headerAbbr,style:n.thStyle},n.thAttr,{onClick:e=>P(n,e)}),[(0,o._)("div",rv,[(0,o.WI)(t.$slots,"sort-icon",{field:n,sortBy:e.sortBy,selected:n.key===e.sortBy,isDesc:(0,i.SU)(u),direction:(0,i.SU)(u)?"desc":"asc"},(()=>[(0,i.SU)(k)&&n.sortable?((0,o.wg)(),(0,o.iD)("span",{key:0,class:(0,a.C_)(["b-table-sort-icon",{sorted:n.key===e.sortBy,["sorted-"+((0,i.SU)(u)?"desc":"asc")]:n.key===e.sortBy}])},null,2)):(0,o.kq)("",!0)])),(0,o._)("div",null,[t.$slots["head("+n.key+")"]||t.$slots["head()"]?(0,o.WI)(t.$slots,t.$slots["head("+n.key+")"]?"head("+n.key+")":"head()",{key:0,label:n.label}):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(I(n)),1)],64))])])],16,nv)))),128))]),t.$slots["thead-sub"]?((0,o.wg)(),(0,o.iD)("tr",iv,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(e=>((0,o.wg)(),(0,o.iD)("td",{key:e.key,scope:"col",class:(0,a.C_)([e.class,e.thClass,e.variant?`table-${e.variant}`:""])},[t.$slots["thead-sub"]?(0,o.WI)(t.$slots,"thead-sub",(0,o.dG)({key:0,items:(0,i.SU)(T)},e)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(e.label),1)],64))],2)))),128))])):(0,o.kq)("",!0)]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(L),((n,r)=>((0,o.wg)(),(0,o.iD)(o.HY,{key:r},[(0,o._)("tr",{class:(0,a.C_)($(n)),onClick:e=>!(0,i.SU)(ev)(e)&&D(n,r,e),onDblclick:e=>!(0,i.SU)(ev)(e)&&N(n,r,e),onMouseenter:e=>!(0,i.SU)(ev)(e)&&U(n,r,e),onMouseleave:e=>!(0,i.SU)(ev)(e)&&F(n,r,e)},[(0,i.SU)(R)?((0,o.wg)(),(0,o.iD)("td",{key:0,class:(0,a.C_)(["b-table-selection-column",{"b-table-sticky-column":(0,i.SU)(f)}])},[(0,o.WI)(t.$slots,"select-cell",{},(()=>[(0,o._)("span",{class:(0,a.C_)(w.value.has(n)?"text-primary":"")},"🗹",2)]))],2)):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(s=>((0,o.wg)(),(0,o.iD)("td",(0,o.dG)({key:s.key},s.tdAttr,{class:G(s,n)}),[e.stacked&&(0,i.SU)(p)?((0,o.wg)(),(0,o.iD)("label",av,(0,a.zw)(I(s)),1)):(0,o.kq)("",!0),t.$slots["cell("+s.key+")"]||t.$slots["cell()"]?(0,o.WI)(t.$slots,t.$slots["cell("+s.key+")"]?"cell("+s.key+")":"cell()",{key:1,value:n[s.key],index:r,item:n,field:s,items:e.items,toggleDetails:()=>H(n),detailsShowing:n._showDetails}):((0,o.wg)(),(0,o.iD)(o.HY,{key:2},[(0,o.Uk)((0,a.zw)((0,i.SU)(l).formatItem(n,s)),1)],64))],16)))),128))],42,ov),!0===n._showDetails&&t.$slots["row-details"]?((0,o.wg)(),(0,o.iD)("tr",{key:0,class:(0,a.C_)($(n))},[(0,o._)("td",{colspan:(0,i.SU)(M)},[(0,o.WI)(t.$slots,"row-details",{item:n,toggleDetails:()=>H(n)})],8,sv)],2)):(0,o.kq)("",!0)],64)))),128)),_.value?((0,o.wg)(),(0,o.iD)("tr",{key:0,class:(0,a.C_)(["b-table-busy-slot",{"b-table-static-busy":0==(0,i.SU)(L).length}])},[(0,o._)("td",{colspan:(0,i.SU)(M)},[(0,o.WI)(t.$slots,"table-busy",{},(()=>[(0,o._)("div",cv,[(0,o.Wm)(Hd,{class:"align-middle"}),uv])]))],8,lv)],2)):(0,o.kq)("",!0),(0,i.SU)(g)&&0===(0,i.SU)(L).length?((0,o.wg)(),(0,o.iD)("tr",dv,[(0,o._)("td",{colspan:(0,i.SU)(M)},[(0,o.WI)(t.$slots,"empty",{items:(0,i.SU)(L),filtered:(0,i.SU)(C)},(()=>[(0,o.Uk)((0,a.zw)((0,i.SU)(C)?e.emptyFilteredText:e.emptyText),1)]))],8,hv)])):(0,o.kq)("",!0)]),(0,i.SU)(c)?((0,o.wg)(),(0,o.iD)("tfoot",fv,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(T),(e=>((0,o.wg)(),(0,o.iD)("th",(0,o.dG)({key:e.key},e.thAttr,{scope:"col",class:[e.class,e.thClass,e.variant?`table-${e.variant}`:""],title:e.headerTitle,abbr:e.headerAbbr,style:e.thStyle,onClick:t=>P(e,t,!0)}),(0,a.zw)(e.label),17,pv)))),128))])])):t.$slots["custom-foot"]?((0,o.wg)(),(0,o.iD)("tfoot",mv,[(0,o.WI)(t.$slots,"custom-foot",{fields:(0,i.SU)(T),items:e.items,columns:null==(n=(0,i.SU)(T))?void 0:n.length})])):(0,o.kq)("",!0),t.$slots["table-caption"]?((0,o.wg)(),(0,o.iD)("caption",gv,[(0,o.WI)(t.$slots,"table-caption")])):e.caption?((0,o.wg)(),(0,o.iD)("caption",vv,(0,a.zw)(e.caption),1)):(0,o.kq)("",!0)]})),_:3},16))}}),bv=(0,o.aZ)({__name:"BTbody",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`thead-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tbody",{role:"rowgroup",class:(0,a.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),_v=["scope","colspan","rowspan","data-label"],wv={key:0},xv=(0,o.aZ)({__name:"BTd",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=qu((0,i.Vh)(t,"stickyColumn")),r=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),s=(0,o.Fl)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,o.wg)(),(0,o.iD)("td",{role:"cell",scope:(0,i.SU)(s),class:(0,a.C_)((0,i.SU)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[e.stackedHeading?((0,o.wg)(),(0,o.iD)("div",wv,[(0,o.WI)(t.$slots,"default")])):(0,o.WI)(t.$slots,"default",{key:1})],10,_v))}}),Sv=(0,o.aZ)({__name:"BTfoot",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tfoot",{role:"rowgroup",class:(0,a.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Ev=["scope","colspan","rowspan","data-label"],Tv={key:0},Mv=(0,o.aZ)({__name:"BTh",props:{colspan:null,rowspan:null,stackedHeading:null,stickyColumn:{default:!1},variant:null},setup(e){const t=e,n=qu((0,i.Vh)(t,"stickyColumn")),r=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant,"b-table-sticky-column":n.value,"table-b-table-default":n.value&&void 0===t.variant}))),s=(0,o.Fl)((()=>t.colspan?"colspan":t.rowspan?"rowspan":"col"));return(t,n)=>((0,o.wg)(),(0,o.iD)("th",{role:"columnheader",scope:(0,i.SU)(s),class:(0,a.C_)((0,i.SU)(r)),colspan:e.colspan,rowspan:e.rowspan,"data-label":e.stackedHeading},[void 0!==e.stackedHeading?((0,o.wg)(),(0,o.iD)("div",Tv,[(0,o.WI)(t.$slots,"default")])):(0,o.WI)(t.$slots,"default",{key:1})],10,Ev))}}),Cv=(0,o.aZ)({__name:"BThead",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("thead",{role:"rowgroup",class:(0,a.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Av=(0,o.aZ)({__name:"BTr",props:{variant:null},setup(e){const t=e,n=(0,o.Fl)((()=>({[`table-${t.variant}`]:void 0!==t.variant})));return(e,t)=>((0,o.wg)(),(0,o.iD)("tr",{role:"row",class:(0,a.C_)((0,i.SU)(n))},[(0,o.WI)(e.$slots,"default")],2))}}),Rv=["id","data-bs-target","aria-controls","aria-selected","onClick"],kv=Symbol(),Ov=(0,o.aZ)({__name:"BTabs",props:{activeNavItemClass:null,activeTabClass:null,align:null,card:{default:!1},contentClass:null,end:{default:!1},fill:{default:!1},id:null,justified:{default:!1},lazy:{default:!1},navClass:null,navWrapperClass:null,noFade:{default:!1},noNavStyle:{default:!1},pills:{default:!1},small:{default:!1},tag:{default:"div"},vertical:{default:!1},modelValue:{default:-1}},emits:["update:modelValue","activate-tab","click"],setup(e,{emit:t}){const n=e,r=(0,o.Rr)(),l=qu((0,i.Vh)(n,"card")),c=qu((0,i.Vh)(n,"end")),u=qu((0,i.Vh)(n,"fill")),d=qu((0,i.Vh)(n,"justified")),h=qu((0,i.Vh)(n,"lazy")),f=qu((0,i.Vh)(n,"noFade")),p=qu((0,i.Vh)(n,"noNavStyle")),m=qu((0,i.Vh)(n,"pills")),g=qu((0,i.Vh)(n,"small")),v=qu((0,i.Vh)(n,"vertical")),y=(0,i.iH)(n.modelValue),b=(0,i.iH)(""),_=(0,o.Fl)({get:()=>y.value,set:e=>{y.value=e,w.value.length>0&&e>=0&&e<w.value.length?b.value=w.value[e].buttonId:b.value="",t("update:modelValue",e)}}),w=(0,o.Fl)((()=>{let e=[];return r.default&&(e=A(r).map(((e,t)=>{e.props||(e.props={});const i=e.props["button-id"]||Lu("tab"),o=e.props.id||Lu(),a=_.value>-1?t===_.value:""===e.props.active,s=e.props["title-item-class"],l=e.props["title-link-attributes"];return{buttonId:i,contentId:o,active:a,disabled:""===e.props.disabled||!0===e.props.disabled,navItemClasses:[{active:a,disabled:""===e.props.disabled||!0===e.props.disabled},a&&n.activeNavItemClass?n.activeNavItemClass:null,e.props["title-link-class"]],tabClasses:[{fade:!f.value},a&&n.activeTabClass?n.activeTabClass:null],target:`#${o}`,title:e.props.title,titleItemClass:s,titleLinkAttributes:l,onClick:e.props.onClick,tab:e,tabComponent:()=>A(r)[t]}}))),e})),x=(0,o.Fl)((()=>!((null==w?void 0:w.value)&&w.value.length>0))),S=(0,o.Fl)((()=>({"d-flex":v.value,"align-items-start":v.value}))),E=Cc((0,i.Vh)(n,"align")),T=(0,o.Fl)((()=>({"nav-pills":m.value,"flex-column me-3":v.value,[E.value]:void 0!==n.align,"nav-fill":u.value,"card-header-tabs":l.value,"nav-justified":d.value,"nav-tabs":!p.value&&!m.value,small:g.value}))),M=e=>{let r=!1;if(void 0!==e&&e>-1&&e<w.value.length&&!w.value[e].disabled&&(_.value<0||w.value[e].buttonId!==b.value)){const n=new Ac("activate-tab",{cancelable:!0});t("activate-tab",e,_.value,n),n.defaultPrevented||(_.value=e,r=!0)}return!r&&n.modelValue!==_.value&&t("update:modelValue",_.value),r},C=(e,t)=>{var n;M(t),t>=0&&!w.value[t].disabled&&(null==(n=w.value[t])?void 0:n.onClick)&&"function"==typeof w.value[t].onClick&&w.value[t].onClick(e)},A=e=>e&&e.default?e.default().reduce(((e,t)=>("symbol"==typeof t.type?e=e.concat(t.children):e.push(t),e)),[]).filter((e=>{var t;return"BTab"===(null==(t=e.type)?void 0:t.__name)})):[];return M(y.value),(0,o.YP)((()=>n.modelValue),((e,t)=>{if(e===t)return;if(e=Math.max(e,-1),t=Math.max(t,-1),w.value.length<=0)return void(_.value=-1);const n=e>t;let r=e;const i=w.value.length-1;for(;r>=0&&r<=i&&w.value[r].disabled;)r+=n?1:-1;r<0?M(0):r>=w.value.length?M(w.value.length-1):M(r)})),(0,o.YP)((()=>w.value),(()=>{let e=w.value.map((e=>e.active&&!e.disabled)).lastIndexOf(!0);e<0&&(_.value>=w.value.length?e=w.value.map((e=>!e.disabled)).lastIndexOf(!0):w.value[_.value]&&!w.value[_.value].disabled&&(e=_.value)),e<0&&(e=w.value.map((e=>!e.disabled)).indexOf(!0)),w.value.forEach(((t,n)=>t.active=n===e)),M(e)})),(0,o.bv)((()=>{if(_.value<0&&w.value.length>0&&!w.value.some((e=>e.active))){const e=w.value.map((e=>!e.disabled)).indexOf(!0);M(e>=0?e:-1)}})),(0,o.JJ)(kv,{lazy:h.value,card:l.value}),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,a.C_)(["tabs",(0,i.SU)(S)])},{default:(0,o.w5)((()=>[(0,i.SU)(c)?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,a.C_)(["tab-content",e.contentClass])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(w),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e()),{id:t,key:i,class:(0,a.C_)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.SU)(x)?((0,o.wg)(),(0,o.iD)("div",{key:"bv-empty-tab",class:(0,a.C_)(["tab-pane active",{"card-body":(0,i.SU)(l)}])},[(0,o.WI)(t.$slots,"empty")],2)):(0,o.kq)("",!0)],2)):(0,o.kq)("",!0),(0,o._)("div",{class:(0,a.C_)([e.navWrapperClass,{"card-header":(0,i.SU)(l),"ms-auto":e.vertical&&(0,i.SU)(c)}])},[(0,o._)("ul",{class:(0,a.C_)(["nav",[(0,i.SU)(T),e.navClass]]),role:"tablist"},[(0,o.WI)(t.$slots,"tabs-start"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(w),(({tab:e,buttonId:t,contentId:n,navItemClasses:r,active:i,target:l},c)=>((0,o.wg)(),(0,o.iD)("li",{key:c,class:(0,a.C_)(["nav-item",e.props["title-item-class"]])},[(0,o._)("button",(0,o.dG)({id:t,class:["nav-link",r],"data-bs-toggle":"tab","data-bs-target":l,role:"tab","aria-controls":n,"aria-selected":i},e.props["title-link-attributes"],{onClick:(0,s.iM)((e=>C(e,c)),["stop","prevent"])}),[e.children&&e.children.title?((0,o.wg)(),(0,o.j4)((0,o.LL)(e.children.title),{key:0})):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(e.props.title),1)],64))],16,Rv)],2)))),128)),(0,o.WI)(t.$slots,"tabs-end")],2)],2),(0,i.SU)(c)?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:1,class:(0,a.C_)(["tab-content",e.contentClass])},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,i.SU)(w),(({tabComponent:e,contentId:t,tabClasses:n,active:r},i)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e()),{id:t,key:i,class:(0,a.C_)(n),active:r},null,8,["id","class","active"])))),128)),(0,i.SU)(x)?((0,o.wg)(),(0,o.iD)("div",{key:"bv-empty-tab",class:(0,a.C_)(["tab-pane active",{"card-body":(0,i.SU)(l)}])},[(0,o.WI)(t.$slots,"empty")],2)):(0,o.kq)("",!0)],2))])),_:3},8,["id","class"]))}}),Lv=(0,o.aZ)({__name:"BTab",props:{id:null,title:null,active:{default:!1},buttonId:{default:void 0},disabled:{default:!1},lazy:{default:void 0},lazyOnce:{default:void 0},noBody:{type:[Boolean,String],default:!1},tag:{default:"div"},titleItemClass:null,titleLinkAttributes:{default:void 0},titleLinkClass:null},setup(e){const t=e,n=(0,o.f3)(kv,null),r=qu((0,i.Vh)(t,"active")),s=qu((0,i.Vh)(t,"disabled")),l=qu((0,i.Vh)(t,void 0!==t.lazyOnce?"lazyOnce":"lazy")),c=(0,i.iH)(!1),u=(0,o.Fl)((()=>!(!(null==n?void 0:n.lazy)&&!l.value))),d=(0,o.Fl)((()=>void 0!==t.lazyOnce)),h=(0,o.Fl)((()=>r.value&&!s.value)),f=(0,o.Fl)((()=>{const e=u.value&&d.value&&c.value;return h.value||!u.value||e})),p=(0,o.Fl)((()=>({active:r.value,show:r.value,"card-body":(null==n?void 0:n.card)&&!1===t.noBody})));return(0,o.YP)((()=>f.value),(e=>{e&&!c.value&&(c.value=!0)})),(t,n)=>((0,o.wg)(),(0,o.j4)((0,o.LL)(e.tag),{id:e.id,class:(0,a.C_)(["tab-pane",(0,i.SU)(p)]),role:"tabpanel","aria-labelledby":"profile-tab"},{default:(0,o.w5)((()=>[(0,i.SU)(f)?(0,o.WI)(t.$slots,"default",{key:0}):(0,o.kq)("",!0)])),_:3},8,["id","class"]))}}),Iv=Object.freeze(Object.defineProperty({__proto__:null,BAccordion:gd,BAccordionItem:Fd,BAlert:Qd,BAvatar:ah,BAvatarGroup:th,BBadge:uh,BBreadcrumb:vh,BBreadcrumbItem:ph,BButton:Zd,BButtonGroup:yh,BButtonToolbar:_h,BCloseButton:Vd,BCard:kh,BCardBody:Ah,BCardFooter:Rh,BCardGroup:Oh,BCardHeader:Th,BCardImg:xh,BCardSubtitle:Ch,BCardText:Lh,BCardTitle:Mh,BCarousel:Wh,BCarouselSlide:Jh,BCol:nf,BCollapse:vd,BContainer:vf,BDropdown:_f,BDropdownDivider:xf,BDropdownForm:Cf,BDropdownGroup:Of,BDropdownHeader:Df,BDropdownItem:Uf,BDropdownItemButton:jf,BDropdownText:Hf,BForm:Gf,BFormFloatingLabel:Xf,BFormInvalidFeedback:Yf,BFormRow:Jf,BFormText:Zf,BFormValidFeedback:Kf,BFormCheckbox:np,BFormCheckboxGroup:ap,BFormGroup:mp,BFormInput:_p,BFormRadio:Sp,BFormRadioGroup:Cp,BFormSelect:Ip,BFormSelectOption:Rp,BFormSelectOptionGroup:Op,BFormTag:Dp,BFormTags:Yp,BFormTextarea:Qp,BImg:wh,BInputGroup:am,BInputGroupAddon:lm,BInputGroupAppend:cm,BInputGroupPrepend:um,BInputGroupText:sm,BLink:Xd,BListGroup:hm,BListGroupItem:fm,BModal:ym,BNav:bm,BNavForm:_m,BNavItem:Em,BNavItemDropdown:Mm,BNavText:Am,BNavbar:Rm,BNavbarBrand:Im,BNavbarNav:Pm,BNavbarToggle:Nm,BOffcanvas:zm,BOverlay:Hm,BPagination:rg,BPlaceholder:ig,BPlaceholderButton:og,BPlaceholderCard:ag,BPlaceholderTable:lg,BPlaceholderWrapper:cg,BPopover:mg,BProgress:bg,BProgressBar:vg,BRow:Sg,BSkeleton:Eg,BSkeletonIcon:Tg,BSkeletonTable:Ag,BSkeletonWrapper:Rg,BSpinner:Hd,BFormSpinButton:Zg,BTable:yv,BTableSimple:sg,BTbody:bv,BTd:xv,BTfoot:Sv,BTh:Mv,BThead:Cv,BTr:Av,BTab:Lv,BTabs:Ov,BToastContainer:gf,BTransition:Bd,BToast:mf,BToaster:gf,BToastPlugin:hf},Symbol.toStringTag,{value:"Module"})),Pv=Object.freeze(Object.defineProperty({__proto__:null,vBColorMode:bd,vBPopover:_d,vBToggle:Sd,vBTooltip:Ad,vBVisible:Id},Symbol.toStringTag,{value:"Module"})),Dv=(Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag,{install(e,t={}){Object.entries(Iv).forEach((([t,n])=>{e.component(t,n)})),Object.entries(Pv).forEach((([t,n])=>{e.directive(t,n)})),Ju(e)}})},5417:function(e){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,n,r)=>{const i=0===r?"":",",o=void 0===n||"symbol"===typeof n?null:n;return t+i+e(o)}),"")+"]":"{"+Object.keys(t).sort().reduce(((n,r,i)=>{if(void 0===t[r]||"symbol"===typeof t[r])return n;const o=0===n.length?"":",";return n+o+e(r)+":"+e(t[r])}),"")+"}"}},2499:function(e){"use strict";var t=e.exports={};t.isIE=function(e){function t(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")||-1!==e.indexOf("trident")||-1!==e.indexOf(" edge/")}if(!t())return!1;if(!e)return!0;var n=function(){var e,t=3,n=document.createElement("div"),r=n.getElementsByTagName("i");do{n.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(r[0]);return t>4?t:e}();return e===n},t.isLegacyOpera=function(){return!!window.opera}},8485:function(e){"use strict";var t=e.exports={};t.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}}},8862:function(e,t,n){"use strict";var r=n(2499);e.exports=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,i=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function o(e,t){function n(){t(e)}if(r.isIE(8))i(e).object={proxy:n},e.attachEvent("onresize",n);else{var o=l(e);if(!o)throw new Error("Element is not detectable by this strategy.");o.contentDocument.defaultView.addEventListener("resize",n)}}function a(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function s(e,o,s){s||(s=o,o=e,e=null),e=e||{};e.debug;function l(o,s){var l=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),c=!1,u=window.getComputedStyle(o),d=o.offsetWidth,h=o.offsetHeight;function f(){function n(){if("static"===u.position){o.style.setProperty("position","relative",e.important?"important":"");var n=function(t,n,r,i){function o(e){return e.replace(/[^-\d\.]/g,"")}var a=r[i];"auto"!==a&&"0"!==o(a)&&(t.warn("An element that is positioned static has style."+i+"="+a+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+i+" will be set to 0. Element: ",n),n.style.setProperty(i,"0",e.important?"important":""))};n(t,o,u,"top"),n(t,o,u,"right"),n(t,o,u,"bottom"),n(t,o,u,"left")}}function a(){function e(t,n){if(!t.contentDocument){var r=i(t);return r.checkForObjectDocumentTimeoutId&&window.clearTimeout(r.checkForObjectDocumentTimeoutId),void(r.checkForObjectDocumentTimeoutId=setTimeout((function(){r.checkForObjectDocumentTimeoutId=0,e(t,n)}),100))}n(t.contentDocument)}c||n();var t=this;e(t,(function(e){s(o)}))}""!==u.position&&(n(u),c=!0);var d=document.createElement("object");d.style.cssText=l,d.tabIndex=-1,d.type="text/html",d.setAttribute("aria-hidden","true"),d.onload=a,r.isIE()||(d.data="about:blank"),i(o)&&(o.appendChild(d),i(o).object=d,r.isIE()&&(d.data="about:blank"))}i(o).startSize={width:d,height:h},n?n.add(f):f()}r.isIE(8)?s(o):l(o,s)}function l(e){return i(e).object}function c(e){if(i(e)){var t=l(e);t&&(r.isIE(8)?e.detachEvent("onresize",t.proxy):e.removeChild(t),i(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(i(e).checkForObjectDocumentTimeoutId),delete i(e).object)}}return{makeDetectable:s,addListener:o,uninstall:c}}},8197:function(e,t,n){"use strict";n(7658);var r=n(8485).forEach;e.exports=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,i=e.stateHandler.getState,o=(e.stateHandler.hasState,e.idHandler);if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=d(),s="erd_scroll_detection_scrollbar_style",l="erd_scroll_detection_container";function c(e){h(e,s,l)}function u(t){var n=e.important?" !important; ":"; ";return(t.join(n)+n).trim()}function d(){var e=500,t=500,n=document.createElement("div");n.style.cssText=u(["position: absolute","width: "+2*e+"px","height: "+2*t+"px","visibility: hidden","margin: 0","padding: 0"]);var r=document.createElement("div");r.style.cssText=u(["position: absolute","width: "+e+"px","height: "+t+"px","overflow: scroll","visibility: none","top: "+3*-e+"px","left: "+3*-t+"px","visibility: hidden","margin: 0","padding: 0"]),r.appendChild(n),document.body.insertBefore(r,document.body.firstChild);var i=e-r.clientWidth,o=t-r.clientHeight;return document.body.removeChild(r),{width:i,height:o}}function h(e,t,n){function r(n,r){r=r||function(t){e.head.appendChild(t)};var i=e.createElement("style");return i.innerHTML=n,i.id=t,r(i),i}if(!e.getElementById(t)){var i=n+"_animation",o=n+"_animation_active",a="/* Created by the element-resize-detector library. */\n";a+="."+n+" > div::-webkit-scrollbar { "+u(["display: none"])+" }\n\n",a+="."+o+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+i,"animation-name: "+i])+" }\n",a+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",a+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",r(a)}}function f(e){e.className+=" "+l+"_animation_active"}function p(e,n,r){if(e.addEventListener)e.addEventListener(n,r);else{if(!e.attachEvent)return t.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+n,r)}}function m(e,n,r){if(e.removeEventListener)e.removeEventListener(n,r);else{if(!e.detachEvent)return t.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+n,r)}}function g(e){return i(e).container.childNodes[0].childNodes[0].childNodes[0]}function v(e){return i(e).container.childNodes[0].childNodes[0].childNodes[1]}function y(e,t){var n=i(e).listeners;if(!n.push)throw new Error("Cannot add listener to an element that is not detectable.");i(e).listeners.push(t)}function b(e,s,c){function d(){if(e.debug){var n=Array.prototype.slice.call(arguments);if(n.unshift(o.get(s),"Scroll: "),t.log.apply)t.log.apply(null,n);else for(var r=0;r<n.length;r++)t.log(n[r])}}function h(e){function t(e){var t=e.getRootNode&&e.getRootNode().contains(e);return e===e.ownerDocument.body||e.ownerDocument.body.contains(e)||t}return!t(e)||null===window.getComputedStyle(e)}function m(e){var t=i(e).container.childNodes[0],n=window.getComputedStyle(t);return!n.width||-1===n.width.indexOf("px")}function y(){var e=window.getComputedStyle(s),t={};return t.position=e.position,t.width=s.offsetWidth,t.height=s.offsetHeight,t.top=e.top,t.right=e.right,t.bottom=e.bottom,t.left=e.left,t.widthCSS=e.width,t.heightCSS=e.height,t}function b(){var e=y();i(s).startSize={width:e.width,height:e.height},d("Element start size",i(s).startSize)}function _(){i(s).listeners=[]}function w(){if(d("storeStyle invoked."),i(s)){var e=y();i(s).style=e}else d("Aborting because element has been uninstalled")}function x(e,t,n){i(e).lastWidth=t,i(e).lastHeight=n}function S(e){return g(e).childNodes[0]}function E(){return 2*a.width+1}function T(){return 2*a.height+1}function M(e){return e+10+E()}function C(e){return e+10+T()}function A(e){return 2*e+E()}function R(e){return 2*e+T()}function k(e,t,n){var r=g(e),i=v(e),o=M(t),a=C(n),s=A(t),l=R(n);r.scrollLeft=o,r.scrollTop=a,i.scrollLeft=s,i.scrollTop=l}function O(){var e=i(s).container;if(!e){e=document.createElement("div"),e.className=l,e.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),i(s).container=e,f(e),s.appendChild(e);var t=function(){i(s).onRendered&&i(s).onRendered()};p(e,"animationstart",t),i(s).onAnimationStart=t}return e}function L(){function n(){var n=i(s).style;if("static"===n.position){s.style.setProperty("position","relative",e.important?"important":"");var r=function(e,t,n,r){function i(e){return e.replace(/[^-\d\.]/g,"")}var o=n[r];"auto"!==o&&"0"!==i(o)&&(e.warn("An element that is positioned static has style."+r+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+r+" will be set to 0. Element: ",t),t.style[r]=0)};r(t,s,n,"top"),r(t,s,n,"right"),r(t,s,n,"bottom"),r(t,s,n,"left")}}function r(e,t,n,r){return e=e?e+"px":"0",t=t?t+"px":"0",n=n?n+"px":"0",r=r?r+"px":"0",["left: "+e,"top: "+t,"right: "+r,"bottom: "+n]}if(d("Injecting elements"),i(s)){n();var o=i(s).container;o||(o=O());var c=a.width,h=a.height,f=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),m=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(r(-(1+c),-(1+h),-h,-c))),g=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),v=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),y=u(["position: absolute","left: 0","top: 0"]),b=u(["position: absolute","width: 200%","height: 200%"]),_=document.createElement("div"),w=document.createElement("div"),x=document.createElement("div"),S=document.createElement("div"),E=document.createElement("div"),T=document.createElement("div");_.dir="ltr",_.style.cssText=f,_.className=l,w.className=l,w.style.cssText=m,x.style.cssText=g,S.style.cssText=y,E.style.cssText=v,T.style.cssText=b,x.appendChild(S),E.appendChild(T),w.appendChild(x),w.appendChild(E),_.appendChild(w),o.appendChild(_),p(x,"scroll",M),p(E,"scroll",C),i(s).onExpandScroll=M,i(s).onShrinkScroll=C}else d("Aborting because element has been uninstalled");function M(){var e=i(s);e&&e.onExpand?e.onExpand():d("Aborting expand scroll handler: element has been uninstalled")}function C(){var e=i(s);e&&e.onShrink?e.onShrink():d("Aborting shrink scroll handler: element has been uninstalled")}}function I(){function a(t,n,r){var i=S(t),o=M(n),a=C(r);i.style.setProperty("width",o+"px",e.important?"important":""),i.style.setProperty("height",a+"px",e.important?"important":"")}function l(r){var l=s.offsetWidth,u=s.offsetHeight,h=l!==i(s).lastWidth||u!==i(s).lastHeight;d("Storing current size",l,u),x(s,l,u),n.add(0,(function(){if(h)if(i(s))if(c()){if(e.debug){var n=s.offsetWidth,r=s.offsetHeight;n===l&&r===u||t.warn(o.get(s),"Scroll: Size changed before updating detector elements.")}a(s,l,u)}else d("Aborting because element container has not been initialized");else d("Aborting because element has been uninstalled")})),n.add(1,(function(){i(s)?c()?k(s,l,u):d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")})),h&&r&&n.add(2,(function(){i(s)?c()?r():d("Aborting because element container has not been initialized"):d("Aborting because element has been uninstalled")}))}function c(){return!!i(s).container}function u(){function e(){return void 0===i(s).lastNotifiedWidth}d("notifyListenersIfNeeded invoked");var t=i(s);return e()&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?d("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?d("Not notifying: Size already notified"):(d("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void r(i(s).listeners,(function(e){e(s)})))}function h(){if(d("startanimation triggered."),m(s))d("Ignoring since element is still unrendered...");else{d("Element rendered.");var e=g(s),t=v(s);0!==e.scrollLeft&&0!==e.scrollTop&&0!==t.scrollLeft&&0!==t.scrollTop||(d("Scrollbars out of sync. Updating detector elements..."),l(u))}}function f(){d("Scroll detected."),m(s)?d("Scroll event fired while unrendered. Ignoring..."):l(u)}if(d("registerListenersAndPositionElements invoked."),i(s)){i(s).onRendered=h,i(s).onExpand=f,i(s).onShrink=f;var p=i(s).style;a(s,p.width,p.height)}else d("Aborting because element has been uninstalled")}function P(){if(d("finalizeDomMutation invoked."),i(s)){var e=i(s).style;x(s,e.width,e.height),k(s,e.width,e.height)}else d("Aborting because element has been uninstalled")}function D(){c(s)}function N(){d("Installing..."),_(),b(),n.add(0,w),n.add(1,L),n.add(2,I),n.add(3,P),n.add(4,D)}c||(c=s,s=e,e=null),e=e||{},d("Making detectable..."),h(s)?(d("Element is detached"),O(),d("Waiting until element is attached..."),i(s).onRendered=function(){d("Element is now attached"),N()}):N()}function _(e){var t=i(e);t&&(t.onExpandScroll&&m(g(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&m(v(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&m(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))}return c(window.document),{makeDetectable:b,addListener:y,uninstall:_,initDocument:c}}},6084:function(e,t,n){"use strict";n(7658);var r=n(8485).forEach,i=n(5048),o=n(8655),a=n(5509),s=n(6186),l=n(9009),c=n(2499),u=n(8845),d=n(544),h=n(8862),f=n(8197);function p(e){return Array.isArray(e)||void 0!==e.length}function m(e){if(Array.isArray(e))return e;var t=[];return r(e,(function(e){t.push(e)})),t}function g(e){return e&&1===e.nodeType}function v(e,t,n){var r=e[t];return void 0!==r&&null!==r||void 0===n?r:n}e.exports=function(e){var t;if(e=e||{},e.idHandler)t={get:function(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var n=a(),y=s({idGenerator:n,stateHandler:d});t=y}var b=e.reporter;if(!b){var _=!1===b;b=l(_)}var w=v(e,"batchProcessor",u({reporter:b})),x={};x.callOnAdd=!!v(e,"callOnAdd",!0),x.debug=!!v(e,"debug",!1);var S,E=o(t),T=i({stateHandler:d}),M=v(e,"strategy","object"),C=v(e,"important",!1),A={reporter:b,batchProcessor:w,stateHandler:d,idHandler:t,important:C};if("scroll"===M&&(c.isLegacyOpera()?(b.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):c.isIE(9)&&(b.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),"scroll"===M)S=f(A);else{if("object"!==M)throw new Error("Invalid strategy name: "+M);S=h(A)}var R={};function k(e,n,i){function o(e){var t=E.get(e);r(t,(function(t){t(e)}))}function a(e,t,n){E.add(t,n),e&&n(t)}if(i||(i=n,n=e,e={}),!n)throw new Error("At least one element required.");if(!i)throw new Error("Listener required.");if(g(n))n=[n];else{if(!p(n))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");n=m(n)}var s=0,l=v(e,"callOnAdd",x.callOnAdd),c=v(e,"onReady",(function(){})),u=v(e,"debug",x.debug);r(n,(function(e){d.getState(e)||(d.initState(e),t.set(e));var h=t.get(e);if(u&&b.log("Attaching listener to element",h,e),!T.isDetectable(e))return u&&b.log(h,"Not detectable."),T.isBusy(e)?(u&&b.log(h,"System busy making it detectable"),a(l,e,i),R[h]=R[h]||[],void R[h].push((function(){s++,s===n.length&&c()}))):(u&&b.log(h,"Making detectable..."),T.markBusy(e,!0),S.makeDetectable({debug:u,important:C},e,(function(e){if(u&&b.log(h,"onElementDetectable"),d.getState(e)){T.markAsDetectable(e),T.markBusy(e,!1),S.addListener(e,o),a(l,e,i);var t=d.getState(e);if(t&&t.startSize){var f=e.offsetWidth,p=e.offsetHeight;t.startSize.width===f&&t.startSize.height===p||o(e)}R[h]&&r(R[h],(function(e){e()}))}else u&&b.log(h,"Element uninstalled before being detectable.");delete R[h],s++,s===n.length&&c()})));u&&b.log(h,"Already detecable, adding listener."),a(l,e,i),s++})),s===n.length&&c()}function O(e){if(!e)return b.error("At least one element is required.");if(g(e))e=[e];else{if(!p(e))return b.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=m(e)}r(e,(function(e){E.removeAllListeners(e),S.uninstall(e),d.cleanState(e)}))}function L(e){S.initDocument&&S.initDocument(e)}return{listenTo:k,removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall:O,initDocument:L}}},5048:function(e){"use strict";e.exports=function(e){var t=e.stateHandler.getState;function n(e){var n=t(e);return n&&!!n.isDetectable}function r(e){t(e).isDetectable=!0}function i(e){return!!t(e).busy}function o(e,n){t(e).busy=!!n}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:o}}},5509:function(e){"use strict";e.exports=function(){var e=1;function t(){return e++}return{generate:t}}},6186:function(e){"use strict";e.exports=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(e){var t=n(e);return t&&void 0!==t.id?t.id:null}function i(e){var r=n(e);if(!r)throw new Error("setId required the element to have a resize detection state.");var i=t.generate();return r.id=i,i}return{get:r,set:i}}},8655:function(e,t,n){"use strict";n(7658),e.exports=function(e){var t={};function n(n){var r=e.get(n);return void 0===r?[]:t[r]||[]}function r(n,r){var i=e.get(n);t[i]||(t[i]=[]),t[i].push(r)}function i(e,t){for(var r=n(e),i=0,o=r.length;i<o;++i)if(r[i]===t){r.splice(i,1);break}}function o(e){var t=n(e);t&&(t.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:o}}},9009:function(e){"use strict";e.exports=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(e,t){e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var n=0;n<arguments.length;n++)e(arguments[n])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n}},544:function(e){"use strict";var t="_erd";function n(e){return e[t]={},r(e)}function r(e){return e[t]}function i(e){delete e[t]}e.exports={initState:n,getState:r,cleanState:i}},7781:function(e,t,n){"use strict";n(7658);const{isArray:r,isObject:i,isString:o}=n(2968),{asArray:a}=n(7247),{prependBase:s}=n(9545),l=n(784),c=n(6259),u=10;function d(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function h({context:e,base:t}){if(!e)return;const n=e["@context"];if(o(n))e["@context"]=s(t,n);else if(r(n))for(let r=0;r<n.length;++r){const e=n[r];o(e)?n[r]=s(t,e):i(e)&&h({context:{"@context":e},base:t})}else if(i(n))for(const r in n)h({context:n[r],base:t})}e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:n,base:s,cycles:l=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);const u=[];for(const a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:n,base:s,cycles:l})),r(t)?u.push(...t):u.push(t);continue}if(null===a){u.push(new c({document:null}));continue}i(a)||d(t);const h=JSON.stringify(a);let f=this._get(h);f||(f=new c({document:a}),this._cacheResolvedContext({key:h,resolved:f,tag:"static"})),u.push(f)}return u}_get(e){let t=this.perOpCache.get(e);if(!t){const n=this.sharedCache.get(e);n&&(t=n.get("static"),t&&this.perOpCache.set(e,t))}return t}_cacheResolvedContext({key:e,resolved:t,tag:n}){if(this.perOpCache.set(e,t),void 0!==n){let r=this.sharedCache.get(e);r||(r=new Map,this.sharedCache.set(e,r)),r.set(n,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:n,base:r,cycles:i}){t=s(r,t);const{context:o,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:i});r=a.documentUrl||t,h({context:o,base:r});const l=await this.resolve({activeCtx:e,context:o,documentLoader:n,base:r,cycles:i});return this._cacheResolvedContext({key:t,resolved:l,tag:a.tag}),l}async _fetchContext({activeCtx:e,url:t,documentLoader:n,cycles:a}){if(a.size>u)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:u});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});let s,c;a.add(t);try{c=await n(t),s=c.document||null,o(s)&&(s=JSON.parse(s))}catch(d){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:d})}if(!i(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(r(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},784:function(e){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",n={}){super(e),this.name=t,this.message=e,this.details=n}}},5802:function(e){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,n){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,n)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},5024:function(e,t,n){"use strict";e.exports=n(3503).NQuads},2645:function(e){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},6259:function(e,t,n){"use strict";const r=n(9790),i=10;e.exports=class{constructor({document:e}){this.document=e,this.cache=new r({max:i})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},8204:function(e,t,n){"use strict";n(7658);const r=n(784),{isArray:i,isObject:o,isString:a,isUndefined:s}=n(2968),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:h}=n(5080),{expandIri:f,getContextValue:p,isKeyword:m,process:g,processingMode:v}=n(3423),{removeBase:y,prependBase:b}=n(9545),{REGEX_KEYWORD:_,addValue:w,asArray:x,compareShortestLeast:S}=n(7247),E={};function T(e,t,n,r,i,a){null===a&&(a="@null");const s=[];if(("@id"===a||"@reverse"===a)&&o(n)&&"@id"in n){"@reverse"===a&&s.push("@reverse");const t=E.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===n["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);const e=s.find((e=>e.includes("_")));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");const l=e.inverse[t];for(const o of r){if(!(o in l))continue;const e=l[o][i];for(const t of s)if(t in e)return e[t]}return null}function M(e,t,n){if("@nest"!==f(e,t,{vocab:!0},n))throw new r("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=E,E.compact=async({activeCtx:e,activeProperty:t=null,element:n,options:f={}})=>{if(i(n)){let r=[];for(let i=0;i<n.length;++i){const o=await E.compact({activeCtx:e,activeProperty:t,element:n[i],options:f});null!==o&&r.push(o)}if(f.compactArrays&&1===r.length){const n=p(e,t,"@container")||[];0===n.length&&(r=r[0])}return r}const y=p(e,t,"@context");if(s(y)||(e=await g({activeCtx:e,localCtx:y,propagate:!0,overrideProtected:!0,options:f})),o(n)){if(f.link&&"@id"in n&&f.link.hasOwnProperty(n["@id"])){const e=f.link[n["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===n)return e[t].compacted}if(c(n)||h(n)){const r=E.compactValue({activeCtx:e,activeProperty:t,value:n,options:f});return f.link&&h(n)&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:r})),r}if(l(n)){const r=p(e,t,"@container")||[];if(r.includes("@list"))return E.compact({activeCtx:e,activeProperty:t,element:n["@list"],options:f})}const y="@reverse"===t,b={},_=e;c(n)||h(n)||(e=e.revertToPreviousContext());const S=p(_,t,"@context");s(S)||(e=await g({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:f})),f.link&&"@id"in n&&(f.link.hasOwnProperty(n["@id"])||(f.link[n["@id"]]=[]),f.link[n["@id"]].push({expanded:n,compacted:b}));let T=n["@type"]||[];T.length>1&&(T=Array.from(T).sort());const C=e;for(const t of T){const n=E.compactIri({activeCtx:C,iri:t,relativeTo:{vocab:!0}}),r=p(_,n,"@context");s(r)||(e=await g({activeCtx:e,localCtx:r,options:f,propagate:!1}))}const A=Object.keys(n).sort();for(const s of A){const h=n[s];if("@id"!==s)if("@type"!==s)if("@reverse"!==s)if("@preserve"!==s)if("@index"!==s)if("@graph"!==s&&"@list"!==s&&"@included"!==s&&m(s)){const t=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(b,t,h)}else{if(!i(h))throw new r("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===h.length){const t=E.compactIri({activeCtx:e,iri:s,value:h,relativeTo:{vocab:!0},reverse:y}),n=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let r=b;n&&(M(e,n,f),o(b[n])||(b[n]={}),r=b[n]),w(r,t,h,{propertyIsArray:!0})}for(const t of h){const n=E.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:y}),r=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null;let h=b;r&&(M(e,r,f),o(b[r])||(b[r]={}),h=b[r]);const m=p(e,n,"@container")||[],g=u(t),v=l(t);let _;v?_=t["@list"]:g&&(_=t["@graph"]);let S=await E.compact({activeCtx:e,activeProperty:n,element:v||g?_:t,options:f});if(v){if(i(S)||(S=[S]),m.includes("@list")){w(h,n,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[E.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(g)if(m.includes("@graph")&&(m.includes("@id")||m.includes("@index")&&d(t))){let r;h.hasOwnProperty(n)?r=h[n]:h[n]=r={};const i=(m.includes("@id")?t["@id"]:t["@index"])||E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});w(r,i,S,{propertyIsArray:!f.compactArrays||m.includes("@set")})}else m.includes("@graph")&&d(t)?(i(S)&&S.length>1&&(S={"@included":S}),w(h,n,S,{propertyIsArray:!f.compactArrays||m.includes("@set")})):(i(S)&&1===S.length&&f.compactArrays&&(S=S[0]),S={[E.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),w(h,n,S,{propertyIsArray:!f.compactArrays||m.includes("@set")}));else if(m.includes("@language")||m.includes("@index")||m.includes("@id")||m.includes("@type")){let r,i;if(h.hasOwnProperty(n)?r=h[n]:h[n]=r={},m.includes("@language"))c(S)&&(S=S["@value"]),i=t["@language"];else if(m.includes("@index")){const r=p(e,n,"@index")||"@index",o=E.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete S[o];else{let e;if([i,...e]=x(S[r]||[]),a(i))switch(e.length){case 0:delete S[r];break;case 1:S[r]=e[0];break;default:S[r]=e;break}else i=null}}else if(m.includes("@id")){const t=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=S[t],delete S[t]}else if(m.includes("@type")){const r=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});let o;switch([i,...o]=x(S[r]||[]),o.length){case 0:delete S[r];break;case 1:S[r]=o[0];break;default:S[r]=o;break}1===Object.keys(S).length&&"@id"in t&&(S=await E.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:f}))}i||(i=E.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),w(r,i,S,{propertyIsArray:m.includes("@set")})}else{const e=!f.compactArrays||m.includes("@set")||m.includes("@list")||i(S)&&0===S.length||"@list"===s||"@graph"===s;w(h,n,S,{propertyIsArray:e})}}}else{const n=p(e,t,"@container")||[];if(n.includes("@index"))continue;const r=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(b,r,h)}else{const n=await E.compact({activeCtx:e,activeProperty:t,element:h,options:f});i(n)&&0===n.length||w(b,s,n)}else{const t=await E.compact({activeCtx:e,activeProperty:"@reverse",element:h,options:f});for(const n in t)if(e.mappings.has(n)&&e.mappings.get(n).reverse){const r=t[n],i=p(e,n,"@container")||[],o=i.includes("@set")||!f.compactArrays;w(b,n,r,{propertyIsArray:o}),delete t[n]}if(Object.keys(t).length>0){const n=E.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});w(b,n,t)}}else{let t=x(h).map((e=>E.compactIri({activeCtx:_,iri:e,relativeTo:{vocab:!0}})));1===t.length&&(t=t[0]);const n=E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),r=p(e,n,"@container")||[],o=r.includes("@set")&&v(e,1.1),a=o||i(t)&&0===h.length;w(b,n,t,{propertyIsArray:a})}else{let t=x(h).map((t=>E.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:f.base})));1===t.length&&(t=t[0]);const n=E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});b[n]=t}}return b}return n},E.compactIri=({activeCtx:e,iri:t,value:n=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const d=e.getInverse();if(m(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){const r=e["@language"]||"@none",i=[];o(n)&&"@index"in n&&!("@graph"in n)&&i.push("@index","@index@set"),o(n)&&"@preserve"in n&&(n=n["@preserve"][0]),u(n)?("@index"in n&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in n||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in n||i.push("@graph@id","@graph@id@set")):o(n)&&!c(n)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",i.push("@set");else if(l(n)){"@index"in n||i.push("@list");const e=n["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?r:null,n=null;for(let r=0;r<e.length;++r){const i=e[r];let o="@none",a="@none";if(c(i))if("@direction"in i){const e=(i["@language"]||"").toLowerCase(),t=i["@direction"];o=`${e}_${t}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null";else a="@id";if(null===t?t=o:o!==t&&c(i)&&(t="@none"),null===n?n=a:a!==n&&(n="@none"),"@none"===t&&"@none"===n)break}t=t||"@none",n=n||"@none","@none"!==n?(s="@type",d=n):d=t}}else{if(c(n))if("@language"in n&&!("@index"in n)){i.push("@language","@language@set"),d=n["@language"];const e=n["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in n&&!("@index"in n)?d=`_${n["@direction"]}`:"@type"in n&&(s="@type",d=n["@type"]);else s="@type",d="@id";i.push("@set")}i.push("@none"),o(n)&&!("@index"in n)&&i.push("@index","@index@set"),c(n)&&1===Object.keys(n).length&&i.push("@language","@language@set");const h=T(e,t,n,i,s,d);if(null!==h)return h}if(i.vocab&&"@vocab"in e){const n=e["@vocab"];if(0===t.indexOf(n)&&t!==n){const r=t.substr(n.length);if(!e.mappings.has(r))return r}}let h=null;const f=[];let p=e.fastCurieMap;const g=t.length-1;for(let r=0;r<g&&t[r]in p;++r)p=p[t[r]],""in p&&f.push(p[""][0]);for(let r=f.length-1;r>=0;--r){const i=f[r],o=i.terms;for(const r of o){const o=r+":"+t.substr(i.iri.length),a=e.mappings.get(r)._prefix&&(!e.mappings.has(o)||null===n&&e.mappings.get(o)["@id"]===t);a&&(null===h||S(o,h)<0)&&(h=o)}}if(null!==h)return h;for(const[o,l]of e.mappings)if(l&&l._prefix&&t.startsWith(o+":"))throw new r(`Absolute IRI "${t}" confused with prefix "${o}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!i.vocab){if("@base"in e){if(e["@base"]){const n=y(b(s,e["@base"]),t);return _.test(n)?`./${n}`:n}return t}return y(s,t)}return t},E.compactValue=({activeCtx:e,activeProperty:t,value:n,options:r})=>{if(c(n)){const r=p(e,t,"@type"),i=p(e,t,"@language"),o=p(e,t,"@direction"),s=p(e,t,"@container")||[],l="@index"in n&&!s.includes("@index");if(!l&&"@none"!==r){if(n["@type"]===r)return n["@value"];if("@language"in n&&n["@language"]===i&&"@direction"in n&&n["@direction"]===o)return n["@value"];if("@language"in n&&n["@language"]===i)return n["@value"];if("@direction"in n&&n["@direction"]===o)return n["@value"]}const c=Object.keys(n).length,u=1===c||2===c&&"@index"in n&&!l,d="@language"in e,h=a(n["@value"]),f=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==r&&(!d||!h||f))return n["@value"];const m={};return l&&(m[E.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?m[E.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=E.compactIri({activeCtx:e,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(m[E.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(m[E.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),m[E.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],m}const i=f(e,t,{vocab:!0},r),o=p(e,t,"@type"),s=E.compactIri({activeCtx:e,iri:n["@id"],relativeTo:{vocab:"@vocab"===o},base:r.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[E.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},5360:function(e){"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},3423:function(e,t,n){"use strict";n(7658);const r=n(7247),i=n(784),{isArray:o,isObject:a,isString:s,isUndefined:l}=n(2968),{isAbsolute:c,isRelative:u,prependBase:d}=n(9545),{handleEvent:h}=n(7019),{REGEX_BCP47:f,REGEX_KEYWORD:p,asArray:m,compareShortestLeast:g}=n(7247),v=new Map,y=1e4,b={};function _(e,t,n,r,i,o){if(null===t||!s(t)||b.isKeyword(t))return t;if(t.match(p))return null;if(r&&r.hasOwnProperty(t)&&!0!==i.get(t)&&b.createTermDefinition({activeCtx:e,localCtx:r,term:t,defined:i,options:o}),n=n||{},n.vocab){const n=e.mappings.get(t);if(null===n)return null;if(a(n)&&"@id"in n)return n["@id"]}const l=t.indexOf(":");if(l>0){const n=t.substr(0,l),a=t.substr(l+1);if("_"===n||0===a.indexOf("//"))return t;r&&r.hasOwnProperty(n)&&b.createTermDefinition({activeCtx:e,localCtx:r,term:n,defined:i,options:o});const s=e.mappings.get(n);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}if(n.vocab&&"@vocab"in e){const n=e["@vocab"]+t;t=n}else if(n.base){let n,r;"@base"in e?e["@base"]?(r=d(o.base,e["@base"]),n=d(r,t)):(r=e["@base"],n=t):(r=o.base,n=d(o.base,t)),t=n}return t}function w(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;const n=Array.isArray(e);if(n!==Array.isArray(t))return!1;if(n){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!w(e[n],t[n]))return!1;return!0}const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const o in e){let n=e[o],r=t[o];if("@container"===o&&Array.isArray(n)&&Array.isArray(r)&&(n=n.slice().sort(),r=r.slice().sort()),!w(n,r))return!1}return!0}e.exports=b,b.process=async({activeCtx:e,localCtx:t,options:n,propagate:r=!0,overrideProtected:l=!1,cycles:p=new Set})=>{a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]);const g=m(t);if(0===g.length)return e;const v=[],y=[({event:e,next:t})=>{v.push(e),t()}];n.eventHandler&&y.push(n.eventHandler);const w=n;n={...n,eventHandler:y};const x=await n.contextResolver.resolve({activeCtx:e,context:t,documentLoader:n.documentLoader,base:n.base});a(x[0].document)&&"boolean"===typeof x[0].document["@propagate"]&&(r=x[0].document["@propagate"]);let S=e;r||S.previousContext||(S=S.clone(),S.previousContext=e);for(const o of x){let{document:r}=o;if(e=S,null===r){if(!l&&0!==Object.keys(e.protected).length)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});S=e=b.getInitialContext(n).clone();continue}const m=o.getProcessed(e);if(m){if(w.eventHandler)for(const e of m.events)h({event:e,options:w});S=e=m.context;continue}if(a(r)&&"@context"in r&&(r=r["@context"]),!a(r))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:r});S=S.clone();const g=new Map;if("@version"in r){if(1.1!==r["@version"])throw new i("Unsupported JSON-LD version: "+r["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:r});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+r["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:r});S.processingMode="json-ld-1.1",S["@version"]=r["@version"],g.set("@version",!0)}if(S.processingMode=S.processingMode||e.processingMode,"@base"in r){let e=r["@base"];if(null===e||c(e));else{if(!u(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:r});e=d(S["@base"],e)}S["@base"]=e,g.set("@base",!0)}if("@vocab"in r){const e=r["@vocab"];if(null===e)delete S["@vocab"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});if(!c(e)&&b.processingMode(S,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:r});{const t=_(S,e,{vocab:!0,base:!0},void 0,void 0,n);c(t)||n.eventHandler&&h({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:t}},options:n}),S["@vocab"]=t}}g.set("@vocab",!0)}if("@language"in r){const e=r["@language"];if(null===e)delete S["@language"];else{if(!s(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:r});e.match(f)||n.eventHandler&&h({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:n}),S["@language"]=e.toLowerCase()}g.set("@language",!0)}if("@direction"in r){const t=r["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:r});if(null===t)delete S["@direction"];else{if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r});S["@direction"]=t}g.set("@direction",!0)}if("@propagate"in r){const n=r["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if("boolean"!==typeof n)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});g.set("@propagate",!0)}if("@import"in r){const o=r["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:r});if(!s(o))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});const a=await n.contextResolver.resolve({activeCtx:e,context:o,documentLoader:n.documentLoader,base:n.base});if(1!==a.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});const l=a[0].getProcessed(e);if(l)r=l;else{const n=a[0].document;if("@import"in n)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(const e in n)r.hasOwnProperty(e)||(r[e]=n[e]);a[0].setProcessed(e,r)}g.set("@import",!0)}g.set("@protected",r["@protected"]||!1);for(const e in r)if(b.createTermDefinition({activeCtx:S,localCtx:r,term:e,defined:g,options:n,overrideProtected:l}),a(r[e])&&"@context"in r[e]){const t=r[e]["@context"];let o=!0;if(s(t)){const e=d(n.base,t);p.has(e)?o=!1:p.add(e)}if(o)try{await b.process({activeCtx:S.clone(),localCtx:r[e]["@context"],overrideProtected:!0,options:n,cycles:p})}catch(E){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:r[e]["@context"],term:e})}}o.setProcessed(e,{context:S,events:v})}return S},b.createTermDefinition=({activeCtx:e,localCtx:t,term:n,defined:r,options:l,overrideProtected:u=!1})=>{if(r.has(n)){if(r.get(n))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:n})}let d;if(r.set(n,!1),t.hasOwnProperty(n)&&(d=t[n]),"@type"===n&&a(d)&&"@set"===(d["@container"]||"@set")&&b.processingMode(e,1.1)){const e=["@container","@id","@protected"],r=Object.keys(d);if(0===r.length||r.some((t=>!e.includes(t))))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n})}else{if(b.isKeyword(n))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:n});if(n.match(p))return void(l.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:n}},options:l}));if(""===n)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const f=e.mappings.get(n);e.mappings.has(n)&&e.mappings.delete(n);let m=!1;if((s(d)||null===d)&&(m=!0,d={"@id":d}),!a(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const g={};e.mappings.set(n,g),g.reverse=!1;const v=["@container","@id","@language","@reverse","@type"];b.processingMode(e,1.1)&&v.push("@context","@direction","@index","@nest","@prefix","@protected");for(const o in d)if(!v.includes(o))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+o,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const y=n.indexOf(":");if(g._termHasColon=y>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const o=d["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(o.match(p))return l.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:o}},options:l}),void(f?e.mappings.set(n,f):e.mappings.delete(n));const a=_(e,o,{vocab:!0,base:!1},t,r,l);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});g["@id"]=a,g.reverse=!0}else if("@id"in d){let o=d["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)g["@id"]=null;else{if(!b.isKeyword(o)&&o.match(p))return l.eventHandler&&h({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:o}},options:l}),void(f?e.mappings.set(n,f):e.mappings.delete(n));if(o!==n){if(o=_(e,o,{vocab:!0,base:!1},t,r,l),!c(o)&&!b.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(n.match(/(?::[^:])|\//)){const a=new Map(r).set(n,!0),s=_(e,n,{vocab:!0,base:!1},t,a,l);if(s!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}g["@id"]=o,g._prefix=m&&!g._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in g))if(g._termHasColon){const i=n.substr(0,y);if(t.hasOwnProperty(i)&&b.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:r,options:l}),e.mappings.has(i)){const t=n.substr(y+1);g["@id"]=e.mappings.get(i)["@id"]+t}else g["@id"]=n}else if("@type"===n)g["@id"]=n;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:n});g["@id"]=e["@vocab"]+n}if((!0===d["@protected"]||!0===r.get("@protected")&&!1!==d["@protected"])&&(e.protected[n]=!0,g.protected=!0),r.set(n,!0),"@type"in d){let n=d["@type"];if(!s(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===n||"@none"===n){if(b.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${n}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==n&&"@vocab"!==n){if(n=_(e,n,{vocab:!0,base:!1},t,r,l),!c(n))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===n.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}g["@type"]=n}if("@container"in d){const n=s(d["@container"])?[d["@container"]]:d["@container"]||[],r=["@list","@set","@index","@language"];let a=!0;const l=n.includes("@set");if(b.processingMode(e,1.1)){if(r.push("@graph","@id","@type"),n.includes("@list")){if(1!==n.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(n.includes("@graph")){if(n.some((e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e)))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=n.length<=(l?2:1);if(n.includes("@type")&&(g["@type"]=g["@type"]||"@id",!["@id","@vocab"].includes(g["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(d["@container"]),a&=n.length<=1;if(a&=n.every((e=>r.includes(e))),a&=!(l&&n.includes("@list")),!a)throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+r.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(g.reverse&&!n.every((e=>["@index","@set"].includes(e))))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});g["@container"]=n}if("@index"in d){if(!("@container"in d)||!g["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${n}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});g["@index"]=d["@index"]}if("@context"in d&&(g["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),g["@language"]=e}if("@prefix"in d){if(n.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(b.isKeyword(g["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!==typeof d["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});g._prefix=!0===d["@prefix"]}if("@direction"in d){const e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});g["@direction"]=e}if("@nest"in d){const e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});g["@nest"]=e}
// disallow aliasing @context and @preserve
const x=g["@id"];if("@context"===x||"@preserve"===x)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!u&&(e.protected[n]=!0,g.protected=!0,!w(f,g)))throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:n})},b.expandIri=(e,t,n,r)=>_(e,t,n,void 0,void 0,r),b.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode}),n=v.get(t);if(n)return n;const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:o,clone:l,revertToPreviousContext:c,protected:{}};return v.size===y&&v.clear(),v.set(t,i),i;function o(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},n=e.fastCurieMap={},r={},i=(e["@language"]||"@none").toLowerCase(),o=e["@direction"],l=e.mappings,c=[...l.keys()].sort(g);for(const a of c){const e=l.get(a);if(null===e)continue;let c=e["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===e["@id"])continue;const u=m(e["@id"]);for(const l of u){let u=t[l];const d=b.isKeyword(l);if(u)d||e._termHasColon||r[l].push(a);else if(t[l]=u={},!d&&!e._termHasColon){r[l]=[a];const e={iri:l,terms:r[l]};l[0]in n?n[l[0]].push(e):n[l[0]]=[e]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),u=u[c],s(a,u["@any"],"@none"),e.reverse)s(a,u["@type"],"@reverse");else if("@none"===e["@type"])s(a,u["@any"],"@none"),s(a,u["@language"],"@none"),s(a,u["@type"],"@none");else if("@type"in e)s(a,u["@type"],e["@type"]);else if("@language"in e&&"@direction"in e){const t=e["@language"],n=e["@direction"];s(a,u["@language"],t&&n?`${t}_${n}`.toLowerCase():t?t.toLowerCase():n?`_${n}`:"@null")}else"@language"in e?s(a,u["@language"],(e["@language"]||"@null").toLowerCase()):"@direction"in e?e["@direction"]?s(a,u["@language"],`_${e["@direction"]}`):s(a,u["@language"],"@none"):o?(s(a,u["@language"],`_${o}`),s(a,u["@language"],"@none"),s(a,u["@type"],"@none")):(s(a,u["@language"],i),s(a,u["@language"],"@none"),s(a,u["@type"],"@none"))}}for(const s in n)a(n,s,1);return t}function a(e,t,n){const r=e[t],i=e[t]={};let o,s;for(const a of r)o=a.iri,s=n>=o.length?"":o[n],s in i?i[s].push(a):i[s]=[a];for(const l in i)""!==l&&a(i,l,n+1)}function s(e,t,n){t.hasOwnProperty(n)||(t[n]=e)}function l(){const e={};return e.mappings=r.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=r.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e}function c(){return this.previousContext?this.previousContext.clone():this}},b.getContextValue=(e,t,n)=>{if(null===t){if("@context"===n)return;return null}if(e.mappings.has(t)){const r=e.mappings.get(t);if(l(n))return r;if(r.hasOwnProperty(n))return r[n]}return"@language"===n&&n in e||"@direction"===n&&n in e?e[n]:"@context"!==n?null:void 0},b.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,b.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},2725:function(e,t,n){"use strict";const{parseLinkHeader:r,buildHeaders:i}=n(7247),{LINK_HEADER_CONTEXT:o}=n(5360),a=n(784),s=n(2645),{prependBase:l}=n(9545),c=/(^|(\r\n))link:/i;function u(e,t,n){e=e||XMLHttpRequest;const r=new e;return new Promise(((e,i)=>{r.onload=()=>e(r),r.onerror=e=>i(e),r.open("GET",t,!0);for(const t in n)r.setRequestHeader(t,n[t]);r.send()}))}e.exports=({secure:e,headers:t={},xhr:n}={headers:{}})=>{t=i(t);const d=new s;return d.wrapLoader(h);async function h(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let s;try{s=await u(n,i,t)}catch(g){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:g})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let d={contextUrl:null,documentUrl:i,document:s.response},f=null;const p=s.getResponseHeader("Content-Type");let m;if(c.test(s.getAllResponseHeaders())&&(m=s.getResponseHeader("Link")),m&&"application/ld+json"!==p){const e=r(m),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(d.contextUrl=t.target),f=e.alternate,f&&"application/ld+json"==f.type&&!(p||"").match(/^application\/(\w*\+)?json$/)&&(d=await h(l(i,f.target)))}return d}}},7019:function(e,t,n){"use strict";const r=n(784),{isArray:i}=n(2968),{asArray:o}=n(7247),a={};function s({event:e,handlers:t}){let n=!0;for(let o=0;n&&o<t.length;++o){n=!1;const a=t[o];if(i(a))n=s({event:e,handlers:a});else if("function"===typeof a)a({event:e,next:()=>{n=!0}});else{if("object"!==typeof a)throw new r("Invalid event handler.","jsonld.InvalidEventHandler",{event:e});e.code in a?a[e.code]({event:e,next:()=>{n=!0}}):n=!0}}return n}e.exports=a,a.defaultEventHandler=null,a.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?a.safeEventHandler:[],e.eventHandler?o(e.eventHandler):[],a.defaultEventHandler?a.defaultEventHandler:[]);return 0===t.length?null:t},a.handleEvent=({event:e,options:t})=>{s({event:e,handlers:t.eventHandler})};const l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference"]);a.safeEventHandler=function({event:e,next:t}){if("warning"===e.level&&l.has(e.code))throw new r("Safe mode validation error.","jsonld.ValidationError",{event:e});t()},a.logEventHandler=function({event:e,next:t}){console.log(`EVENT: ${e.message}`,{event:e}),t()},a.logWarningEventHandler=function({event:e,next:t}){"warning"===e.level&&console.warn(`WARNING: ${e.message}`,{event:e}),t()},a.unhandledEventHandler=function({event:e}){throw new r("No handler for event.","jsonld.UnhandledEvent",{event:e})},a.setDefaultEventHandler=function({eventHandler:e}={}){a.defaultEventHandler=e?o(e):null}},6901:function(e,t,n){"use strict";n(7658);const r=n(784),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:l}=n(2968),{isList:c,isValue:u,isGraph:d,isSubject:h}=n(5080),{expandIri:f,getContextValue:p,isKeyword:m,process:g,processingMode:v}=n(3423),{isAbsolute:y}=n(9545),{REGEX_BCP47:b,REGEX_KEYWORD:_,addValue:w,asArray:x,getValues:S,validateTypeValue:E}=n(7247),{handleEvent:T}=n(7019),M={};function C({value:e,count:t,options:n}){if(0===t||"@value"in e||"@list"in e||1===t&&"@id"in e){if(n.eventHandler){let r,i;0===t?(r="empty object",i="Dropping empty object."):"@value"in e?(r="object with only @value",i="Dropping object with only @value."):"@list"in e?(r="object with only @list",i="Dropping object with only @list."):1===t&&"@id"in e&&(r="object with only @id",i="Dropping object with only @id."),T({event:{type:["JsonLdEvent"],code:r,level:"warning",message:i,details:{value:e}},options:n})}return null}return e}async function A({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:d,expandedParent:_,options:S={},insideList:R,typeKey:L,typeScopedContext:I}){const P=Object.keys(d).sort(),D=[];let N;const U=d[L]&&"@json"===f(e,i(d[L])?d[L][0]:d[L],{vocab:!0},{...S,typeExpansion:!0});for(const A of P){let R,L=d[A];if("@context"===A)continue;const P=f(e,A,{vocab:!0},S);if(null===P||!y(P)&&!m(P)){S.eventHandler&&T({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:A,expandedProperty:P}},options:S});continue}if(m(P)){if("@reverse"===n)throw new r("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:L});if(P in _&&"@included"!==P&&"@type"!==P)throw new r("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:P})}if("@id"===P){if(!s(L)){if(!S.isFrame)throw new r('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:L});if(o(L)){if(!a(L))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L})}else{if(!i(L))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L});if(!L.every((e=>s(e))))throw new r('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:L})}}w(_,"@id",x(L).map((t=>{if(s(t)){const n=f(e,t,{base:!0},S);return S.eventHandler&&(null===n?T(null===t?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:t}},options:S}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:S}):y(n)||T({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:t,expandedId:n}},options:S})),n}return t})),{propertyIsArray:S.isFrame});continue}if("@type"===P){o(L)&&(L=Object.fromEntries(Object.entries(L).map((([e,t])=>[f(I,e,{vocab:!0}),x(t).map((e=>f(I,e,{base:!0,vocab:!0},{...S,typeExpansion:!0})))])))),E(L,S.isFrame),w(_,"@type",x(L).map((e=>{if(s(e)){const t=f(I,e,{base:!0,vocab:!0},{...S,typeExpansion:!0});return"@json"===t||y(t)||S.eventHandler&&T({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:S}),t}return e})),{propertyIsArray:!!S.isFrame});continue}if("@included"===P&&v(e,1.1)){const n=x(await M.expand({activeCtx:e,activeProperty:t,element:L,options:S}));if(!n.every((e=>h(e))))throw new r("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:L});w(_,"@included",n,{propertyIsArray:!0});continue}if("@graph"===P&&!o(L)&&!i(L))throw new r('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:L});if("@value"===P){N=L,U&&v(e,1.1)?_["@value"]=L:w(_,"@value",L,{propertyIsArray:S.isFrame});continue}if("@language"===P){if(null===L)continue;if(!s(L)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:L});L=x(L).map((e=>s(e)?e.toLowerCase():e));for(const e of L)s(e)&&!e.match(b)&&S.eventHandler&&T({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:S});w(_,"@language",L,{propertyIsArray:S.isFrame});continue}if("@direction"===P){if(!s(L)&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:L});L=x(L);for(const e of L)if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new r('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:L});w(_,"@direction",L,{propertyIsArray:S.isFrame});continue}if("@index"===P){if(!s(L))throw new r('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:L});w(_,"@index",L);continue}if("@reverse"===P){if(!o(L))throw new r('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:L});if(R=await M.expand({activeCtx:e,activeProperty:"@reverse",element:L,options:S}),"@reverse"in R)for(const e in R["@reverse"])w(_,e,R["@reverse"][e],{propertyIsArray:!0});let t=_["@reverse"]||null;for(const e in R){if("@reverse"===e)continue;null===t&&(t=_["@reverse"]={}),w(t,e,[],{propertyIsArray:!0});const n=R[e];for(let i=0;i<n.length;++i){const o=n[i];if(u(o)||c(o))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:R});w(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===P){D.push(A);continue}let F=e;const B=p(e,A,"@context");l(B)||(F=await g({activeCtx:e,localCtx:B,propagate:!0,overrideProtected:!0,options:S}));const j=p(F,A,"@container")||[];if(j.includes("@language")&&o(L)){const e=p(F,A,"@direction");R=k(F,L,e,S)}else if(j.includes("@index")&&o(L)){const t=j.includes("@graph"),n=p(F,A,"@index")||"@index",r="@index"!==n&&f(e,n,{vocab:!0},S);R=await O({activeCtx:F,options:S,activeProperty:A,value:L,asGraph:t,indexKey:n,propertyIndex:r})}else if(j.includes("@id")&&o(L)){const e=j.includes("@graph");R=await O({activeCtx:F,options:S,activeProperty:A,value:L,asGraph:e,indexKey:"@id"})}else if(j.includes("@type")&&o(L))R=await O({activeCtx:F.revertToPreviousContext(),options:S,activeProperty:A,value:L,asGraph:!1,indexKey:"@type"});else{const r="@list"===P;if(r||"@set"===P){let e=t;r&&"@graph"===n&&(e=null),R=await M.expand({activeCtx:F,activeProperty:e,element:L,options:S,insideList:r})}else R="@json"===p(e,A,"@type")?{"@type":"@json","@value":L}:await M.expand({activeCtx:F,activeProperty:A,element:L,options:S,insideList:!1})}if(null!==R||"@value"===P){if("@list"!==P&&!c(R)&&j.includes("@list")&&(R={"@list":x(R)}),j.includes("@graph")&&!j.some((e=>"@id"===e||"@index"===e))){R=x(R);const e=Object.keys(R[0]).length;if(!S.isFrame&&null===C({value:R[0],count:e,options:S}))continue;R=R.map((e=>({"@graph":x(e)})))}if(F.mappings.has(A)&&F.mappings.get(A).reverse){const e=_["@reverse"]=_["@reverse"]||{};R=x(R);for(let t=0;t<R.length;++t){const n=R[t];if(u(n)||c(n))throw new r('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:R});w(e,P,n,{propertyIsArray:!0})}}else w(_,P,R,{propertyIsArray:!0})}}if("@value"in _)if("@json"===_["@type"]&&v(e,1.1));else if((o(N)||i(N))&&!S.isFrame)throw new r('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:N});for(const a of D){const s=i(d[a])?d[a]:[d[a]];for(const i of s){if(!o(i)||Object.keys(i).some((t=>"@value"===f(e,t,{vocab:!0},S))))throw new r("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await A({activeCtx:e,activeProperty:t,expandedActiveProperty:n,element:i,expandedParent:_,options:S,insideList:R,typeScopedContext:I,typeKey:L})}}}function R({activeCtx:e,activeProperty:t,value:n,options:r}){if(null===n||void 0===n)return null;const i=f(e,t,{vocab:!0},r);if("@id"===i)return f(e,n,{base:!0},r);if("@type"===i)return f(e,n,{vocab:!0,base:!0},{...r,typeExpansion:!0});const o=p(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(n)){const i=f(e,n,{base:!0},r);return null===i&&n.match(_)&&r.eventHandler&&T({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:r}),{"@id":i}}if("@vocab"===o&&s(n))return{"@id":f(e,n,{vocab:!0,base:!0},r)};if(m(i))return n;const a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(n)){const n=p(e,t,"@language");null!==n&&(a["@language"]=n);const r=p(e,t,"@direction");null!==r&&(a["@direction"]=r)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),a["@value"]=n,a}function k(e,t,n,o){const a=[],l=Object.keys(t).sort();for(const c of l){const l=f(e,c,{vocab:!0},o);let u=t[c];i(u)||(u=[u]);for(const e of u){if(null===e)continue;if(!s(e))throw new r("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const i={"@value":e};"@none"!==l&&(c.match(b)||o.eventHandler&&T({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:c}},options:o}),i["@language"]=c.toLowerCase()),n&&(i["@direction"]=n),a.push(i)}}return a}async function O({activeCtx:e,options:t,activeProperty:n,value:o,asGraph:a,indexKey:s,propertyIndex:c}){const h=[],m=Object.keys(o).sort(),v="@type"===s;for(let y of m){if(v){const n=p(e,y,"@context");l(n)||(e=await g({activeCtx:e,localCtx:n,propagate:!1,options:t}))}let m,b=o[y];i(b)||(b=[b]),b=await M.expand({activeCtx:e,activeProperty:n,element:b,options:t,insideList:!1,insideIndex:!0}),m=c?"@none"===y?"@none":R({activeCtx:e,activeProperty:s,value:y,options:t}):f(e,y,{vocab:!0},t),"@id"===s?y=f(e,y,{base:!0},t):v&&(y=m);for(let e of b){if(a&&!d(e)&&(e={"@graph":[e]}),"@type"===s)"@none"===m||(e["@type"]?e["@type"]=[y].concat(e["@type"]):e["@type"]=[y]);else{if(u(e)&&!["@language","@type","@index"].includes(s))throw new r(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${s}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});c?"@none"!==m&&w(e,c,m,{propertyIsArray:!0,prependValue:!0}):"@none"===m||s in e||(e[s]=y)}h.push(e)}}return h}e.exports=M,M.expand=async({activeCtx:e,activeProperty:t=null,element:n,options:c={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:h=null})=>{if(null===n||void 0===n)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!i(n)&&!o(n))return u||null!==t&&"@graph"!==f(e,t,{vocab:!0},c)?R({activeCtx:e,activeProperty:t,value:n,options:c}):(c.eventHandler&&T({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:n}},options:c}),null);if(i(n)){let r=[];const o=p(e,t,"@container")||[];u=u||o.includes("@list");for(let a=0;a<n.length;++a){let o=await M.expand({activeCtx:e,activeProperty:t,element:n[a],options:c,insideIndex:d,typeScopedContext:h});u&&i(o)&&(o={"@list":o}),null!==o&&(i(o)?r=r.concat(o):r.push(o))}return r}const m=f(e,t,{vocab:!0},c),b=p(e,t,"@context");h=h||(e.previousContext?e:null);let _=Object.keys(n).sort(),w=!d;if(w&&h&&_.length<=2&&!_.includes("@context"))for(const r of _){const t=f(h,r,{vocab:!0},c);if("@value"===t){w=!1,e=h;break}if("@id"===t&&1===_.length){w=!1;break}}w&&(e=e.revertToPreviousContext()),l(b)||(e=await g({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:c})),"@context"in n&&(e=await g({activeCtx:e,localCtx:n["@context"],options:c})),h=e;let E=null;for(const r of _){const t=f(e,r,{vocab:!0},c);if("@type"===t){E=E||r;const t=n[r],i=Array.isArray(t)?t.length>1?t.slice().sort():t:[t];for(const n of i){const t=p(h,n,"@context");l(t)||(e=await g({activeCtx:e,localCtx:t,options:c,propagate:!1}))}}}let k={};await A({activeCtx:e,activeProperty:t,expandedActiveProperty:m,element:n,expandedParent:k,options:c,insideList:u,typeKey:E,typeScopedContext:h}),_=Object.keys(k);let O=_.length;if("@value"in k){if("@type"in k&&("@language"in k||"@direction"in k))throw new r('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:k});let t=O-1;if("@type"in k&&(t-=1),"@index"in k&&(t-=1),"@language"in k&&(t-=1),"@direction"in k&&(t-=1),0!==t)throw new r('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:k});const n=null===k["@value"]?[]:x(k["@value"]),i=S(k,"@type");if(v(e,1.1)&&i.includes("@json")&&1===i.length);else if(0===n.length)c.eventHandler&&T({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:k}},options:c}),k=null;else{if(!n.every((e=>s(e)||a(e)))&&"@language"in k)throw new r("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:k});if(!i.every((e=>y(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e))))throw new r('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:k})}}else if("@type"in k&&!i(k["@type"]))k["@type"]=[k["@type"]];else if("@set"in k||"@list"in k){if(O>1&&(2!==O||!("@index"in k)))throw new r('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:k});"@set"in k&&(k=k["@set"],_=Object.keys(k),O=_.length)}else 1===O&&"@language"in k&&(c.eventHandler&&T({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:k}},options:c}),k=null);return!o(k)||c.keepFreeFloatingNodes||u||null!==t&&"@graph"!==m&&!(p(e,t,"@container")||[]).includes("@graph")||(k=C({value:k,count:O,options:c})),k}},173:function(e,t,n){"use strict";n(7658);const{isSubjectReference:r}=n(5080),{createMergedNodeMap:i}=n(1551),o={};e.exports=o,o.flatten=e=>{const t=i(e),n=[],o=Object.keys(t).sort();for(let i=0;i<o.length;++i){const e=t[o[i]];r(e)||n.push(e)}return n}},7566:function(e,t,n){"use strict";n(7658);const{isKeyword:r}=n(3423),i=n(5080),o=n(2968),a=n(7247),s=n(9545),l=n(784),{createNodeMap:c,mergeNodeMapGraphs:u}=n(1551),d={};function h(e){const t={};for(const n in e)void 0!==e[n]&&(t["@"+n]=[e[n]]);return[t]}function f(e,t,n){for(let r=n.length-1;r>=0;--r){const i=n[r];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function p(e,t,n){const r="@"+n;let i=r in e?e[r][0]:t[n];if("embed"===n)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function m(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0])for(const t of a.asArray(e[0]["@id"]))if(!o.isObject(t)&&!s.isAbsolute(t)||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e});if("@type"in e[0])for(const t of a.asArray(e[0]["@type"]))if(!o.isObject(t)&&!s.isAbsolute(t)&&"@json"!==t||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}function g(e,t,n,r){const i={};for(const o of t){const t=e.graphMap[e.graph][o];v(e,t,n,r)&&(i[o]=t)}return i}function v(e,t,n,s){let l=!0,c=!1;for(const u in n){let d=!1;const h=a.getValues(t,u),f=0===a.getValues(n,u).length;if("@id"===u){if(o.isEmptyObject(n["@id"][0]||{})?d=!0:n["@id"].length>=0&&(d=n["@id"].includes(h[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,f){if(h.length>0)return!1;d=!0}else if(1===n["@type"].length&&o.isEmptyObject(n["@type"][0]))d=h.length>0;else for(const e of n["@type"])d=!(!o.isObject(e)||!("@default"in e))||(d||h.some((t=>t===e)));if(!s.requireAll)return d}else{if(r(u))continue;{const t=a.getValues(n,u)[0];let r=!1;if(t&&(m([t]),r="@default"in t),l=!1,0===h.length&&r)continue;if(h.length>0&&f)return!1;if(void 0===t){if(h.length>0)return!1;d=!0}else if(i.isList(t)){const n=t["@list"][0];if(i.isList(h[0])){const t=h[0]["@list"];i.isValue(n)?d=t.some((e=>x(n,e))):(i.isSubject(n)||i.isSubjectReference(n))&&(d=t.some((t=>w(e,n,t,s))))}}else d=i.isValue(t)?h.some((e=>x(t,e))):i.isSubjectReference(t)?h.some((n=>w(e,t,n,s))):!!o.isObject(t)&&h.length>0}}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function y(e,t){const n=e.uniqueEmbeds[e.graph],r=n[t],i=r.parent,s=r.property,l={"@id":t};if(o.isArray(i)){for(let o=0;o<i.length;++o)if(a.compareValues(i[o],l)){i[o]=l;break}}else{const e=o.isArray(i[s]);a.removeValue(i,s,l,{propertyIsArray:e}),a.addValue(i,s,l,{propertyIsArray:e})}const c=e=>{const t=Object.keys(n);for(const r of t)r in n&&o.isObject(n[r].parent)&&n[r].parent["@id"]===e&&(delete n[r],c(r))};c(t)}
/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function b(e,t){if(o.isArray(e))return e.map((e=>b(e,t)));if(o.isObject(e)){
// remove @preserve
if("@preserve"in e)return e["@preserve"][0];if(i.isValue(e))return e;if(i.isList(e))return e["@list"]=b(e["@list"],t),e;if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)"@id"===n&&t.bnodesToClear.includes(e[n])?delete e["@id"]:e[n]=b(e[n],t)}return e}function _(e,t,n){o.isObject(e)?a.addValue(e,t,n,{propertyIsArray:!0}):e.push(n)}function w(e,t,n,r){if(!("@id"in n))return!1;const i=e.subjects[n["@id"]];return i&&v(e,i,t,r)}function x(e,t){const n=t["@value"],r=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!(!a.includes(n)&&!o.isEmptyObject(a[0]))&&(!!(!r&&0===s.length||s.includes(r)||r&&o.isEmptyObject(s[0]))&&!!(!i&&0===l.length||l.includes(i)||i&&o.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,n)=>{const r={options:n,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new a.IdentifierIssuer("_:b");c(e,r.graphMap,"@default",i),n.merged&&(r.graphMap["@merged"]=u(r.graphMap),r.graph="@merged"),r.subjects=r.graphMap[r.graph];const o=[];return d.frame(r,Object.keys(r.subjects).sort(),t,o),n.pruneBlankNodeIdentifiers&&(n.bnodesToClear=Object.keys(r.bnodeMap).filter((e=>1===r.bnodeMap[e].length))),
// remove @preserve from results
n.link={},b(o,n)},d.frame=(e,t,n,s,c=null)=>{m(n),n=n[0];const u=e.options,v={embed:p(n,u,"embed"),explicit:p(n,u,"explicit"),requireAll:p(n,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});const b=e.link[e.graph],w=g(e,t,n,v),S=Object.keys(w).sort();for(const m of S){const g=w[m];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&m in b){_(s,c,b[m]);continue}const S={"@id":m};if(0===m.indexOf("_:")&&a.addValue(e.bnodeMap,m,S,{propertyIsArray:!0}),b[m]=S,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:n});if(e.embedded||!e.uniqueEmbeds[e.graph].hasOwnProperty(m))if(!e.embedded||"@never"!==v.embed&&!f(g,e.graph,e.subjectStack))if(!e.embedded||"@first"!=v.embed&&"@once"!=v.embed||!e.uniqueEmbeds[e.graph].hasOwnProperty(m)){if("@last"===v.embed&&m in e.uniqueEmbeds[e.graph]&&y(e,m),e.uniqueEmbeds[e.graph][m]={parent:s,property:c},e.subjectStack.push({subject:g,graph:e.graph}),m in e.graphMap){let t=!1,r=null;"@graph"in n?(r=n["@graph"][0],t=!("@merged"===m||"@default"===m),o.isObject(r)||(r={})):(t="@merged"!==e.graph,r={}),t&&d.frame({...e,graph:m,embedded:!1},Object.keys(e.graphMap[m]).sort(),[r],S,"@graph")}"@included"in n&&d.frame({...e,embedded:!1},t,n["@included"],S,"@included");for(const t of Object.keys(g).sort())if(r(t)){if(S[t]=a.clone(g[t]),"@type"===t)for(const n of g["@type"])0===n.indexOf("_:")&&a.addValue(e.bnodeMap,n,S,{propertyIsArray:!0})}else if(!v.explicit||t in n)for(const r of g[t]){const o=t in n?n[t]:h(v);if(i.isList(r)){const o=n[t]&&n[t][0]&&n[t][0]["@list"]?n[t][0]["@list"]:h(v),s={"@list":[]};_(S,t,s);const l=r["@list"];for(const t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],o,s,"@list"):_(s,"@list",a.clone(t))}else i.isSubjectReference(r)?d.frame({...e,embedded:!0},[r["@id"]],o,S,t):x(o[0],r)&&_(S,t,a.clone(r))}for(const e of Object.keys(n).sort()){if("@type"===e){if(!o.isObject(n[e][0])||!("@default"in n[e][0]))continue}else if(r(e))continue;const t=n[e][0]||{},i=p(t,u,"omitDefault");if(!i&&!(e in S)){let n="@null";"@default"in t&&(n=a.clone(t["@default"])),o.isArray(n)||(n=[n]),S[e]=[{"@preserve":n}]}}for(const t of Object.keys(n["@reverse"]||{}).sort()){const r=n["@reverse"][t];for(const n of Object.keys(e.subjects)){const i=a.getValues(e.subjects[n],t);i.some((e=>e["@id"]===m))&&(S["@reverse"]=S["@reverse"]||{},a.addValue(S["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[n],r,S["@reverse"][t],c))}}_(s,c,S),e.subjectStack.pop()}else _(s,c,S);else _(s,c,S)}},d.cleanupNull=(e,t)=>{if(o.isArray(e)){const n=e.map((e=>d.cleanupNull(e,t)));return n.filter((e=>e))}if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){const n=e["@id"];if(t.link.hasOwnProperty(n)){const r=t.link[n].indexOf(e);if(-1!==r)return t.link[n][r];t.link[n].push(e)}else t.link[n]=[e]}for(const n in e)e[n]=d.cleanupNull(e[n],t)}return e}},9376:function(e,t,n){"use strict";n(7658);const r=n(784),i=n(5080),o=n(2968),{REGEX_BCP47:a,addValue:s}=n(7247),{handleEvent:l}=n(7019),{RDF_LIST:c,RDF_FIRST:u,RDF_REST:d,RDF_NIL:h,RDF_TYPE:f,RDF_JSON_LITERAL:p,XSD_BOOLEAN:m,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:y}=n(5360),b={};function _(e,t,n,i){if(e.termType.endsWith("Node"))return{"@id":e.value};const s={"@value":e.value};if(e.language)e.language.match(a)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e.language}},options:i}),s["@language"]=e.language;else{let u=e.datatype.value;if(u||(u=y),u===p){u="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(c){throw new r("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:c})}}if(t){if(u===m)"true"===s["@value"]?s["@value"]=!0:"false"===s["@value"]&&(s["@value"]=!1);else if(o.isNumeric(s["@value"]))if(u===v){const e=parseInt(s["@value"],10);e.toFixed(0)===s["@value"]&&(s["@value"]=e)}else u===g&&(s["@value"]=parseFloat(s["@value"]));[m,v,g,y].includes(u)||(s["@type"]=u)}else if("i18n-datatype"===n&&u.startsWith("https://www.w3.org/ns/i18n#")){const[,e,t]=u.split(/[#_]/);e.length>0&&(s["@language"]=e,e.match(a)||i.eventHandler&&l({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:e}},options:i})),s["@direction"]=t}else u!==y&&(s["@type"]=u)}return s}e.exports=b,b.fromRDF=async(e,t)=>{const n={},r={"@default":n},a={},{useRdfType:l=!1,useNativeTypes:p=!1,rdfDirection:m=null}=t;for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in r||(r[e]={}),"@default"===e||e in n||(n[e]={"@id":e});const o=r[e],c=i.subject.value,u=i.predicate.value,d=i.object;c in o||(o[c]={"@id":c});const g=o[c],v=d.termType.endsWith("Node");if(v&&!(d.value in o)&&(o[d.value]={"@id":d.value}),u===f&&!l&&v){s(g,"@type",d.value,{propertyIsArray:!0});continue}const y=_(d,p,m,t);if(s(g,u,y,{propertyIsArray:!0}),v)if(d.value===h){const e=o[d.value];"usages"in e||(e.usages=[]),e.usages.push({node:g,property:u,value:y})}else d.value in a?a[d.value]=!1:a[d.value]={node:g,property:u,value:y}}for(const s in r){const e=r[s];if(!(h in e))continue;const t=e[h];if(t.usages){for(let n of t.usages){let t=n.node,r=n.property,s=n.value;const l=[],h=[];let f=Object.keys(t).length;while(r===d&&o.isObject(a[t["@id"]])&&o.isArray(t[u])&&1===t[u].length&&o.isArray(t[d])&&1===t[d].length&&(3===f||4===f&&o.isArray(t["@type"])&&1===t["@type"].length&&t["@type"][0]===c))if(l.push(t[u][0]),h.push(t["@id"]),n=a[t["@id"]],t=n.node,r=n.property,s=n.value,f=Object.keys(t).length,!i.isBlankNode(t))break;delete s["@id"],s["@list"]=l.reverse();for(const n of h)delete e[n]}delete t.usages}}const g=[],v=Object.keys(n).sort();for(const o of v){const e=n[o];if(o in r){const t=e["@graph"]=[],n=r[o],a=Object.keys(n).sort();for(const e of a){const r=n[e];i.isSubjectReference(r)||t.push(r)}}i.isSubjectReference(e)||g.push(e)}return g}},5080:function(e,t,n){"use strict";const r=n(2968),i={};e.exports=i,i.isSubject=e=>{if(r.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},i.isSubjectReference=e=>r.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>r.isObject(e)&&"@value"in e,i.isList=e=>r.isObject(e)&&"@list"in e,i.isGraph=e=>r.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((e=>"@id"!==e&&"@index"!==e)).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>{if(r.isObject(e)){if("@id"in e){const t=e["@id"];return!r.isString(t)||0===t.indexOf("_:")}return 0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)}return!1}},3122:function(e,t,n){n(7658);
/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
const r=n(3503),i=n(4435),o=n(7247),a=n(7781),s=o.IdentifierIssuer,l=n(784),c=n(9790),u=n(5024),{expand:d}=n(6901),{flatten:h}=n(173),{fromRDF:f}=n(9376),{toRDF:p}=n(8631),{frameMergedOrDefault:m,cleanupNull:g}=n(7566),{isArray:v,isObject:y,isString:b}=n(2968),{isSubjectReference:_}=n(5080),{expandIri:w,getInitialContext:x,process:S,processingMode:E}=n(3423),{compact:T,compactIri:M}=n(8204),{createNodeMap:C,createMergedNodeMap:A,mergeNodeMaps:R}=n(1551),{logEventHandler:k,logWarningEventHandler:O,safeEventHandler:L,setDefaultEventHandler:I,setupEventHandler:P,strictEventHandler:D,unhandledEventHandler:N}=n(7019),U=function(e){const t={},U=100,F=new c({max:U});function B(t,{documentLoader:n=e.documentLoader,...r}){if(t&&"compactionMap"in t)throw new l('"compactionMap" not supported.',"jsonld.OptionsError");if(t&&"expansionMap"in t)throw new l('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:n},r,t,{eventHandler:P({options:t})})}return e.compact=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===n)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;let i;r=B(r,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:F})}),r.link&&(r.skipExpansion=!0),r.compactToRelative||delete r.base,i=r.skipExpansion?t:await e.expand(t,r);const c=await e.processContext(x(r),n,r);let u=await T({activeCtx:c,element:i,options:r});r.compactArrays&&!r.graph&&v(u)?1===u.length?u=u[0]:0===u.length&&(u={}):r.graph&&y(u)&&(u=[u]),y(n)&&"@context"in n&&(n=n["@context"]),n=o.clone(n),v(n)||(n=[n]);const d=n;n=[];for(let e=0;e<d.length;++e)(!y(d[e])||Object.keys(d[e]).length>0)&&n.push(d[e]);const h=n.length>0;if(1===n.length&&(n=n[0]),v(u)){const e=M({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},h&&(u["@context"]=n),u[e]=t}else if(y(u)&&h){const e=u;u={"@context":n};for(const t in e)u[t]=e[t]}return u},e.expand=async function(t,n){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");n=B(n,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:F})});const r={},i=[];if("expandContext"in n){const e=o.clone(n.expandContext);y(e)&&"@context"in e?r.expandContext=e:r.expandContext={"@context":e},i.push(r.expandContext)}let s;if(b(t)){const o=await e.get(t,n);s=o.documentUrl,r.input=o.document,o.contextUrl&&(r.remoteContext={"@context":o.contextUrl},i.push(r.remoteContext))}else r.input=o.clone(t);"base"in n||(n.base=s||"");let l=x(n);for(const e of i)l=await S({activeCtx:l,localCtx:e,options:n});let c=await d({activeCtx:l,element:r.input,options:n});return y(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c},e.flatten=async function(t,n,r){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");n="function"===typeof n?null:n||null,r=B(r,{base:b(t)?t:"",contextResolver:new a({sharedCache:F})});const i=await e.expand(t,r),o=h(i);if(null===n)return o;r.graph=!0,r.skipExpansion=!0;const s=await e.compact(o,n,r);return s},e.frame=async function(t,n,r){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(r=B(r,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:F})}),b(n)){const t=await e.get(n,r);if(n=t.document,t.contextUrl){let e=n["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,n["@context"]=e}}const i=n&&n["@context"]||{},o=await e.processContext(x(r),i,r);r.hasOwnProperty("omitGraph")||(r.omitGraph=E(o,1.1)),r.hasOwnProperty("pruneBlankNodeIdentifiers")||(r.pruneBlankNodeIdentifiers=E(o,1.1));const s=await e.expand(t,r),l={...r};l.isFrame=!0,l.keepFreeFloatingNodes=!0;const c=await e.expand(n,l),u=Object.keys(n).map((e=>w(o,e,{vocab:!0})));l.merged=!u.includes("@graph"),l.is11=E(o,1.1);const d=m(s,c,l);l.graph=!r.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let h=await e.compact(d,i,l);return l.link={},h=g(h,l),h},e.link=async function(t,n,r){const i={};return n&&(i["@context"]=n),i["@embed"]="@link",e.frame(t,i,r)},e.normalize=e.canonize=async function(t,n){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(n=B(n,{base:b(t)?t:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new a({sharedCache:F})}),"inputFormat"in n){if("application/n-quads"!==n.inputFormat&&"application/nquads"!==n.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");const e=u.parse(t);return r.canonize(e,n)}const i={...n};delete i.format,i.produceGeneralizedRdf=!1;const o=await e.toRDF(t,i);return r.canonize(o,n)},e.fromRDF=async function(e,n){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");n=B(n,{format:b(e)?"application/n-quads":void 0});const{format:r}=n;let{rdfParser:i}=n;if(r){if(i=i||t[r],!i)throw new l("Unknown input format.","jsonld.UnknownFormat",{format:r})}else i=()=>e;const o=await i(e);return f(o,n)},e.toRDF=async function(t,n){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let r;n=B(n,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:F})}),r=n.skipExpansion?t:await e.expand(t,n);const i=p(r,n);if(n.format){if("application/n-quads"===n.format||"application/nquads"===n.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:n.format})}return i},e.createNodeMap=async function(t,n){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");n=B(n,{base:b(t)?t:"",contextResolver:new a({sharedCache:F})});const r=await e.expand(t,n);return A(r,n)},e.merge=async function(t,n,r){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!v(t))throw new TypeError('Could not merge, "docs" must be an array.');n="function"===typeof n?null:n||null,r=B(r,{contextResolver:new a({sharedCache:F})});const i=await Promise.all(t.map((t=>{const n={...r};return e.expand(t,n)})));let l=!0;"mergeNodes"in r&&(l=r.mergeNodes);const c=r.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),n=l||0===e?u:{"@default":{}};if(C(t,n,"@default",c),n!==u)for(const e in n){const t=n[e];if(!(e in u)){u[e]=t;continue}const r=u[e];for(const e in t)e in r||(r[e]=t[e])}}const d=R(u),h=[],f=Object.keys(d).sort();for(let e=0;e<f.length;++e){const t=d[f[e]];_(t)||h.push(t)}if(null===n)return h;r.graph=!0,r.skipExpansion=!0;const p=await e.compact(h,n,r);return p},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,n){let r;r="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader;const i=await r(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(o){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:o,remoteDoc:i})}return i},e.processContext=async function(e,t,n){return n=B(n,{base:"",contextResolver:new a({sharedCache:F})}),null===t?x(n):(t=o.clone(t),y(t)&&"@context"in t||(t={"@context":t}),S({activeCtx:e,localCtx:t,options:n}))},e.getContextValue=n(3423).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,n){t[e]=n},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=n(9545),e.logEventHandler=k,e.logWarningEventHandler=O,e.safeEventHandler=L,e.setDefaultEventHandler=I,e.strictEventHandler=D,e.unhandledEventHandler=N,e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=n(2645),e.JsonLdProcessor=n(5802)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},F=function(){return U((function(){return F()}))};U(F),e.exports=F},1551:function(e,t,n){"use strict";n(7658);const{isKeyword:r}=n(3423),i=n(5080),o=n(2968),a=n(7247),s=n(784),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{t=t||{};const n=t.issuer||new a.IdentifierIssuer("_:b"),r={"@default":{}};return l.createNodeMap(e,r,"@default",n),l.mergeNodeMaps(r)},l.createNodeMap=(e,t,n,c,u,d)=>{if(o.isArray(e)){for(const r of e)l.createNodeMap(r,t,n,c,void 0,d);return}if(!o.isObject(e))return void(d&&d.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}return void(d&&d.push(e))}if(d&&i.isList(e)){const r=[];return l.createNodeMap(e["@list"],t,n,c,u,r),void d.push({"@list":r})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});const h=t[n],f=h[u]=h[u]||{};f["@id"]=u;const p=Object.keys(e).sort();for(let o of p){if("@id"===o)continue;if("@reverse"===o){const r={"@id":u},o=e["@reverse"];for(const e in o){const s=o[e];for(const o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),l.createNodeMap(o,t,n,c,s),a.addValue(h[s],e,r,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),l.createNodeMap(e[o],t,u,c);continue}if("@included"===o){l.createNodeMap(e[o],t,n,c);continue}if("@type"!==o&&r(o)){if("@index"===o&&o in f&&(e[o]!==f[o]||e[o]["@id"]!==f[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:f});f[o]=e[o];continue}const d=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0!==d.length)for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;const r=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(f,o,{"@id":r},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,n,c,r)}else if(i.isValue(e))a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const r=[];l.createNodeMap(e["@list"],t,n,c,u,r),e={"@list":r},a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,n,c,u),a.addValue(f,o,e,{propertyIsArray:!0,allowDuplicate:!1});else a.addValue(f,o,[],{propertyIsArray:!0})}},l.mergeNodeMapGraphs=e=>{const t={};for(const n of Object.keys(e).sort())for(const i of Object.keys(e[n]).sort()){const o=e[n][i];i in t||(t[i]={"@id":i});const s=t[i];for(const e of Object.keys(o).sort())if(r(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(const t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{const t=e["@default"],n=Object.keys(e).sort();for(const r of n){if("@default"===r)continue;const n=e[r];let o=t[r];o?"@graph"in o||(o["@graph"]=[]):t[r]=o={"@id":r,"@graph":[]};const a=o["@graph"];for(const e of Object.keys(n).sort()){const t=n[e];i.isSubjectReference(t)||a.push(t)}}return t}},4435:function(e,t,n){"use strict";const r=n(2725),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=r,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},8631:function(e,t,n){"use strict";n(7658);const{createNodeMap:r}=n(1551),{isKeyword:i}=n(3423),o=n(5080),a=n(5417),s=n(2968),l=n(7247),{handleEvent:c}=n(7019),{RDF_FIRST:u,RDF_REST:d,RDF_NIL:h,RDF_TYPE:f,RDF_JSON_LITERAL:p,RDF_LANGSTRING:m,XSD_BOOLEAN:g,XSD_DOUBLE:v,XSD_INTEGER:y,XSD_STRING:b}=n(5360),{isAbsolute:_}=n(9545),w={};function x(e,t,n,r,o){const a=Object.keys(t).sort();for(const s of a){const a=t[s],l=Object.keys(a).sort();for(let t of l){const l=a[t];if("@type"===t)t=f;else if(i(t))continue;for(const i of l){const a={termType:s.startsWith("_:")?"BlankNode":"NamedNode",value:s};if(!_(s)){o.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:s}},options:o});continue}const l={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!_(t)){o.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:o});continue}if("BlankNode"===l.termType&&!o.produceGeneralizedRdf){o.eventHandler&&c({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:r.getOldIds().find((e=>r.getId(e)===t))}},options:o});continue}const u=E(i,r,e,n,o.rdfDirection,o);u&&e.push({subject:a,predicate:l,object:u,graph:n})}}}}function S(e,t,n,r,i,o){const a={termType:"NamedNode",value:u},s={termType:"NamedNode",value:d},l={termType:"NamedNode",value:h},c=e.pop(),f=c?{termType:"BlankNode",value:t.getId()}:l;let p=f;for(const u of e){const e=E(u,t,n,r,i,o),l={termType:"BlankNode",value:t.getId()};n.push({subject:p,predicate:a,object:e,graph:r}),n.push({subject:p,predicate:s,object:l,graph:r}),p=l}if(c){const e=E(c,t,n,r,i,o);n.push({subject:p,predicate:a,object:e,graph:r}),n.push({subject:p,predicate:s,object:l,graph:r})}return f}function E(e,t,n,r,i,l){const u={};if(o.isValue(e)){u.termType="Literal",u.value=void 0,u.datatype={termType:"NamedNode"};let t=e["@value"];const n=e["@type"]||null;if("@json"===n)u.value=a(t),u.datatype.value=p;else if(s.isBoolean(t))u.value=t.toString(),u.datatype.value=n||g;else if(s.isDouble(t)||n===v)s.isDouble(t)||(t=parseFloat(t)),u.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),u.datatype.value=n||v;else if(s.isNumber(t))u.value=t.toFixed(0),u.datatype.value=n||y;else if("i18n-datatype"===i&&"@direction"in e){const n="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+`_${e["@direction"]}`;u.datatype.value=n,u.value=t}else"@language"in e?(u.value=t,u.datatype.value=n||m,u.language=e["@language"]):(u.value=t,u.datatype.value=n||b)}else if(o.isList(e)){const o=S(e["@list"],t,n,r,i,l);u.termType=o.termType,u.value=o.value}else{const t=s.isObject(e)?e["@id"]:e;u.termType=t.startsWith("_:")?"BlankNode":"NamedNode",u.value=t}return"NamedNode"!==u.termType||_(u.value)?u:(l.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:u.value}},options:l}),null)}e.exports=w,w.toRDF=(e,t)=>{const n=new l.IdentifierIssuer("_:b"),i={"@default":{}};r(e,i,"@default",n);const o=[],a=Object.keys(i).sort();for(const r of a){let e;if("@default"===r)e={termType:"DefaultGraph",value:""};else{if(!_(r)){t.eventHandler&&c({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:r}},options:t});continue}e=r.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},e.value=r}x(o,i[r],e,n,t)}return o}},2968:function(e){"use strict";const t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"===typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>"undefined"===typeof e},9545:function(e,t,n){"use strict";n(7658);const r=n(2968),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{const n={},r=i.parsers[t||"full"],o=r.regex.exec(e);let a=r.keys.length;while(a--)n[r.keys[a]]=void 0===o[a]?null:o[a];return("https"===n.scheme&&"443"===n.port||"http"===n.scheme&&"80"===n.port)&&(n.href=n.href.replace(":"+n.port,""),n.authority=n.authority.replace(":"+n.port,""),n.port=null),n.normalizedPath=i.removeDotSegments(n.path),n},i.prependBase=(e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;e&&!r.isString(e)||(e=i.parse(e||""));const n=i.parse(t),o={protocol:e.protocol||""};if(null!==n.authority)o.authority=n.authority,o.path=n.path,o.query=n.query;else if(o.authority=e.authority,""===n.path)o.path=e.path,null!==n.query?o.query=n.query:o.query=e.query;else{if(0===n.path.indexOf("/"))o.path=n.path;else{let t=e.path;t=t.substr(0,t.lastIndexOf("/")+1),(t.length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=n.path,o.path=t}o.query=n.query}""!==n.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==n.fragment&&(a+="#"+n.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;e&&!r.isString(e)||(e=i.parse(e||""));let n="";if(""!==e.href?n+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(n+="//"),0!==t.indexOf(n))return t;const o=i.parse(t.substr(n.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;while(a.length>0&&s.length>l){if(a[0]!==s[0])break;a.shift(),s.shift()}let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";const t=e.split("/"),n=[];while(t.length>0){const e=t.shift(),r=0===t.length;"."!==e?".."!==e?n.push(e):(n.pop(),r&&n.push("")):r&&n.push("")}return"/"===e[0]&&n.length>0&&""!==n[0]&&n.unshift(""),1===n.length&&""===n[0]?"/":n.join("/")};const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>r.isString(e)&&o.test(e),i.isRelative=e=>r.isString(e)},7247:function(e,t,n){"use strict";n(7658);const r=n(5080),i=n(2968),o=n(3503).IdentifierIssuer,a=n(784),s=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,l=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,c=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,u=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d=/^@[a-zA-Z]+$/,h={headers:{accept:"application/ld+json, application/json"}},f={};function p(e,t){if(i.isArray(t))for(let n=0;n<t.length;++n)t[n]=p(e,t[n]);else if(r.isList(t))t["@list"]=p(e,t["@list"]);else if(i.isObject(t)){r.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));const n=Object.keys(t).sort();for(let r=0;r<n.length;++r){const i=n[r];"@id"!==i&&(t[i]=p(e,t[i]))}}return t}e.exports=f,f.IdentifierIssuer=o,f.REGEX_BCP47=s,f.REGEX_KEYWORD=d,f.clone=function(e){if(e&&"object"===typeof e){let t;if(i.isArray(e)){t=[];for(let n=0;n<e.length;++n)t[n]=f.clone(e[n])}else if(e instanceof Map){t=new Map;for(const[n,r]of e)t.set(n,f.clone(r))}else if(e instanceof Set){t=new Set;for(const n of e)t.add(f.clone(n))}else if(i.isObject(e)){t={};for(const n in e)t[n]=f.clone(e[n])}else t=e.toString();return t}return e},f.asArray=function(e){return Array.isArray(e)?e:[e]},f.buildHeaders=(e={})=>{const t=Object.keys(e).some((e=>"accept"===e.toLowerCase()));if(t)throw new RangeError('Accept header may not be specified; only "'+h.headers.accept+'" is supported.');return Object.assign({Accept:h.headers.accept},e)},f.parseLinkHeader=e=>{const t={},n=e.match(l);for(let r=0;r<n.length;++r){let e=n[r].match(c);if(!e)continue;const i={target:e[1]},o=e[2];while(e=u.exec(o))i[e[1]]=void 0===e[2]?e[3]:e[2];const a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},f.validateTypeValue=(e,t)=>{if(!i.isString(e)&&(!i.isArray(e)||!e.every((e=>i.isString(e))))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&f.asArray(e["@default"]).every((e=>i.isString(e))))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},f.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const n=e[t];return!i.isArray(n)||n.length>0}return!1},f.hasValue=(e,t,n)=>{if(f.hasProperty(e,t)){let o=e[t];const a=r.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(f.compareValues(n,o[e]))return!0}else if(!i.isArray(n))return f.compareValues(n,o)}return!1},f.addValue=(e,t,n,r)=>{if(r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1),"valueIsArray"in r||(r.valueIsArray=!1),"allowDuplicate"in r||(r.allowDuplicate=!0),"prependValue"in r||(r.prependValue=!1),r.valueIsArray)e[t]=n;else if(i.isArray(n)){0===n.length&&r.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),r.prependValue&&(n=n.concat(e[t]),e[t]=[]);for(let i=0;i<n.length;++i)f.addValue(e,t,n[i],r)}else if(e.hasOwnProperty(t)){const o=!r.allowDuplicate&&f.hasValue(e,t,n);i.isArray(e[t])||o&&!r.propertyIsArray||(e[t]=[e[t]]),o||(r.prependValue?e[t].unshift(n):e[t].push(n))}else e[t]=r.propertyIsArray?[n]:n},f.getValues=(e,t)=>[].concat(e[t]||[]),f.removeProperty=(e,t)=>{delete e[t]},f.removeValue=(e,t,n,r)=>{r=r||{},"propertyIsArray"in r||(r.propertyIsArray=!1);const i=f.getValues(e,t).filter((e=>!f.compareValues(e,n)));0===i.length?f.removeProperty(e,t):1!==i.length||r.propertyIsArray?e[t]=i:e[t]=i[0]},f.relabelBlankNodes=(e,t)=>{t=t||{};const n=t.issuer||new o("_:b");return p(n,e)},f.compareValues=(e,t)=>e===t||(!(!r.isValue(e)||!r.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"]),f.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},9790:function(e,t,n){"use strict";const r=n(1708),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=()=>1;class m{constructor(e){if("number"===typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!==typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||p;if(this[a]="function"!==typeof t?p:t,this[s]=e.stale||!1,e.maxAge&&"number"!==typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,y(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!==typeof e&&(e=p),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach((e=>{e.length=this[a](e.value,e.key),this[o]+=e.length}))),y(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;w(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;w(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach((e=>this[c](e.key,e.value))),this[h]=new Map,this[d]=new r,this[o]=0}dump(){return this[d].map((e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if(n=n||this[l],n&&"number"!==typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,s=this[a](t,e);if(this[h].has(e)){if(s>this[i])return b(this,this[h].get(e)),!1;const a=this[h].get(e),l=a.value;return this[c]&&(this[u]||this[c](e,l.value)),l.now=r,l.maxAge=n,l.value=t,this[o]+=s-l.length,l.length=s,this.get(e),y(this),!0}const f=new _(e,t,s,r,n);return f.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=f.length,this[d].unshift(f),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const e=i-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>g(this,t,!1)))}}const g=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(v(e,t)){if(b(e,r),!e[s])return}else n&&(e[f]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[l]&&n>e[l]},y=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){const n=t.prev;b(e,t),t=n}},b=(e,t)=>{if(t){const n=t.value;e[c]&&e[c](n.key,n.value),e[o]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class _{constructor(e,t,n,r,i){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=i||0}}const w=(e,t,n,r)=>{let i=n.value;v(e,i)&&(b(e,n),e[s]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};e.exports=m},5591:function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},1708:function(e,t,n){"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function i(e,t,n){var r=t===e.head?new s(n,null,t,e):new s(n,t,t.next,e);return null===r.next&&(e.tail=r),null===r.prev&&(e.head=r),e.length++,r}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}n(7658),e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=e(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=e(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var a=[];for(r=0;o&&r<t;r++)a.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(r=0;r<n.length;r++)o=i(this,o,n[r]);return a},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(5591)(r)}catch(l){}},1610:function(e,t,n){function r(e){var t=Object.create(null);return{on:function(n,r,i){if("function"!==typeof r)throw new Error("callback is expected to be a function");var o=t[n];return o||(o=t[n]=[]),o.push({callback:r,ctx:i}),e},off:function(n,r){var i="undefined"===typeof n;if(i)return t=Object.create(null),e;if(t[n]){var o="function"!==typeof r;if(o)delete t[n];else for(var a=t[n],s=0;s<a.length;++s)a[s].callback===r&&a.splice(s,1)}return e},fire:function(n){var r,i=t[n];if(!i)return e;arguments.length>1&&(r=Array.prototype.splice.call(arguments,1));for(var o=0;o<i.length;++o){var a=i[o];a.callback.apply(a.ctx,r)}return e}}}function i(e){if(!e)throw new Error("Eventify cannot use falsy object as events subject");for(var t=["on","fire","off"],n=0;n<t.length;++n)if(e.hasOwnProperty(t[n]))throw new Error("Subject cannot be eventified, since it already has property '"+t[n]+"'")}n(7658),e.exports=function(e){i(e);var t=r(e);return e.on=t.on,e.off=t.off,e.fire=t.fire,e}},4854:function(e,t,n){n(7658),e.exports=i,e.exports.simulator=n(6599);var r=n(1610);function i(e,t){if(!e)throw new Error("Graph structure cannot be undefined");var i=t&&t.createSimulator||n(6599),a=i(t);if(Array.isArray(t))throw new Error("Physics settings is expected to be an object");var s=e.version>19?L:O;t&&"function"===typeof t.nodeMass&&(s=t.nodeMass);var l=new Map,c={},u=0,d=a.settings.springTransform||o;x(),b();var h=!1,f={step:function(){if(0===u)return p(!0),!0;var e=a.step();f.lastMove=e,f.fire("step");var t=e/u,n=t<=.01;return p(n),n},getNodePosition:function(e){return k(e).pos},setNodePosition:function(e){var t=k(e);t.setPosition.apply(t,Array.prototype.slice.call(arguments,1))},getLinkPosition:function(e){var t=c[e];if(t)return{from:t.from.pos,to:t.to.pos}},getGraphRect:function(){return a.getBBox()},forEachBody:m,pinNode:function(e,t){var n=k(e.id);n.isPinned=!!t},isNodePinned:function(e){return k(e.id).isPinned},dispose:function(){e.off("changed",w),f.fire("disposed")},getBody:y,getSpring:v,getForceVectorLength:g,simulator:a,graph:e,lastMove:0};return r(f),f;function p(e){h!==e&&(h=e,_(e))}function m(e){l.forEach(e)}function g(){var e=0,t=0;return m((function(n){e+=Math.abs(n.force.x),t+=Math.abs(n.force.y)})),Math.sqrt(e*e+t*t)}function v(t,n){var r;if(void 0===n)r="object"!==typeof t?t:t.id;else{var i=e.hasLink(t,n);if(!i)return;r=i.id}return c[r]}function y(e){return l.get(e)}function b(){e.on("changed",w)}function _(e){f.fire("stable",e)}function w(t){for(var n=0;n<t.length;++n){var r=t[n];"add"===r.changeType?(r.node&&S(r.node.id),r.link&&T(r.link)):"remove"===r.changeType&&(r.node&&E(r.node),r.link&&M(r.link))}u=e.getNodesCount()}function x(){u=0,e.forEachNode((function(e){S(e.id),u+=1})),e.forEachLink(T)}function S(t){var n=l.get(t);if(!n){var r=e.getNode(t);if(!r)throw new Error("initBody() was called with unknown node id");var i=r.position;if(!i){var o=C(r);i=a.getBestNewBodyPosition(o)}n=a.addBodyAt(i),n.id=t,l.set(t,n),A(t),R(r)&&(n.isPinned=!0)}}function E(e){var t=e.id,n=l.get(t);n&&(l.delete(t),a.removeBody(n))}function T(e){A(e.fromId),A(e.toId);var t=l.get(e.fromId),n=l.get(e.toId),r=a.addSpring(t,n,e.length);d(e,r),c[e.id]=r}function M(t){var n=c[t.id];if(n){var r=e.getNode(t.fromId),i=e.getNode(t.toId);r&&A(r.id),i&&A(i.id),delete c[t.id],a.removeSpring(n)}}function C(e){var t=[];if(!e.links)return t;for(var n=Math.min(e.links.length,2),r=0;r<n;++r){var i=e.links[r],o=i.fromId!==e.id?l.get(i.fromId):l.get(i.toId);o&&o.pos&&t.push(o)}return t}function A(e){var t=l.get(e);if(t.mass=s(e),Number.isNaN(t.mass))throw new Error("Node mass should be a number")}function R(e){return e&&(e.isPinned||e.data&&e.data.isPinned)}function k(e){var t=l.get(e);return t||(S(e),t=l.get(e)),t}function O(t){var n=e.getLinks(t);return n?1+n.length/3:1}function L(t){var n=e.getLinks(t);return n?1+n.size/3:1}}function o(){}},4760:function(e,t,n){n(7658);const r=n(5155);e.exports=function(e){return t;function t(t,n){let i=n&&n.indent||0,o=n&&void 0!==n.join?n.join:"\n",a=Array(i+1).join(" "),s=[];for(let l=0;l<e;++l){let e=r(l),n=0===l?"":a;s.push(n+t.replace(/{var}/g,e))}return s.join(o)}}},2354:function(e,t,n){e.exports=i,e.exports.generateFunctionBody=o;const r=n(4760);function i(e){let t=o(e);return new Function("bodies","settings","random",t)}function o(e){let t=r(e),n=`\n  var boundingBox = {\n    ${t("min_{var}: 0, max_{var}: 0,",{indent:4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${t("base_{var} = 0",{join:", "})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${t("base_{var} += neighborPos.{var};",{indent:10})}\n        }\n\n        ${t("base_{var} /= neighbors.length;",{indent:8})}\n      } else {\n        ${t("base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;",{indent:8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${t("{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,",{indent:8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${t("var max_{var} = -Infinity;",{indent:4})}\n    ${t("var min_{var} = Infinity;",{indent:4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${t("if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};",{indent:6})}\n      ${t("if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};",{indent:6})}\n    }\n\n    ${t("boundingBox.min_{var} = min_{var};",{indent:4})}\n    ${t("boundingBox.max_{var} = max_{var};",{indent:4})}\n  }\n\n  function resetBoundingBox() {\n    ${t("boundingBox.min_{var} = boundingBox.max_{var} = 0;",{indent:4})}\n  }\n`;return n}},3791:function(e,t,n){const r=n(4760);function i(e,t){let n=o(e,t),{Body:r}=new Function(n)();return r}function o(e,t){let n=`\n${s(e,t)}\n${a(e,t)}\nreturn {Body: Body, Vector: Vector};\n`;return n}function a(e){let t=r(e),n=t("{var}",{join:", "});return`\nfunction Body(${n}) {\n  this.isPinned = false;\n  this.pos = new Vector(${n});\n  this.force = new Vector();\n  this.velocity = new Vector();\n  this.mass = 1;\n\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.reset = function() {\n  this.force.reset();\n  this.springCount = 0;\n  this.springLength = 0;\n}\n\nBody.prototype.setPosition = function (${n}) {\n  ${t("this.pos.{var} = {var} || 0;",{indent:2})}\n};`}function s(e,t){let n=r(e),i="";t&&(i=`${n("\n   var v{var};\nObject.defineProperty(this, '{var}', {\n  set: function(v) { \n    if (!Number.isFinite(v)) throw new Error('Cannot set non-numbers to {var}');\n    v{var} = v; \n  },\n  get: function() { return v{var}; }\n});")}`);let o=n("{var}",{join:", "});return`function Vector(${o}) {\n  ${i}\n    if (typeof arguments[0] === 'object') {\n      // could be another vector\n      let v = arguments[0];\n      ${n('if (!Number.isFinite(v.{var})) throw new Error("Expected value is not a finite number at Vector constructor ({var})");',{indent:4})}\n      ${n("this.{var} = v.{var};",{indent:4})}\n    } else {\n      ${n('this.{var} = typeof {var} === "number" ? {var} : 0;',{indent:4})}\n    }\n  }\n  \n  Vector.prototype.reset = function () {\n    ${n("this.{var} = ",{join:""})}0;\n  };`}e.exports=i,e.exports.generateCreateBodyFunctionBody=o,e.exports.getVectorCode=s,e.exports.getBodyCode=a},905:function(e,t,n){const r=n(4760);function i(e){let t=o(e);return new Function("options",t)}function o(e){let t=r(e),n=`\n  if (!Number.isFinite(options.dragCoefficient)) throw new Error('dragCoefficient is not a finite number');\n\n  return {\n    update: function(body) {\n      ${t("body.force.{var} -= options.dragCoefficient * body.velocity.{var};",{indent:6})}\n    }\n  };\n`;return n}e.exports=i,e.exports.generateCreateDragForceFunctionBody=o},1709:function(e,t,n){const r=n(4760);function i(e){let t=o(e);return new Function("options","random",t)}function o(e){let t=r(e),n=`\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${t("var d{var} = body2.pos.{var} - body1.pos.{var};",{indent:6})}\n      var r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n      if (r === 0) {\n        ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${t("body1.force.{var} += coefficient * d{var}",{indent:6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${t("body2.force.{var} -= coefficient * d{var}",{indent:6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;return n}e.exports=i,e.exports.generateCreateSpringForceFunctionBody=o},5670:function(e,t,n){const r=n(4760);function i(e){let t=o(e);return new Function("bodies","timeStep","adaptiveTimeStepWeight",t)}function o(e){let t=r(e),n=`\n  var length = bodies.length;\n  if (length === 0) return 0;\n\n  ${t("var d{var} = 0, t{var} = 0;",{indent:2})}\n\n  for (var i = 0; i < length; ++i) {\n    var body = bodies[i];\n    if (body.isPinned) continue;\n\n    if (adaptiveTimeStepWeight && body.springCount) {\n      timeStep = (adaptiveTimeStepWeight * body.springLength/body.springCount);\n    }\n\n    var coeff = timeStep / body.mass;\n\n    ${t("body.velocity.{var} += coeff * body.force.{var};",{indent:4})}\n    ${t("var v{var} = body.velocity.{var};",{indent:4})}\n    var v = Math.sqrt(${t("v{var} * v{var}",{join:" + "})});\n\n    if (v > 1) {\n      // We normalize it so that we move within timeStep range. \n      // for the case when v <= 1 - we let velocity to fade out.\n      ${t("body.velocity.{var} = v{var} / v;",{indent:6})}\n    }\n\n    ${t("d{var} = timeStep * body.velocity.{var};",{indent:4})}\n\n    ${t("body.pos.{var} += d{var};",{indent:4})}\n\n    ${t("t{var} += Math.abs(d{var});",{indent:4})}\n  }\n\n  return (${t("t{var} * t{var}",{join:" + "})})/length;\n`;return n}e.exports=i,e.exports.generateIntegratorFunctionBody=o},7099:function(e,t,n){n(7658);const r=n(4760),i=n(5155);function o(e){let t=a(e);return new Function(t)()}function a(e){let t=r(e),n=Math.pow(2,e),o=`\n${d()}\n${u(e)}\n${s(e)}\n${c(e)}\n${l(e)}\n\nfunction createQuadTree(options, random) {\n  options = options || {};\n  options.gravity = typeof options.gravity === 'number' ? options.gravity : -1;\n  options.theta = typeof options.theta === 'number' ? options.theta : 0.8;\n\n  var gravity = options.gravity;\n  var updateQueue = [];\n  var insertStack = new InsertStack();\n  var theta = options.theta;\n\n  var nodesCache = [];\n  var currentInCache = 0;\n  var root = newNode();\n\n  return {\n    insertBodies: insertBodies,\n\n    /**\n     * Gets root node if it is present\n     */\n    getRoot: function() {\n      return root;\n    },\n\n    updateBodyForce: update,\n\n    options: function(newOptions) {\n      if (newOptions) {\n        if (typeof newOptions.gravity === 'number') {\n          gravity = newOptions.gravity;\n        }\n        if (typeof newOptions.theta === 'number') {\n          theta = newOptions.theta;\n        }\n\n        return this;\n      }\n\n      return {\n        gravity: gravity,\n        theta: theta\n      };\n    }\n  };\n\n  function newNode() {\n    // To avoid pressure on GC we reuse nodes.\n    var node = nodesCache[currentInCache];\n    if (node) {\n${f("      node.")}\n      node.body = null;\n      node.mass = ${t("node.mass_{var} = ",{join:""})}0;\n      ${t("node.min_{var} = node.max_{var} = ",{join:""})}0;\n    } else {\n      node = new QuadNode();\n      nodesCache[currentInCache] = node;\n    }\n\n    ++currentInCache;\n    return node;\n  }\n\n  function update(sourceBody) {\n    var queue = updateQueue;\n    var v;\n    ${t("var d{var};",{indent:4})}\n    var r; \n    ${t("var f{var} = 0;",{indent:4})}\n    var queueLength = 1;\n    var shiftIdx = 0;\n    var pushIdx = 1;\n\n    queue[0] = root;\n\n    while (queueLength) {\n      var node = queue[shiftIdx];\n      var body = node.body;\n\n      queueLength -= 1;\n      shiftIdx += 1;\n      var differentBody = (body !== sourceBody);\n      if (body && differentBody) {\n        // If the current node is a leaf node (and it is not source body),\n        // calculate the force exerted by the current node on body, and add this\n        // amount to body's net force.\n        ${t("d{var} = body.pos.{var} - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Poor man's protection against zero distance.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n\n        // This is standard gravitation force calculation but we divide\n        // by r^3 to save two operations when normalizing force vector.\n        v = gravity * body.mass * sourceBody.mass / (r * r * r);\n        ${t("f{var} += v * d{var};",{indent:8})}\n      } else if (differentBody) {\n        // Otherwise, calculate the ratio s / r,  where s is the width of the region\n        // represented by the internal node, and r is the distance between the body\n        // and the node's center-of-mass\n        ${t("d{var} = node.mass_{var} / node.mass - sourceBody.pos.{var};",{indent:8})}\n        r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n\n        if (r === 0) {\n          // Sorry about code duplication. I don't want to create many functions\n          // right away. Just want to see performance first.\n          ${t("d{var} = (random.nextDouble() - 0.5) / 50;",{indent:10})}\n          r = Math.sqrt(${t("d{var} * d{var}",{join:" + "})});\n        }\n        // If s / r < θ, treat this internal node as a single body, and calculate the\n        // force it exerts on sourceBody, and add this amount to sourceBody's net force.\n        if ((node.max_${i(0)} - node.min_${i(0)}) / r < theta) {\n          // in the if statement above we consider node's width only\n          // because the region was made into square during tree creation.\n          // Thus there is no difference between using width or height.\n          v = gravity * node.mass * sourceBody.mass / (r * r * r);\n          ${t("f{var} += v * d{var};",{indent:10})}\n        } else {\n          // Otherwise, run the procedure recursively on each of the current node's children.\n\n          // I intentionally unfolded this loop, to save several CPU cycles.\n${h()}\n        }\n      }\n    }\n\n    ${t("sourceBody.force.{var} += f{var};",{indent:4})}\n  }\n\n  function insertBodies(bodies) {\n    ${t("var {var}min = Number.MAX_VALUE;",{indent:4})}\n    ${t("var {var}max = Number.MIN_VALUE;",{indent:4})}\n    var i = bodies.length;\n\n    // To reduce quad tree depth we are looking for exact bounding box of all particles.\n    while (i--) {\n      var pos = bodies[i].pos;\n      ${t("if (pos.{var} < {var}min) {var}min = pos.{var};",{indent:6})}\n      ${t("if (pos.{var} > {var}max) {var}max = pos.{var};",{indent:6})}\n    }\n\n    // Makes the bounds square.\n    var maxSideLength = -Infinity;\n    ${t("if ({var}max - {var}min > maxSideLength) maxSideLength = {var}max - {var}min ;",{indent:4})}\n\n    currentInCache = 0;\n    root = newNode();\n    ${t("root.min_{var} = {var}min;",{indent:4})}\n    ${t("root.max_{var} = {var}min + maxSideLength;",{indent:4})}\n\n    i = bodies.length - 1;\n    if (i >= 0) {\n      root.body = bodies[i];\n    }\n    while (i--) {\n      insert(bodies[i], root);\n    }\n  }\n\n  function insert(newBody) {\n    insertStack.reset();\n    insertStack.push(root, newBody);\n\n    while (!insertStack.isEmpty()) {\n      var stackItem = insertStack.pop();\n      var node = stackItem.node;\n      var body = stackItem.body;\n\n      if (!node.body) {\n        // This is internal node. Update the total mass of the node and center-of-mass.\n        ${t("var {var} = body.pos.{var};",{indent:8})}\n        node.mass += body.mass;\n        ${t("node.mass_{var} += body.mass * {var};",{indent:8})}\n\n        // Recursively insert the body in the appropriate quadrant.\n        // But first find the appropriate quadrant.\n        var quadIdx = 0; // Assume we are in the 0's quad.\n        ${t("var min_{var} = node.min_{var};",{indent:8})}\n        ${t("var max_{var} = (min_{var} + node.max_{var}) / 2;",{indent:8})}\n\n${a(8)}\n\n        var child = getChild(node, quadIdx);\n\n        if (!child) {\n          // The node is internal but this quadrant is not taken. Add\n          // subnode to it.\n          child = newNode();\n          ${t("child.min_{var} = min_{var};",{indent:10})}\n          ${t("child.max_{var} = max_{var};",{indent:10})}\n          child.body = body;\n\n          setChild(node, quadIdx, child);\n        } else {\n          // continue searching in this quadrant.\n          insertStack.push(child, body);\n        }\n      } else {\n        // We are trying to add to the leaf node.\n        // We have to convert current leaf into internal node\n        // and continue adding two nodes.\n        var oldBody = node.body;\n        node.body = null; // internal nodes do not cary bodies\n\n        if (isSamePosition(oldBody.pos, body.pos)) {\n          // Prevent infinite subdivision by bumping one node\n          // anywhere in this quadrant\n          var retriesCount = 3;\n          do {\n            var offset = random.nextDouble();\n            ${t("var d{var} = (node.max_{var} - node.min_{var}) * offset;",{indent:12})}\n\n            ${t("oldBody.pos.{var} = node.min_{var} + d{var};",{indent:12})}\n            retriesCount -= 1;\n            // Make sure we don't bump it out of the box. If we do, next iteration should fix it\n          } while (retriesCount > 0 && isSamePosition(oldBody.pos, body.pos));\n\n          if (retriesCount === 0 && isSamePosition(oldBody.pos, body.pos)) {\n            // This is very bad, we ran out of precision.\n            // if we do not return from the method we'll get into\n            // infinite loop here. So we sacrifice correctness of layout, and keep the app running\n            // Next layout iteration should get larger bounding box in the first step and fix this\n            return;\n          }\n        }\n        // Next iteration should subdivide node further.\n        insertStack.push(node, oldBody);\n        insertStack.push(node, body);\n      }\n    }\n  }\n}\nreturn createQuadTree;\n\n`;return o;function a(t){let n=[],r=Array(t+1).join(" ");for(let o=0;o<e;++o)n.push(r+`if (${i(o)} > max_${i(o)}) {`),n.push(r+`  quadIdx = quadIdx + ${Math.pow(2,o)};`),n.push(r+`  min_${i(o)} = max_${i(o)};`),n.push(r+`  max_${i(o)} = node.max_${i(o)};`),n.push(r+"}");return n.join("\n")}function h(){let e=Array(11).join(" "),t=[];for(let r=0;r<n;++r)t.push(e+`if (node.quad${r}) {`),t.push(e+`  queue[pushIdx] = node.quad${r};`),t.push(e+"  queueLength += 1;"),t.push(e+"  pushIdx += 1;"),t.push(e+"}");return t.join("\n")}function f(e){let t=[];for(let r=0;r<n;++r)t.push(`${e}quad${r} = null;`);return t.join("\n")}}function s(e){let t=r(e);return`\n  function isSamePosition(point1, point2) {\n    ${t("var d{var} = Math.abs(point1.{var} - point2.{var});",{indent:2})}\n  \n    return ${t("d{var} < 1e-8",{join:" && "})};\n  }  \n`}function l(e){var t=Math.pow(2,e);return`\nfunction setChild(node, idx, child) {\n  ${n()}\n}`;function n(){let e=[];for(let n=0;n<t;++n){let t=0===n?"  ":"  else ";e.push(`${t}if (idx === ${n}) node.quad${n} = child;`)}return e.join("\n")}}function c(e){return`function getChild(node, idx) {\n${t()}\n  return null;\n}`;function t(){let t=[],n=Math.pow(2,e);for(let e=0;e<n;++e)t.push(`  if (idx === ${e}) return node.quad${e};`);return t.join("\n")}}function u(e){let t=r(e),n=Math.pow(2,e);var i=`\nfunction QuadNode() {\n  // body stored inside this node. In quad tree only leaf nodes (by construction)\n  // contain bodies:\n  this.body = null;\n\n  // Child nodes are stored in quads. Each quad is presented by number:\n  // 0 | 1\n  // -----\n  // 2 | 3\n${o("  this.")}\n\n  // Total mass of current node\n  this.mass = 0;\n\n  // Center of mass coordinates\n  ${t("this.mass_{var} = 0;",{indent:2})}\n\n  // bounding box coordinates\n  ${t("this.min_{var} = 0;",{indent:2})}\n  ${t("this.max_{var} = 0;",{indent:2})}\n}\n`;return i;function o(e){let t=[];for(let r=0;r<n;++r)t.push(`${e}quad${r} = null;`);return t.join("\n")}}function d(){return"\n/**\n * Our implementation of QuadTree is non-recursive to avoid GC hit\n * This data structure represent stack of elements\n * which we are trying to insert into quad tree.\n */\nfunction InsertStack () {\n    this.stack = [];\n    this.popIdx = 0;\n}\n\nInsertStack.prototype = {\n    isEmpty: function() {\n        return this.popIdx === 0;\n    },\n    push: function (node, body) {\n        var item = this.stack[this.popIdx];\n        if (!item) {\n            // we are trying to avoid memory pressure: create new element\n            // only when absolutely necessary\n            this.stack[this.popIdx] = new InsertStackElement(node, body);\n        } else {\n            item.node = node;\n            item.body = body;\n        }\n        ++this.popIdx;\n    },\n    pop: function () {\n        if (this.popIdx > 0) {\n            return this.stack[--this.popIdx];\n        }\n    },\n    reset: function () {\n        this.popIdx = 0;\n    }\n};\n\nfunction InsertStackElement(node, body) {\n    this.node = node; // QuadTree node\n    this.body = body; // physical body which needs to be inserted to node\n}\n"}e.exports=o,e.exports.generateQuadTreeFunctionBody=a,e.exports.getInsertStackCode=d,e.exports.getQuadNodeCode=u,e.exports.isSamePosition=s,e.exports.getChildBodyCode=c,e.exports.setChildBodyCode=l},5155:function(e){e.exports=function(e){return 0===e?"x":1===e?"y":2===e?"z":"c"+(e+1)}},6599:function(e,t,n){n(7658),e.exports=u;var r=n(3791),i=n(7099),o=n(2354),a=n(905),s=n(1709),l=n(5670),c={};function u(e){var t=n(3366),u=n(3232),h=n(1610);if(e){if(void 0!==e.springCoeff)throw new Error("springCoeff was renamed to springCoefficient");if(void 0!==e.dragCoeff)throw new Error("dragCoeff was renamed to dragCoefficient")}e=u(e,{springLength:10,springCoefficient:.8,gravity:-12,theta:.8,dragCoefficient:.9,timeStep:.5,adaptiveTimeStepWeight:0,dimensions:2,debug:!1});var f=c[e.dimensions];if(!f){var p=e.dimensions;f={Body:r(p,e.debug),createQuadTree:i(p),createBounds:o(p),createDragForce:a(p),createSpringForce:s(p),integrate:l(p)},c[p]=f}var m=f.Body,g=f.createQuadTree,v=f.createBounds,y=f.createDragForce,b=f.createSpringForce,_=f.integrate,w=e=>new m(e),x=n(1857).random(42),S=[],E=[],T=g(e,x),M=v(S,e,x),C=b(e,x),A=y(e),R=0,k=[],O=new Map,L=0;D("nbody",F),D("spring",B);var I={bodies:S,quadTree:T,springs:E,settings:e,addForce:D,removeForce:N,getForces:U,step:function(){for(var t=0;t<k.length;++t)k[t](L);var n=_(S,e.timeStep,e.adaptiveTimeStepWeight);return L+=1,n},addBody:function(e){if(!e)throw new Error("Body is required");return S.push(e),e},addBodyAt:function(e){if(!e)throw new Error("Body position is required");var t=w(e);return S.push(t),t},removeBody:function(e){if(e){var t=S.indexOf(e);if(!(t<0))return S.splice(t,1),0===S.length&&M.reset(),!0}},addSpring:function(e,n,r,i){if(!e||!n)throw new Error("Cannot add null spring to force simulator");"number"!==typeof r&&(r=-1);var o=new t(e,n,r,i>=0?i:-1);return E.push(o),o},getTotalMovement:function(){return R},removeSpring:function(e){if(e){var t=E.indexOf(e);return t>-1?(E.splice(t,1),!0):void 0}},getBestNewBodyPosition:function(e){return M.getBestNewPosition(e)},getBBox:P,getBoundingBox:P,invalidateBBox:function(){console.warn("invalidateBBox() is deprecated, bounds always recomputed on `getBBox()` call")},gravity:function(t){return void 0!==t?(e.gravity=t,T.options({gravity:t}),this):e.gravity},theta:function(t){return void 0!==t?(e.theta=t,T.options({theta:t}),this):e.theta},random:x};return d(e,I),h(I),I;function P(){return M.update(),M.box}function D(e,t){if(O.has(e))throw new Error("Force "+e+" is already added");O.set(e,t),k.push(t)}function N(e){var t=k.indexOf(O.get(e));t<0||(k.splice(t,1),O.delete(e))}function U(){return O}function F(){if(0!==S.length){T.insertBodies(S);var e=S.length;while(e--){var t=S[e];t.isPinned||(t.reset(),T.updateBodyForce(t),A.update(t))}}}function B(){var e=E.length;while(e--)C.update(E[e])}}function d(e,t){for(var n in e)h(e,t,n)}function h(e,t,n){if(e.hasOwnProperty(n)&&"function"!==typeof t[n]){var r=Number.isFinite(e[n]);t[n]=r?function(r){if(void 0!==r){if(!Number.isFinite(r))throw new Error("Value of "+n+" should be a valid number.");return e[n]=r,t}return e[n]}:function(r){return void 0!==r?(e[n]=r,t):e[n]}}}},3366:function(e){function t(e,t,n,r){this.from=e,this.to=t,this.length=n,this.coefficient=r}e.exports=t},4747:function(e,t,n){n(7658),e.exports=i;var r=n(1610);function i(e){if(e=e||{},"uniqueLinkId"in e&&(console.warn("ngraph.graph: Starting from version 0.14 `uniqueLinkId` is deprecated.\nUse `multigraph` option instead\n","\n","Note: there is also change in default behavior: From now on each graph\nis considered to be not a multigraph by default (each edge is unique)."),e.multigraph=e.uniqueLinkId),void 0===e.multigraph&&(e.multigraph=!1),"function"!==typeof Map)throw new Error("ngraph.graph requires `Map` to be defined. Please polyfill it before using ngraph");var t=new Map,n=new Map,i={},c=0,u=e.multigraph?T:E,d=[],h=U,f=U,p=U,m=U,g={version:20,addNode:_,addLink:S,removeLink:R,removeNode:x,getNode:w,getNodeCount:M,getLinkCount:C,getEdgeCount:C,getLinksCount:C,getNodesCount:M,getLinks:A,forEachNode:j,forEachLinkedNode:P,forEachLink:I,beginUpdate:p,endUpdate:m,clear:L,hasLink:O,hasNode:w,getLink:O};return r(g),v(),g;function v(){var e=g.on;function t(){return g.beginUpdate=p=F,g.endUpdate=m=B,h=y,f=b,g.on=e,e.apply(g,arguments)}g.on=t}function y(e,t){d.push({link:e,changeType:t})}function b(e,t){d.push({node:e,changeType:t})}function _(e,n){if(void 0===e)throw new Error("Invalid node identifier");p();var r=w(e);return r?(r.data=n,f(r,"update")):(r=new o(e,n),f(r,"add")),t.set(e,r),m(),r}function w(e){return t.get(e)}function x(e){var n=w(e);if(!n)return!1;p();var r=n.links;return r&&(r.forEach(k),n.links=null),t.delete(e),f(n,"remove"),m(),!0}function S(e,t,r){p();var i=w(e)||_(e),o=w(t)||_(t),s=u(e,t,r),l=n.has(s.id);return n.set(s.id,s),a(i,s),e!==t&&a(o,s),h(s,l?"update":"add"),m(),s}function E(e,t,r){var i=l(e,t),o=n.get(i);return o?(o.data=r,o):new s(e,t,r,i)}function T(e,t,n){var r=l(e,t),o=i.hasOwnProperty(r);if(o||O(e,t)){o||(i[r]=0);var a="@"+ ++i[r];r=l(e+a,t+a)}return new s(e,t,n,r)}function M(){return t.size}function C(){return n.size}function A(e){var t=w(e);return t?t.links:null}function R(e,t){return void 0!==t&&(e=O(e,t)),k(e)}function k(e){if(!e)return!1;if(!n.get(e.id))return!1;p(),n.delete(e.id);var t=w(e.fromId),r=w(e.toId);return t&&t.links.delete(e),r&&r.links.delete(e),h(e,"remove"),m(),!0}function O(e,t){if(void 0!==e&&void 0!==t)return n.get(l(e,t))}function L(){p(),j((function(e){x(e.id)})),m()}function I(e){if("function"===typeof e){var t=n.values(),r=t.next();while(!r.done){if(e(r.value))return!0;r=t.next()}}}function P(e,t,n){var r=w(e);if(r&&r.links&&"function"===typeof t)return n?N(r.links,e,t):D(r.links,e,t)}function D(e,n,r){var i,o=e.values(),a=o.next();while(!a.done){var s=a.value,l=s.fromId===n?s.toId:s.fromId;if(i=r(t.get(l),s),i)return!0;a=o.next()}}function N(e,n,r){var i,o=e.values(),a=o.next();while(!a.done){var s=a.value;if(s.fromId===n&&(i=r(t.get(s.toId),s),i))return!0;a=o.next()}}function U(){}function F(){c+=1}function B(){c-=1,0===c&&d.length>0&&(g.fire("changed",d),d.length=0)}function j(e){if("function"!==typeof e)throw new Error("Function is expected to iterate over graph nodes. You passed "+e);var n=t.values(),r=n.next();while(!r.done){if(e(r.value))return!0;r=n.next()}}}function o(e,t){this.id=e,this.links=null,this.data=t}function a(e,t){e.links?e.links.add(t):e.links=new Set([t])}function s(e,t,n,r){this.fromId=e,this.toId=t,this.data=n,this.id=r}function l(e,t){return e.toString()+"👉 "+t.toString()}},3232:function(e){function t(e,n){var r;if(e||(e={}),n)for(r in n)if(n.hasOwnProperty(r)){var i=e.hasOwnProperty(r),o=typeof n[r],a=!i||typeof e[r]!==o;a?e[r]=n[r]:"object"===o&&(e[r]=t(e[r],n[r]))}return e}e.exports=t},1857:function(e){function t(e){var t="number"===typeof e?e:+new Date;return new n(t)}function n(e){this.seed=e}function r(){var e,t,n;do{t=2*this.nextDouble()-1,n=2*this.nextDouble()-1,e=t*t+n*n}while(e>=1||0===e);return t*Math.sqrt(-2*Math.log(e)/e)}function i(){var e=1.5,t=Math.pow(o(1+e)*Math.sin(Math.PI*e/2)/(o((1+e)/2)*e*Math.pow(2,(e-1)/2)),1/e);return this.gaussian()*t/Math.pow(Math.abs(this.gaussian()),1/e)}function o(e){return Math.sqrt(2*Math.PI/e)*Math.pow(1/Math.E*(e+1/(12*e-1/(10*e))),e)}function a(){var e=this.seed;return e=e+2127912214+(e<<12)&4294967295,e=4294967295&(3345072700^e^e>>>19),e=e+374761393+(e<<5)&4294967295,e=4294967295&(e+3550635116^e<<9),e=e+4251993797+(e<<3)&4294967295,e=4294967295&(3042594569^e^e>>>16),this.seed=e,(268435455&e)/268435456}function s(e){return Math.floor(this.nextDouble()*e)}function l(e,n){var r=n||t();if("function"!==typeof r.next)throw new Error("customRandom does not match expected API: next() function is missing");return{forEach:o,shuffle:i};function i(){var t,n,i;for(t=e.length-1;t>0;--t)n=r.next(t+1),i=e[n],e[n]=e[t],e[t]=i;return e}function o(t){var n,i,o;for(n=e.length-1;n>0;--n)i=r.next(n+1),o=e[i],e[i]=e[n],e[n]=o,t(o);e.length&&t(e[0])}}e.exports=t,e.exports.random=t,e.exports.randomIterator=l,n.prototype.next=s,n.prototype.nextDouble=a,n.prototype.uniform=a,n.prototype.gaussian=r,n.prototype.levy=i},3503:function(e,t,n){e.exports=n(892)},7237:function(e){"use strict";e.exports=class e{constructor(e,t=new Map,n=0){this.prefix=e,this._existing=t,this.counter=n}clone(){const{prefix:t,_existing:n,counter:r}=this;return new e(t,new Map(n),r)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const n=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,n),n}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},884:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(1439),n(7585),n(5315),n(890);const r=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!r||!r.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupported algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await r.subtle.digest(this.algorithm,e));let n="";for(let r=0;r<t.length;++r)n+=t[r].toString(16).padStart(2,"0");return n}}},2434:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(7658);const r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i=r+"langString",o="http://www.w3.org/2001/XMLSchema#string",a="NamedNode",s="BlankNode",l="Literal",c="DefaultGraph",u={};function d(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==l||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}(()=>{const e="(?:<([^:]+:[^>]*)>)",t="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�",n=t+"_",r=n+"0-9-·̀-ͯ‿-⁀",i="(_:(?:["+n+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",o=i,a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',s="(?:\\^\\^"+e+")",l="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",c="(?:"+a+"(?:"+s+"|"+l+")?)",d="[ \\t]+",h="[ \\t]*",f="(?:"+e+"|"+o+")"+d,p=e+d,m="(?:"+e+"|"+o+"|"+c+")"+h,g="(?:\\.|(?:(?:"+e+"|"+o+")"+h+"\\.))";u.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,u.empty=new RegExp("^"+h+"$"),u.quad=new RegExp("^"+h+f+p+m+g+h+"$")})(),e.exports=class e{static parse(e){const t=[],n={},r=e.split(u.eoln);let h=0;for(const f of r){if(h++,u.empty.test(f))continue;const e=f.match(u.quad);if(null===e)throw new Error("N-Quads parse error on line "+h+".");const r={subject:null,predicate:null,object:null,graph:null};if(void 0!==e[1]?r.subject={termType:a,value:e[1]}:r.subject={termType:s,value:e[2]},r.predicate={termType:a,value:e[3]},void 0!==e[4]?r.object={termType:a,value:e[4]}:void 0!==e[5]?r.object={termType:s,value:e[5]}:(r.object={termType:l,value:void 0,datatype:{termType:a}},void 0!==e[7]?r.object.datatype.value=e[7]:void 0!==e[8]?(r.object.datatype.value=i,r.object.language=e[8]):r.object.datatype.value=o,r.object.value=m(e[6])),void 0!==e[9]?r.graph={termType:a,value:e[9]}:void 0!==e[10]?r.graph={termType:s,value:e[10]}:r.graph={termType:c,value:""},r.graph.value in n){let e=!0;const i=n[r.graph.value];for(const t of i)if(d(t,r)){e=!1;break}e&&(i.push(r),t.push(r))}else n[r.graph.value]=[r],t.push(r)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const n=[];for(const r of t)n.push(e.serializeQuad(r));return n.sort().join("")}static serializeQuadComponents(e,t,n,r){let l="";return e.termType===a?l+=`<${e.value}>`:l+=`${e.value}`,l+=` <${t.value}> `,n.termType===a?l+=`<${n.value}>`:n.termType===s?l+=n.value:(l+=`"${f(n.value)}"`,n.datatype.value===i?n.language&&(l+=`@${n.language}`):n.datatype.value!==o&&(l+=`^^<${n.datatype.value}>`)),r.termType===a?l+=` <${r.value}>`:r.termType===s&&(l+=` ${r.value}`),l+=" .\n",l}static serializeQuad(t){return e.serializeQuadComponents(t.subject,t.predicate,t.object,t.graph)}static legacyDatasetToQuads(e){const t=[],n={"blank node":s,IRI:a,literal:l};for(const r in e){const u=e[r];u.forEach((e=>{const u={};for(const t in e){const r=e[t],s={termType:n[r.type],value:r.value};s.termType===l&&(s.datatype={termType:a},"datatype"in r&&(s.datatype.value=r.datatype),"language"in r?("datatype"in r||(s.datatype.value=i),s.language=r.language):"datatype"in r||(s.datatype.value=o)),u[t]=s}u.graph="@default"===r?{termType:c,value:""}:{termType:r.startsWith("_:")?s:a,value:r},t.push(u)}))}return t}};const h=/["\\\n\r]/g;function f(e){return e.replace(h,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}const p=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function m(e){return e.replace(p,(function(e,t,n,r){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(n)return String.fromCharCode(parseInt(n,16));if(r)throw new Error("Unsupported U escape")}))}},7449:function(e){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,n=e.slice();let r=null,i=0;const o=e.length;for(let a=0;a<o;++a){const n=e[a],s=t.get(n);(null===r||n>r)&&(s&&a>0&&n>e[a-1]||!s&&a<o-1&&n>e[a+1])&&(r=n,i=a)}if(null===r)this.done=!0;else{const n=t.get(r)?i-1:i+1;e[i]=e[n],e[n]=r;for(const i of e)i>r&&t.set(i,!t.get(i))}return n}}},8867:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(7658),n(4633);const r=n(7237),i=n(884),o=n(7449),a=n(2434);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=(()=>new i("sha256")),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}async main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];let i=0;for(const r of n)++i%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const o=[...t.keys()].sort(),l=[];for(const r of o){const e=t.get(r);if(e.length>1){l.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of l){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const i=await this.hashNDegreeQuads(t,n);e.push(i)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const c=[];for(const r of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId(r.subject),r.predicate,this._componentWithCanonicalId(r.object),this._componentWithCanonicalId(r.graph));c.push(e)}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const o of r){const n={subject:null,predicate:o.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,o.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const i=this.createMessageDigest();for(const o of t)i.update(o);return n.hash=await i.digest(),n.hash}async hashRelatedBlankNode(e,t,n,r){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=this.createMessageDigest();return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}async hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),i=await this.createHashToRelated(e,t),a=[...i.keys()].sort();for(const s of a){r.update(s);let e,n="";const a=new o(i.get(s));let l=0;while(a.hasNext()){const r=a.next();++l%3===0&&await this._yield();let i=t.clone(),o="";const s=[];let c=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?o+=this.canonicalIssuer.getId(e):(i.hasId(e)||s.push(e),o+=i.getId(e)),0!==n.length&&o>n){c=!0;break}if(!c){for(const e of s){const t=await this.hashNDegreeQuads(e,i);if(o+=i.getId(e),o+=`<${t.hash}>`,i=t.issuer,0!==n.length&&o>n){c=!0;break}}c||(0===n.length||o<n)&&(n=o,e=i)}}r.update(n),t=e}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r)++i%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:n})]);return n}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=await this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=await this.hashRelatedBlankNode(a,e,i,n),l=o.get(s);l?l.push(a):o.set(s,[a])}_componentWithCanonicalId(e){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise((e=>setImmediate(e)))}}},1827:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(7658);const r=n(7237),i=n(884),o=n(7449),a=n(2434);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor({createMessageDigest:e=(()=>new i("sha256")),canonicalIdMap:t=new Map,maxDeepIterations:n=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new r("_:c14n",t),this.createMessageDigest=e,this.maxDeepIterations=n,this.quads=null,this.deepIterations=null}main(e){this.deepIterations=new Map,this.quads=e;for(const r of e)this._addBlankNodeQuadInfo({quad:r,component:r.subject}),this._addBlankNodeQuadInfo({quad:r,component:r.object}),this._addBlankNodeQuadInfo({quad:r,component:r.graph});const t=new Map,n=[...this.blankNodeInfo.keys()];for(const r of n)this._hashAndTrackBlankNode({id:r,hashToBlankNodes:t});const i=[...t.keys()].sort(),o=[];for(const r of i){const e=t.get(r);if(e.length>1){o.push(e);continue}const n=e[0];this.canonicalIssuer.getId(n)}for(const a of o){const e=[];for(const t of a){if(this.canonicalIssuer.hasId(t))continue;const n=new r("_:b");n.getId(t);const i=this.hashNDegreeQuads(t,n);e.push(i)}e.sort(s);for(const t of e){const e=t.issuer.getOldIds();for(const t of e)this.canonicalIssuer.getId(t)}}const l=[];for(const r of this.quads){const e=a.serializeQuadComponents(this._componentWithCanonicalId({component:r.subject}),r.predicate,this._componentWithCanonicalId({component:r.object}),this._componentWithCanonicalId({component:r.graph}));l.push(e)}return l.sort(),l.join("")}hashFirstDegreeQuads(e){const t=[],n=this.blankNodeInfo.get(e),r=n.quads;for(const o of r){const n={subject:null,predicate:o.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,o.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,o.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,o.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();const i=this.createMessageDigest();for(const o of t)i.update(o);return n.hash=i.digest(),n.hash}hashRelatedBlankNode(e,t,n,r){let i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):n.hasId(e)?n.getId(e):this.blankNodeInfo.get(e).hash;const o=this.createMessageDigest();return o.update(r),"g"!==r&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}hashNDegreeQuads(e,t){const n=this.deepIterations.get(e)||0;if(n>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(e,n+1);const r=this.createMessageDigest(),i=this.createHashToRelated(e,t),a=[...i.keys()].sort();for(const s of a){r.update(s);let e,n="";const a=new o(i.get(s));while(a.hasNext()){const r=a.next();let i=t.clone(),o="";const s=[];let l=!1;for(const e of r)if(this.canonicalIssuer.hasId(e)?o+=this.canonicalIssuer.getId(e):(i.hasId(e)||s.push(e),o+=i.getId(e)),0!==n.length&&o>n){l=!0;break}if(!l){for(const e of s){const t=this.hashNDegreeQuads(e,i);if(o+=i.getId(e),o+=`<${t.hash}>`,i=t.issuer,0!==n.length&&o>n){l=!0;break}}l||(0===n.length||o<n)&&(n=o,e=i)}}r.update(n),t=e}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:n});return n}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const n=this.hashFirstDegreeQuads(e),r=t.get(n);r?r.push(e):t.set(n,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const n=t.value,r=this.blankNodeInfo.get(n);r?r.quads.add(e):this.blankNodeInfo.set(n,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:n,id:r,issuer:i,hashToRelated:o}){if("BlankNode"!==t.termType||t.value===r)return;const a=t.value,s=this.hashRelatedBlankNode(a,e,i,n),l=o.get(s);l?l.push(a):o.set(s,[a])}_componentWithCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},3826:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */n(7658);const r=n(884),i=n(8867);e.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;let i=0;for(const o of r){let r,a;if("BlankNode"===o.subject.termType&&o.subject.value!==e)a=o.subject.value,r="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;a=o.object.value,r="r"}++i%100===0&&await this._yield();const s=await this.hashRelatedBlankNode(a,o,t,r),l=n.get(s);l?l.push(a):n.set(s,[a])}return n}}},9389:function(e,t,n){"use strict";
/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */n(7658);const r=n(884),i=n(1827);e.exports=class extends i{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new r("sha1")}modifyFirstDegreeComponent(e,t,n){return"BlankNode"!==t.termType?t:"graph"===n?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const n=new Map,r=this.blankNodeInfo.get(e).quads;for(const i of r){let r,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,r="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,r="r"}const a=this.hashRelatedBlankNode(o,i,t,r),s=n.get(a);s?s.push(o):n.set(a,[o])}return n}}},892:function(e,t,n){"use strict";const r=n(8867),i=n(3826),o=n(1827),a=n(9389);let s;try{s=n(7670)}catch(c){}function l(e){return Array.isArray(e)?e:t.NQuads.legacyDatasetToQuads(e)}t.NQuads=n(2434),t.IdentifierIssuer=n(7237),t._rdfCanonizeNative=function(e){return e&&(s=e),s},t.canonize=async function(e,t){const n=l(e,t);if(t.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise(((e,r)=>s.canonize(n,t,((t,n)=>t?r(t):e(n)))))}if("URDNA2015"===t.algorithm)return new r(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new i(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},t._canonizeSync=function(e,t){const n=l(e,t);if(t.useNative){if(!s)throw new Error("rdf-canonize-native not available");if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return s.canonizeSync(n,t)}if("URDNA2015"===t.algorithm)return new o(t).main(n);if("URGNA2012"===t.algorithm){if(t.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new a(t).main(n)}if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},5431:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r,i=function(){return Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))};function o(e,t){void 0===t&&(t={});var n=t.registrationOptions;void 0===n&&(n={}),delete t.registrationOptions;var o=function(e){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];t&&t[e]&&t[e].apply(t,n)};"serviceWorker"in navigator&&r.then((function(){i()?(l(e,o,n),navigator.serviceWorker.ready.then((function(e){o("ready",e)})).catch((function(e){return a(o,e)}))):(s(e,o,n),navigator.serviceWorker.ready.then((function(e){o("ready",e)})).catch((function(e){return a(o,e)})))}))}function a(e,t){navigator.onLine||e("offline"),e("error",t)}function s(e,t,n){navigator.serviceWorker.register(e,n).then((function(e){t("registered",e),e.waiting?t("updated",e):e.onupdatefound=function(){t("updatefound",e);var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?t("updated",e):t("cached",e))}}})).catch((function(e){return a(t,e)}))}function l(e,t,n){fetch(e).then((function(r){404===r.status?(t("error",new Error("Service worker not found at "+e)),c()):-1===r.headers.get("content-type").indexOf("javascript")?(t("error",new Error("Expected "+e+" to have javascript content-type, but received "+r.headers.get("content-type"))),c()):s(e,t,n)})).catch((function(e){return a(t,e)}))}function c(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){return a(emit,e)}))}"undefined"!==typeof window&&(r="undefined"!==typeof Promise?new Promise((function(e){return window.addEventListener("load",e)})):{then:function(e){return window.addEventListener("load",e)}})},890:function(e,t,n){n(4633),function(e,t){"use strict";if(!e.setImmediate){var n,r=1,i={},o=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?h():f()?p():e.MessageChannel?m():a&&"onreadystatechange"in a.createElement("script")?g():v(),s.setImmediate=l,s.clearImmediate=c}function l(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var a={callback:e,args:t};return i[r]=a,n(r),r++}function c(e){delete i[e]}function u(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r);break}}function d(e){if(o)setTimeout(d,0,e);else{var t=i[e];if(t){o=!0;try{u(t)}finally{c(e),o=!1}}}}function h(){n=function(e){process.nextTick((function(){d(e)}))}}function f(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function p(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&d(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(n){e.postMessage(t+n,"*")}}function m(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;d(t)},n=function(t){e.port2.postMessage(t)}}function g(){var e=a.documentElement;n=function(t){var n=a.createElement("script");n.onreadystatechange=function(){d(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function v(){n=function(e){setTimeout(d,0,e)}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},4743:function(e,t,n){n(7658),n(1439),n(7585),n(5315),function(t){e.exports=t()}((function(){var e=Math.floor,t=Math.abs,r=Math.pow;return function(){function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l=void 0;if(!s&&l)return require(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return i(n||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}return e}()({1:[function(e,t,n){"use strict";function r(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function i(e,t,n){return 3*(t+n)/4-n}function o(e){var t,n,o=r(e),a=o[0],s=o[1],l=new d(i(e,a,s)),c=0,h=0<s?a-4:a;for(n=0;n<h;n+=4)t=u[e.charCodeAt(n)]<<18|u[e.charCodeAt(n+1)]<<12|u[e.charCodeAt(n+2)]<<6|u[e.charCodeAt(n+3)],l[c++]=255&t>>16,l[c++]=255&t>>8,l[c++]=255&t;return 2===s&&(t=u[e.charCodeAt(n)]<<2|u[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===s&&(t=u[e.charCodeAt(n)]<<10|u[e.charCodeAt(n+1)]<<4|u[e.charCodeAt(n+2)]>>2,l[c++]=255&t>>8,l[c++]=255&t),l}function a(e){return c[63&e>>18]+c[63&e>>12]+c[63&e>>6]+c[63&e]}function s(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(16711680&e[o]<<16)+(65280&e[o+1]<<8)+(255&e[o+2]),i.push(a(r));return i.join("")}function l(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,l=n-r;a<l;a+=o)i.push(s(e,a,a+o>l?l:a+o));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[63&t<<4]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[63&t>>4]+c[63&t<<2]+"=")),i.join("")}n.byteLength=function(e){var t=r(e),n=t[0],i=t[1];return 3*(n+i)/4-i},n.toByteArray=o,n.fromByteArray=l;for(var c=[],u=[],d="undefined"==typeof Uint8Array?Array:Uint8Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,p=h.length;f<p;++f)c[f]=h[f],u[h.charCodeAt(f)]=f;u[45]=62,u[95]=63},{}],2:[function(){},{}],3:[function(e,t,n){(function(){(function(){
/*!
          * The buffer module from node.js, for the browser.
          *
          * @author   Feross Aboukhadijeh <https://feross.org>
          * @license  MIT
          */
"use strict";var t=String.fromCharCode,i=Math.min;function o(e){if(2147483647<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=a.prototype,t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return d(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=p(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(0>e)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e,t,n){return l(e),0>=e||void 0===t?o(e):"string"==typeof n?o(e).fill(t,n):o(e).fill(t)}function u(e){return l(e),o(0>e?0:0|m(e))}function d(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|g(e,t),r=o(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function h(e){for(var t=0>e.length?0:0|m(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(0>t||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=a.prototype,r}function p(e){if(a.isBuffer(e)){var t=0|m(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0===e.length?"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0:"number"!=typeof e.length||q(e.length)?o(0):h(e)}function m(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function g(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=2<arguments.length&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function v(e,t,n){var r=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),0>=n)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:-2147483648>n&&(n=-2147483648),n=+n,q(n)&&(n=i?0:e.length-1),0>n&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(0>n){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,l=e.length,c=t.length;if(void 0!==r&&(r=(r+"").toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(2>e.length||2>t.length)return-1;s=2,l/=2,c/=2,n/=2}if(i){var u=-1;for(a=n;a<l;a++)if(o(e,a)!==o(t,-1===u?0:a-u))-1!==u&&(a-=a-u),u=-1;else if(-1===u&&(u=a),a-u+1===c)return u*s}else for(n+c>l&&(n=l-c),a=n;0<=a;a--){for(var d=!0,h=0;h<c;h++)if(o(e,a+h)!==o(t,h)){d=!1;break}if(d)return a}return-1}function w(e,t,n,r){n=+n||0;var i=e.length-n;r?(r=+r,r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a,s=0;s<r;++s){if(a=parseInt(t.substr(2*s,2),16),q(a))return s;e[n+s]=a}return s}function x(e,t,n,r){return G(V(t,e.length-n),e,n,r)}function S(e,t,n,r){return G(z(t),e,n,r)}function E(e,t,n,r){return S(e,t,n,r)}function T(e,t,n,r){return G(W(t),e,n,r)}function M(e,t,n,r){return G(H(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,n))}function A(e,t,n){n=i(e.length,n);for(var r=[],o=t;o<n;){var a,s,l,c,u=e[o],d=null,h=239<u?4:223<u?3:191<u?2:1;if(o+h<=n)1===h?128>u&&(d=u):2===h?(a=e[o+1],128==(192&a)&&(c=(31&u)<<6|63&a,127<c&&(d=c))):3===h?(a=e[o+1],s=e[o+2],128==(192&a)&&128==(192&s)&&(c=(15&u)<<12|(63&a)<<6|63&s,2047<c&&(55296>c||57343<c)&&(d=c))):4===h&&(a=e[o+1],s=e[o+2],l=e[o+3],128==(192&a)&&128==(192&s)&&128==(192&l)&&(c=(15&u)<<18|(63&a)<<12|(63&s)<<6|63&l,65535<c&&1114112>c&&(d=c)));null===d?(d=65533,h=1):65535<d&&(d-=65536,r.push(55296|1023&d>>>10),d=56320|1023&d),r.push(d),o+=h}return R(r)}function R(e){var n=e.length;if(n<=4096)return t.apply(String,e);for(var r="",i=0;i<n;)r+=t.apply(String,e.slice(i,i+=4096));return r}function k(e,n,r){var o="";r=i(e.length,r);for(var a=n;a<r;++a)o+=t(127&e[a]);return o}function O(e,n,r){var o="";r=i(e.length,r);for(var a=n;a<r;++a)o+=t(e[a]);return o}function L(e,t,n){var r=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=j(e[o]);return i}function I(e,n,r){for(var i=e.slice(n,r),o="",a=0;a<i.length;a+=2)o+=t(i[a]+256*i[a+1]);return o}function P(e,t,n){if(0!=e%1||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(0>n)throw new RangeError("Index out of range")}function U(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,t,n,4,34028234663852886e22,-34028234663852886e22),Y.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,i){return t=+t,n>>>=0,i||N(e,t,n,8,17976931348623157e292,-17976931348623157e292),Y.write(e,t,n,r,52,8),n+8}function B(e){if(e=e.split("=")[0],e=e.trim().replace(J,""),2>e.length)return"";for(;0!=e.length%4;)e+="=";return e}function j(e){return 16>e?"0"+e.toString(16):e.toString(16)}function V(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],a=0;a<r;++a){if(n=e.charCodeAt(a),55295<n&&57344>n){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(56320>n){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,128>n){if(0>(t-=1))break;o.push(n)}else if(2048>n){if(0>(t-=2))break;o.push(192|n>>6,128|63&n)}else if(65536>n){if(0>(t-=3))break;o.push(224|n>>12,128|63&n>>6,128|63&n)}else{if(!(1114112>n))throw new Error("Invalid code point");if(0>(t-=4))break;o.push(240|n>>18,128|63&n>>12,128|63&n>>6,128|63&n)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!(0>(t-=2));++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return X.toByteArray(B(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!==e}var X=e("base64-js"),Y=e("ieee754");n.Buffer=a,n.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},n.INSPECT_MAX_BYTES=50,n.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){return a.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){return a.isBuffer(this)?this.byteOffset:void 0}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,n){return s(e,t,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,n){return c(e,t,n)},a.allocUnsafe=function(e){return u(e)},a.allocUnsafeSlow=function(e){return u(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if($(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=i(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch((e+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if($(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(0!=e%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(0!=e%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(0!=e%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},a.prototype.compare=function(e,t,n,r,o){if($(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),0>t||n>e.length||0>r||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var s=o-r,l=n-t,c=i(s,l),u=this.slice(r,o),d=e.slice(t,n),h=0;h<c;++h)if(u[h]!==d[h]){s=u[h],l=d[h];break}return s<l?-1:l<s?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),0<e.length&&(0>n||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return T(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var i=this[e],o=1,a=0;++a<t&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=r(2,8*t)),i},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var i=t,o=1,a=this[e+--i];0<i&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=r(2,8*t)),a},a.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),Y.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),Y.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),Y.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),Y.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){var o=r(2,8*n)-1;D(this,e,t,n,o,0)}var a=1,s=0;for(this[t]=255&e;++s<n&&(a*=256);)this[t+s]=255&e/a;return t+n},a.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t>>>=0,n>>>=0,!i){var o=r(2,8*n)-1;D(this,e,t,n,o,0)}var a=n-1,s=1;for(this[t+a]=255&e;0<=--a&&(s*=256);)this[t+a]=255&e/s;return t+n},a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var o=r(2,8*n-1);D(this,e,t,n,o-1,-o)}var a=0,s=1,l=0;for(this[t]=255&e;++a<n&&(s*=256);)0>e&&0===l&&0!==this[t+a-1]&&(l=1),this[t+a]=255&(e/s>>0)-l;return t+n},a.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t>>>=0,!i){var o=r(2,8*n-1);D(this,e,t,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[t+a]=255&e;0<=--a&&(s*=256);)0>e&&0===l&&0!==this[t+a+1]&&(l=1),this[t+a]=255&(e/s>>0)-l;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),0>e&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("Index out of range");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var o=i-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&128>i||"latin1"===r)&&(e=i)}}else"number"==typeof e&&(e&=255);if(0>t||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%l]}return this};var J=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(e,t,n){(function(r){(function(){function i(){let e;try{e=n.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof r&&"env"in r&&(e=r.env.DEBUG),e}n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"===e||(r++,"%c"===e&&(i=r))})),e.splice(i,0,n)},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=i,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),t.exports=e("./common")(n);const{formatters:o}=t.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this)}).call(this,e("_process"))},{"./common":5,_process:12}],5:[function(e,n){n.exports=function(n){function r(e){function t(...e){if(!t.enabled)return;const i=t,o=+new Date,a=o-(n||o);i.diff=a,i.prev=n,i.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if("%%"===t)return"%";s++;const o=r.formatters[n];if("function"==typeof o){const n=e[s];t=o.call(i,n),e.splice(s,1),s--}return t})),r.formatArgs.call(i,e);const l=i.log||r.log;l.apply(i,e)}let n,o=null;return t.namespace=e,t.useColors=r.useColors(),t.color=r.selectColor(e),t.extend=i,t.destroy=r.destroy,Object.defineProperty(t,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?r.enabled(e):o,set:e=>{o=e}}),"function"==typeof r.init&&r.init(t),t}function i(e,t){const n=r(this.namespace+("undefined"==typeof t?":":t)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){const e=[...r.names.map(o),...r.skips.map(o).map((e=>"-"+e))].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&(e=n[t].replace(/\*/g,".*?"),"-"===e[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach((e=>{r[e]=n[e]})),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[t(n)%r.colors.length]},r.enable(r.load()),r}},{ms:11}],6:[function(e,t){"use strict";function n(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}t.exports=function(e,t,r){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"==typeof t&&(r=t,t=""),t&&(r.code=t);try{return n(e,r)}catch(t){r.message=e.message,r.stack=e.stack;const i=function(){};i.prototype=Object.create(Object.getPrototypeOf(e));const o=n(new i,r);return o}}},{}],7:[function(e,t){"use strict";function n(e){console&&console.warn&&console.warn(e)}function r(){r.init.call(this)}function i(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function o(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function a(e,t,r,a){var s,l,c;if(i(r),l=e._events,void 0===l?(l=e._events=Object.create(null),e._eventsCount=0):(void 0!==l.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),l=e._events),c=l[t]),void 0===c)c=l[t]=r,++e._eventsCount;else if("function"==typeof c?c=l[t]=a?[r,c]:[c,r]:a?c.unshift(r):c.push(r),s=o(e),0<s&&c.length>s&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+t+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=c.length,n(u)}return e}function s(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=s.bind(r);return i.listener=n,r.wrapFn=i,i}function c(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?f(i):d(i,i.length)}function u(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function h(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function f(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function p(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}var g,v="object"==typeof Reflect?Reflect:null,y=v&&"function"==typeof v.apply?v.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=v&&"function"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!==e};t.exports=r,t.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&p(e,i,{once:!0})}))},r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var _=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),r.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!=typeof e||0>e||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return o(this)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(0<t.length&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)y(s,this,t);else{var l=s.length,c=d(s,l);for(n=0;n<l;++n)y(c[n],this,t)}return!0},r.prototype.addListener=function(e,t){return a(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return a(this,e,t,!0)},r.prototype.once=function(e,t){return i(t),this.on(e,l(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){return i(t),this.prependListener(e,l(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,r,o,a,s;if(i(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,a=n.length-1;0<=a;a--)if(n[a]===t||n[a].listener===t){s=n[a].listener,o=a;break}if(0>o)return this;0===o?n.shift():h(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"==typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;0<=r;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return c(this,e,!0)},r.prototype.rawListeners=function(e){return c(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):u.call(e,t)},r.prototype.listenerCount=u,r.prototype.eventNames=function(){return 0<this._eventsCount?g(this._events):[]}},{}],8:[function(e,t){t.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},{}],9:[function(n,i,o){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */o.read=function(e,t,n,i,o){var a,s,l=8*o-i-1,c=(1<<l)-1,u=c>>1,d=-7,h=n?o-1:0,f=n?-1:1,p=e[t+h];for(h+=f,a=p&(1<<-d)-1,p>>=-d,d+=l;0<d;a=256*a+e[t+h],h+=f,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=i;0<d;s=256*s+e[t+h],h+=f,d-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(p?-1:1);s+=r(2,i),a-=u}return(p?-1:1)*s*r(2,a-i)},o.write=function(n,i,o,a,s,l){var c,u,d,h=Math.LN2,f=Math.log,p=8*l-s-1,m=(1<<p)-1,g=m>>1,v=23===s?r(2,-24)-r(2,-77):0,y=a?0:l-1,b=a?1:-1,_=0>i||0===i&&0>1/i?1:0;for(i=t(i),isNaN(i)||i===1/0?(u=isNaN(i)?1:0,c=m):(c=e(f(i)/h),1>i*(d=r(2,-c))&&(c--,d*=2),i+=1<=c+g?v/d:v*r(2,1-g),2<=i*d&&(c++,d/=2),c+g>=m?(u=0,c=m):1<=c+g?(u=(i*d-1)*r(2,s),c+=g):(u=i*r(2,g-1)*r(2,s),c=0));8<=s;n[o+y]=255&u,y+=b,u/=256,s-=8);for(c=c<<s|u,p+=s;0<p;n[o+y]=255&c,y+=b,c/=256,p-=8);n[o+y-b]|=128*_}},{}],10:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},{}],11:[function(e,n){var r=Math.round;function i(e){if(e+="",!(100<e.length)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();return"years"===r||"year"===r||"yrs"===r||"yr"===r||"y"===r?315576e5*n:"weeks"===r||"week"===r||"w"===r?6048e5*n:"days"===r||"day"===r||"d"===r?864e5*n:"hours"===r||"hour"===r||"hrs"===r||"hr"===r||"h"===r?36e5*n:"minutes"===r||"minute"===r||"mins"===r||"min"===r||"m"===r?6e4*n:"seconds"===r||"second"===r||"secs"===r||"sec"===r||"s"===r?1e3*n:"milliseconds"===r||"millisecond"===r||"msecs"===r||"msec"===r||"ms"===r?n:void 0}}}function o(e){var n=t(e);return 864e5<=n?r(e/864e5)+"d":36e5<=n?r(e/36e5)+"h":6e4<=n?r(e/6e4)+"m":1e3<=n?r(e/1e3)+"s":e+"ms"}function a(e){var n=t(e);return 864e5<=n?s(e,n,864e5,"day"):36e5<=n?s(e,n,36e5,"hour"):6e4<=n?s(e,n,6e4,"minute"):1e3<=n?s(e,n,1e3,"second"):e+" ms"}function s(e,t,n,i){return r(e/n)+" "+i+(t>=1.5*n?"s":"")}n.exports=function(e,t){t=t||{};var n=typeof e;if("string"==n&&0<e.length)return i(e);if("number"===n&&isFinite(e))return t.long?a(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],12:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(n){try{return u.call(null,e,0)}catch(n){return u.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(n){try{return d.call(null,e)}catch(n){return d.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++g<t;)f&&f[g].run();g=-1,t=p.length}f=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=t.exports={};(function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}})();var f,p=[],m=!1,g=-1;h.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],13:[function(e,t){(function(e){(function(){
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let n;t.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"==typeof window?e:window):e=>(n||(n=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],14:[function(e,t){(function(n,r){(function(){"use strict";var i=e("safe-buffer").Buffer,o=r.crypto||r.msCrypto;t.exports=o&&o.getRandomValues?function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(0<e)if(65536<e)for(var a=0;a<e;a+=65536)o.getRandomValues(r.slice(a,a+65536));else o.getRandomValues(r);return"function"==typeof t?n.nextTick((function(){t(null,r)})):r}:function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{_process:12,"safe-buffer":30}],15:[function(e,t){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e,t,r){function i(e,n,r){return"string"==typeof t?t:t(e,n,r)}r||(r=Error);var o=function(e){function t(t,n,r){return e.call(this,i(t,n,r))||this}return n(t,e),t}(r);o.prototype.name=r.name,o.prototype.code=e,l[e]=o}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return e+""})),2<n?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(e+"")}function o(e,t,n){return e.substr(!n||0>n?0:+n,t.length)===t}function a(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function s(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}var l={};r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,l;if("string"==typeof t&&o(t,"not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be",a(e," argument"))l="The ".concat(e," ").concat(r," ").concat(i(t,"type"));else{var c=s(e,".")?"property":"argument";l='The "'.concat(e,'" ').concat(c," ").concat(r," ").concat(i(t,"type"))}return l+=". Received type ".concat(typeof n),l}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=l},{}],16:[function(e,t){(function(n){(function(){"use strict";function r(e){return this instanceof r?(s.call(this,e),l.call(this,e),this.allowHalfOpen=!0,void(e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",i))))):new r(e)}function i(){this._writableState.ended||n.nextTick(o,this)}function o(e){e.end()}var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var s=e("./_stream_readable"),l=e("./_stream_writable");e("inherits")(r,s);for(var c,u=a(l.prototype),d=0;d<u.length;d++)c=u[d],r.prototype[c]||(r.prototype[c]=l.prototype[c]);Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(r.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(r.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(e,t){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform");e("inherits")(n,r),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":19,inherits:10}],18:[function(e,t){(function(n,r){(function(){"use strict";function i(e){return I.from(e)}function o(e){return I.isBuffer(e)||e instanceof P}function a(e,t,n){return"function"==typeof e.prependListener?e.prependListener(t,n):void(e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n))}function s(t,n,r){R=R||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof R),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=z(this,t,"readableHighWaterMark",r),this.buffer=new B,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(!N&&(N=e("string_decoder/").StringDecoder),this.decoder=new N(t.encoding),this.encoding=t.encoding)}function l(t){if(R=R||e("./_stream_duplex"),!(this instanceof l))return new l(t);var n=this instanceof R;this._readableState=new s(t,this,n),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),L.call(this)}function c(e,t,n,r,o){k("readableAddChunk",t);var a,s=e._readableState;if(null===t)s.reading=!1,p(e,s);else if(o||(a=d(s,t)),a)X(e,a);else if(s.objectMode||t&&0<t.length)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===I.prototype||(t=i(t)),r)s.endEmitted?X(e,new q):u(e,s,t,!0);else if(s.ended)X(e,new G);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?u(e,s,t,!1):v(e,s)):u(e,s,t,!1)}else r||(s.reading=!1,v(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function u(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&m(e)),v(e,t)}function d(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new W("chunk",["string","Buffer","Uint8Array"],t)),n}function h(e){return 1073741824<=e?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function f(e,t){return 0>=e||0===t.length&&t.ended?0:t.objectMode?1:e===e?(e>t.highWaterMark&&(t.highWaterMark=h(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}function p(e,t){if(k("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?m(e):(t.needReadable=!1,!t.emittedReadable&&(t.emittedReadable=!0,g(e)))}}function m(e){var t=e._readableState;k("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(k("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(g,e))}function g(e){var t=e._readableState;k("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,E(e)}function v(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(y,e,t))}function y(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(k("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function b(e){return function(){var t=e._readableState;k("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&O(e,"data")&&(t.flowing=!0,E(e))}}function _(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function w(e){k("readable nexttick read 0"),e.read(0)}function x(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(S,e,t))}function S(e,t){k("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(k("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function M(e){var t=e._readableState;k("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(C,t,e))}function C(e,t){if(k("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function A(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var R;t.exports=l,l.ReadableState=s;e("events").EventEmitter;var k,O=function(e,t){return e.listeners(t).length},L=e("./internal/streams/stream"),I=e("buffer").Buffer,P=r.Uint8Array||function(){},D=e("util");k=D&&D.debuglog?D.debuglog("stream"):function(){};var N,U,F,B=e("./internal/streams/buffer_list"),j=e("./internal/streams/destroy"),V=e("./internal/streams/state"),z=V.getHighWaterMark,H=e("../errors").codes,W=H.ERR_INVALID_ARG_TYPE,G=H.ERR_STREAM_PUSH_AFTER_EOF,$=H.ERR_METHOD_NOT_IMPLEMENTED,q=H.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(l,L);var X=j.errorOrDestroy,Y=["error","close","destroy","pause","resume"];Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),l.prototype.destroy=j.destroy,l.prototype._undestroy=j.undestroy,l.prototype._destroy=function(e,t){t(e)},l.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=I.from(e,t),t=""),n=!0),c(this,e,t,!1,n)},l.prototype.unshift=function(e){return c(this,e,null,!0,!1)},l.prototype.isPaused=function(){return!1===this._readableState.flowing},l.prototype.setEncoding=function(t){N||(N=e("string_decoder/").StringDecoder);var n=new N(t);this._readableState.decoder=n,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=n.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this},l.prototype.read=function(e){k("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0===t.highWaterMark?0<t.length:t.length>=t.highWaterMark)||t.ended))return k("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?M(this):m(this),null;if(e=f(e,t),0===e&&t.ended)return 0===t.length&&M(this),null;var r,i=t.needReadable;return k("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,k("length less than watermark",i)),t.ended||t.reading?(i=!1,k("reading or ended",i)):i&&(k("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,!t.reading&&(e=f(n,t))),r=0<e?T(e,t):null,null===r?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(!t.ended&&(t.needReadable=!0),n!==e&&t.ended&&M(this)),null!==r&&this.emit("data",r),r},l.prototype._read=function(){X(this,new $("_read()"))},l.prototype.pipe=function(e,t){function r(e,t){k("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){k("onend"),e.end()}function o(){k("cleanup"),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("drain",g),e.removeListener("error",l),e.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",d),h.removeListener("data",s),v=!0,f.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&g()}function s(t){k("ondata");var n=e.write(t);k("dest.write",n),!1===n&&((1===f.pipesCount&&f.pipes===e||1<f.pipesCount&&-1!==A(f.pipes,e))&&!v&&(k("false write response, pause",f.awaitDrain),f.awaitDrain++),h.pause())}function l(t){k("onerror",t),d(),e.removeListener("error",l),0===O(e,"error")&&X(e,t)}function c(){e.removeListener("finish",u),d()}function u(){k("onfinish"),e.removeListener("close",c),d()}function d(){k("unpipe"),h.unpipe(e)}var h=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,k("pipe count=%d opts=%j",f.pipesCount,t);var p=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr,m=p?i:d;f.endEmitted?n.nextTick(m):h.once("end",m),e.on("unpipe",r);var g=b(h);e.on("drain",g);var v=!1;return h.on("data",s),a(e,"error",l),e.once("close",c),e.once("finish",u),e.emit("pipe",h),f.flowing||(k("pipe resume"),h.resume()),e},l.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=A(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},l.prototype.on=function(e,t){var r=L.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=0<this.listenerCount("readable"),!1!==i.flowing&&this.resume()):"readable"==e&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,k("on readable",i.length,i.reading),i.length?m(this):!i.reading&&n.nextTick(w,this)),r},l.prototype.addListener=l.prototype.on,l.prototype.removeListener=function(e,t){var r=L.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(_,this),r},l.prototype.removeAllListeners=function(e){var t=L.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick(_,this),t},l.prototype.resume=function(){var e=this._readableState;return e.flowing||(k("resume"),e.flowing=!e.readableListening,x(this,e)),e.paused=!1,this},l.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},l.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(k("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){if(k("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){var o=t.push(i);o||(r=!0,e.pause())}})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Y.length;o++)e.on(Y[o],this.emit.bind(this,Y[o]));return this._read=function(t){k("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(l.prototype[Symbol.asyncIterator]=function(){return void 0===U&&(U=e("./internal/streams/async_iterator")),U(this)}),Object.defineProperty(l.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(l.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(l.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),l._fromList=T,Object.defineProperty(l.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(l.from=function(t,n){return void 0===F&&(F=e("./internal/streams/from")),F(l,t,n)})}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(e,t){"use strict";function n(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new l);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function r(e){return this instanceof r?(d.call(this,e),this._transformState={afterTransform:n.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),void this.on("prefinish",i)):new r(e)}function i(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?o(this,null,null):this._flush((function(t,n){o(e,t,n)}))}function o(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new u;if(e._transformState.transforming)throw new c;return e.push(null)}t.exports=r;var a=e("../errors").codes,s=a.ERR_METHOD_NOT_IMPLEMENTED,l=a.ERR_MULTIPLE_CALLBACK,c=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=a.ERR_TRANSFORM_WITH_LENGTH_0,d=e("./_stream_duplex");e("inherits")(r,d),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,d.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){n(new s("_transform()"))},r.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},r.prototype._read=function(){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},r.prototype._destroy=function(e,t){d.prototype._destroy.call(this,e,(function(e){t(e)}))}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(e,t){(function(n,r){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){M(t,e)}}function o(e){return O.from(e)}function a(e){return O.isBuffer(e)||e instanceof L}function s(){}function l(t,n,r){C=C||e("./_stream_duplex"),t=t||{},"boolean"!=typeof r&&(r=n instanceof C),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=D(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===t.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){v(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function c(t){C=C||e("./_stream_duplex");var n=this instanceof C;return n||A.call(c,this)?(this._writableState=new l(t,this,n),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),void k.call(this)):new c(t)}function u(e,t){var r=new H;G(e,r),n.nextTick(t,r)}function d(e,t,r,i){var o;return null===r?o=new z:"string"!=typeof r&&!t.objectMode&&(o=new U("chunk",["string","Buffer"],r)),!o||(G(e,o),n.nextTick(i,o),!1)}function h(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=O.from(t,n)),t}function f(e,t,n,r,i,o){if(!n){var a=h(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p(e,t,!1,s,r,i,o);return l}function p(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new V("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function m(e,t,r,i,o){--t.pendingcb,r?(n.nextTick(o,i),n.nextTick(E,e,t),e._writableState.errorEmitted=!0,G(e,i)):(o(i),e._writableState.errorEmitted=!0,G(e,i),E(e,t))}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function v(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new B;if(g(r),t)m(e,r,i,t,o);else{var a=w(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),i?n.nextTick(y,e,r,a,o):y(e,r,a,o)}}function y(e,t,n,r){n||b(e,t),t.pendingcb--,r(),E(e,t)}function b(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function _(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,p(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback,h=t.objectMode?1:c.length;if(p(e,t,!1,h,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(n){t.pendingcb--,n&&G(e,n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function S(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(x,e,t)))}function E(e,t){var n=w(t);if(n&&(S(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function T(e,t,r){t.ending=!0,E(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function M(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}var C;t.exports=c,c.WritableState=l;var A,R={deprecate:e("util-deprecate")},k=e("./internal/streams/stream"),O=e("buffer").Buffer,L=r.Uint8Array||function(){},I=e("./internal/streams/destroy"),P=e("./internal/streams/state"),D=P.getHighWaterMark,N=e("../errors").codes,U=N.ERR_INVALID_ARG_TYPE,F=N.ERR_METHOD_NOT_IMPLEMENTED,B=N.ERR_MULTIPLE_CALLBACK,j=N.ERR_STREAM_CANNOT_PIPE,V=N.ERR_STREAM_DESTROYED,z=N.ERR_STREAM_NULL_VALUES,H=N.ERR_STREAM_WRITE_AFTER_END,W=N.ERR_UNKNOWN_ENCODING,G=I.errorOrDestroy;e("inherits")(c,k),l.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(l.prototype,"buffer",{get:R.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(c,Symbol.hasInstance,{value:function(e){return!!A.call(this,e)||!(this!==c)&&e&&e._writableState instanceof l}})):A=function(e){return e instanceof this},c.prototype.pipe=function(){G(this,new j)},c.prototype.write=function(e,t,n){var r=this._writableState,i=!1,l=!r.objectMode&&a(e);return l&&!O.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),l?t="buffer":!t&&(t=r.defaultEncoding),"function"!=typeof n&&(n=s),r.ending?u(this,n):(l||d(this,r,e,n))&&(r.pendingcb++,i=f(this,r,l,e,t,n)),i},c.prototype.cork=function(){this._writableState.corked++},c.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&_(this,e))},c.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new W(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),c.prototype._write=function(e,t,n){n(new F("_write()"))},c.prototype._writev=null,c.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||T(this,r,n),this},Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),c.prototype.destroy=I.destroy,c.prototype._undestroy=I.undestroy,c.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(e,t){(function(n){(function(){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return{value:e,done:t}}function o(e){var t=e[u];if(null!==t){var n=e[g].read();null!==n&&(e[p]=null,e[u]=null,e[d]=null,t(i(n,!1)))}}function a(e){n.nextTick(o,e)}function s(e,t){return function(n,r){e.then((function(){return t[f]?void n(i(void 0,!0)):void t[m](n,r)}),r)}}var l,c=e("./end-of-stream"),u=Symbol("lastResolve"),d=Symbol("lastReject"),h=Symbol("error"),f=Symbol("ended"),p=Symbol("lastPromise"),m=Symbol("handlePromise"),g=Symbol("stream"),v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((l={get stream(){return this[g]},next:function(){var e=this,t=this[h];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(i(void 0,!0));if(this[g].destroyed)return new Promise((function(t,r){n.nextTick((function(){e[h]?r(e[h]):t(i(void 0,!0))}))}));var r,o=this[p];if(o)r=new Promise(s(o,this));else{var a=this[g].read();if(null!==a)return Promise.resolve(i(a,!1));r=new Promise(this[m])}return this[p]=r,r}},r(l,Symbol.asyncIterator,(function(){return this})),r(l,"return",(function(){var e=this;return new Promise((function(t,n){e[g].destroy(null,(function(e){return e?void n(e):void t(i(void 0,!0))}))}))})),l),v);t.exports=function(e){var t,n=Object.create(y,(t={},r(t,g,{value:e,writable:!0}),r(t,u,{value:null,writable:!0}),r(t,d,{value:null,writable:!0}),r(t,h,{value:null,writable:!0}),r(t,f,{value:e._readableState.endEmitted,writable:!0}),r(t,m,{value:function(e,t){var r=n[g].read();r?(n[p]=null,n[u]=null,n[d]=null,e(i(r,!1))):(n[u]=e,n[d]=t)},writable:!0}),t));return n[p]=null,c(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[d];return null!==t&&(n[p]=null,n[u]=null,n[d]=null,t(e)),void(n[h]=e)}var r=n[u];null!==r&&(n[p]=null,n[u]=null,n[d]=null,r(i(void 0,!0))),n[f]=!0})),e.on("readable",a.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":24,_process:12}],22:[function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?n(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){u.prototype.copy.call(e,t,n)}var c=e("buffer"),u=c.Buffer,d=e("util"),h=d.inspect,f=h&&h.custom||"inspect";t.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return s(e,[{key:"push",value:function(e){var t={data:e,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t=u.allocUnsafe(e>>>0),n=this.head,r=0;n;)l(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(r+=o===i.length?i:i.slice(0,e),e-=o,0===e){o===i.length?(++n,this.head=t.next?t.next:this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),e-=o,0===e){o===i.length?(++r,this.head=n.next?n.next:this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:f,value:function(e,t){return h(this,r({},t,{depth:0,customInspect:!1}))}}]),e}()},{buffer:3,util:2}],23:[function(e,t){(function(e){(function(){"use strict";function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?(o?o(t):t&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!o&&t?a._writableState?a._writableState.errorEmitted?e.nextTick(r,a):(a._writableState.errorEmitted=!0,e.nextTick(n,a,t)):e.nextTick(n,a,t):o?(e.nextTick(r,a),o(t)):e.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:12}],24:[function(e,t){"use strict";function n(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}function r(){}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(e,t,s){if("function"==typeof t)return o(e,null,t);t||(t={}),s=n(s||r);var l=t.readable||!1!==t.readable&&e.readable,c=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||h()},d=e._writableState&&e._writableState.finished,h=function(){c=!1,d=!0,l||s.call(e)},f=e._readableState&&e._readableState.endEmitted,p=function(){l=!1,f=!0,c||s.call(e)},m=function(t){s.call(e,t)},g=function(){var t;return l&&!f?(e._readableState&&e._readableState.ended||(t=new a),s.call(e,t)):c&&!d?(e._writableState&&e._writableState.ended||(t=new a),s.call(e,t)):void 0},v=function(){e.req.on("finish",h)};return i(e)?(e.on("complete",h),e.on("abort",g),e.req?v():e.on("request",v)):c&&!e._writableState&&(e.on("end",u),e.on("close",u)),e.on("end",p),e.on("finish",h),!1!==t.error&&e.on("error",m),e.on("close",g),function(){e.removeListener("complete",h),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",h),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",h),e.removeListener("end",p),e.removeListener("error",m),e.removeListener("close",g)}}var a=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;t.exports=o},{"../../../errors":15}],25:[function(e,t){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(e,t){"use strict";function n(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}function r(e){if(e)throw e}function i(e){return e.setHeader&&"function"==typeof e.abort}function o(t,r,o,a){a=n(a);var s=!1;t.on("close",(function(){s=!0})),void 0===c&&(c=e("./end-of-stream")),c(t,{readable:r,writable:o},(function(e){return e?a(e):(s=!0,void a())}));var l=!1;return function(e){if(!s)return l?void 0:(l=!0,i(t)?t.abort():"function"==typeof t.destroy?t.destroy():void a(e||new h("pipe")))}}function a(e){e()}function s(e,t){return e.pipe(t)}function l(e){return e.length&&"function"==typeof e[e.length-1]?e.pop():r}var c,u=e("../../../errors").codes,d=u.ERR_MISSING_ARGS,h=u.ERR_STREAM_DESTROYED;t.exports=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=l(t);if(Array.isArray(t[0])&&(t=t[0]),2>t.length)throw new d("streams");var i,c=t.map((function(e,n){var s=n<t.length-1;return o(e,s,0<n,(function(e){i||(i=e),e&&c.forEach(a),s||(c.forEach(a),r(i))}))}));return t.reduce(s)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(t,n){"use strict";function r(e,t,n){return null==e.highWaterMark?t?e[n]:null:e.highWaterMark}var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(t,n,o,a){var s=r(n,a,o);if(null!=s){if(!isFinite(s)||e(s)!==s||0>s){var l=a?o:"highWaterMark";throw new i(l,s)}return e(s)}return t.objectMode?16:16384}}},{"../../../errors":15}],28:[function(e,t){t.exports=e("events").EventEmitter},{events:7}],29:[function(e,t,n){n=t.exports=e("./lib/_stream_readable.js"),n.Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),n.finished=e("./lib/internal/streams/end-of-stream.js"),n.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var o=e("buffer"),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),i.prototype=Object.create(a.prototype),r(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0===t?r.fill(0):"string"==typeof n?r.fill(t,n):r.fill(t),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:3}],31:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(g.isEncoding===v||!v(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){var t;switch(this.encoding=i(e),this.encoding){case"utf16le":this.text=u,this.end=d,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=h,this.end=f,t=3;break;default:return this.write=p,void(this.end=m)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(t)}function a(e){return 127>=e?0:6==e>>5?2:14==e>>4?3:30==e>>3?4:2==e>>6?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(t[r]),0<=i?(0<i&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(t[r]),0<=i?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0))}function l(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(1<e.lastNeed&&1<t.length){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(2<e.lastNeed&&2<t.length&&128!=(192&t[2]))return e.lastNeed=2,"�"}}function c(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0===n?this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length)):n}function u(e,t){if(0==(e.length-t)%2){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&56319>=r)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}var g=e("safe-buffer").Buffer,v=g.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(t=this.fillLast(e),void 0===t)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){return this.lastNeed<=e.length?(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),void(this.lastNeed-=e.length))}},{"safe-buffer":30}],32:[function(e,t){(function(e){(function(){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===(n+"").toLowerCase()}t.exports=function(e,t){function r(){if(!i){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var i=!1;return r}}).call(this)}).call(this,"undefined"==typeof n.g?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n.g)},{}],"/":[function(e,t){function n(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function r(e){console.warn(e)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const i=e("debug")("simple-peer"),o=e("get-browser-rtc"),a=e("randombytes"),s=e("readable-stream"),l=e("queue-microtask"),c=e("err-code"),{Buffer:u}=e("buffer"),d=65536;class h extends s.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=a(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||a(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||h.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},h.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:o(),!this._wrtc)throw"undefined"==typeof window?c(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):c(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void this.destroy(c(e,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch((e=>{this.destroy(c(e,"ERR_PC_PEER_IDENTITY"))})),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach((e=>{this.addStream(e)})),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then((()=>{this.destroyed||(this._pendingCandidates.forEach((e=>{this._addIceCandidate(e)})),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())})).catch((e=>{this.destroy(c(e,"ERR_SET_REMOTE_DESCRIPTION"))})),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(c(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch((e=>{!t.address||t.address.endsWith(".local")?r("Ignoring unsupported ICE candidate."):this.destroy(c(e,"ERR_ADD_ICE_CANDIDATE"))}))}send(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(c(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),e.getTracks().forEach((t=>{this.addTrack(t,e)}))}}addTrack(e,t){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(e)||new Map;let r=n.get(t);if(r)throw r.removed?c(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):c(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw c(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null==i.replaceTrack?this.destroy(c(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):i.replaceTrack(t)}removeTrack(e,t){if(this.destroying)return;if(this.destroyed)throw c(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw c(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(c(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),e.getTracks().forEach((t=>{this.removeTrack(t,e)}))}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,l((()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1})))}negotiate(){if(!this.destroying){if(this.destroyed)throw c(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout((()=>{this._createOffer()}),0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,(()=>{}))}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),l((()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()})))}_setupData(e){if(!e.channel)return this.destroy(c(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=d),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{const t=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:${e.colno}`);this.destroy(c(t,"ERR_DATA_CHANNEL"))};let t=!1;this._closingInterval=setInterval((()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1}),5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(c(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>d?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(!this.destroyed){const e=()=>{setTimeout((()=>this.destroy()),1e3)};this._connected?e():this.once("connect",e)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout((()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))}),this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=n(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})}};this._pc.setLocalDescription(e).then((()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(c(e,"ERR_CREATE_OFFER"))}))}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach((e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))}))}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then((e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=n(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){const t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(e).then((()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))})).catch((e=>{this.destroy(c(e,"ERR_SET_LOCAL_DESCRIPTION"))}))})).catch((e=>{this.destroy(c(e,"ERR_CREATE_ANSWER"))}))}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(c(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),("connected"===e||"completed"===e)&&(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(c(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(c(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach((t=>{Object.assign(e,t)})),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then((n=>{const r=[];n.forEach((e=>{r.push(t(e))})),e(null,r)}),(t=>e(t))):0<this._pc.getStats.length?this._pc.getStats((n=>{if(this.destroyed)return;const r=[];n.result().forEach((e=>{const n={};e.names().forEach((t=>{n[t]=e.stat(t)})),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,r.push(t(n))})),e(null,r)}),(t=>e(t))):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats(((t,n)=>{if(this.destroyed)return;t&&(n=[]);const r={},i={},o={};let a=!1;n.forEach((e=>{("remotecandidate"===e.type||"remote-candidate"===e.type)&&(r[e.id]=e),("localcandidate"===e.type||"local-candidate"===e.type)&&(i[e.id]=e),("candidatepair"===e.type||"candidate-pair"===e.type)&&(o[e.id]=e)}));const s=e=>{a=!0;let t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=+t.port):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=+t.portNumber):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=+t[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let n=r[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=+n.port):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=+n.portNumber):"string"==typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=+n[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach((e=>{"transport"===e.type&&e.selectedCandidatePairId&&s(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&s(e)})),a||Object.keys(o).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(c(e,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const t=this._cb;this._cb=null,t(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval((()=>this._onInterval()),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)}))};e()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>d)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach((e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0})),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(this.destroyed)return;let t=e.data;t instanceof ArrayBuffer&&(t=u.from(t)),this.push(t)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach((t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some((e=>e.id===t.id))||(this._remoteStreams.push(t),l((()=>{this._debug("on stream"),this.emit("stream",t)})))}))}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],i.apply(null,e)}}h.WEBRTC_SUPPORT=!!o(),h.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},h.channelConfig={},t.exports=h},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")}))},3029:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});const r="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var i={randomUUID:r};n(1439),n(7585),n(5315);let o;const a=new Uint8Array(16);function s(){if(!o&&(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(a)}n(7658);const l=[];for(let h=0;h<256;++h)l.push((h+256).toString(16).slice(1));function c(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}function u(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();e=e||{};const r=e.random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return c(r)}var d=u},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},6866:function(e,t,n){"use strict";n.r(t),n.d(t,{BaseTransition:function(){return r.P$},BaseTransitionPropsValidators:function(){return r.nJ},Comment:function(){return r.sv},EffectScope:function(){return r.Bj},Fragment:function(){return r.HY},KeepAlive:function(){return r.Ob},ReactiveEffect:function(){return r.qq},Static:function(){return r.qG},Suspense:function(){return r.n4},Teleport:function(){return r.lR},Text:function(){return r.xv},Transition:function(){return r.uT},TransitionGroup:function(){return r.W3},VueElement:function(){return r.a2},assertNumber:function(){return r.Wu},callWithAsyncErrorHandling:function(){return r.$d},callWithErrorHandling:function(){return r.KU},camelize:function(){return r._A},capitalize:function(){return r.kC},cloneVNode:function(){return r.Ho},compatUtils:function(){return r.ry},compile:function(){return i},computed:function(){return r.Fl},createApp:function(){return r.ri},createBlock:function(){return r.j4},createCommentVNode:function(){return r.kq},createElementBlock:function(){return r.iD},createElementVNode:function(){return r._},createHydrationRenderer:function(){return r.Eo},createPropsRestProxy:function(){return r.p1},createRenderer:function(){return r.Us},createSSRApp:function(){return r.vr},createSlots:function(){return r.Nv},createStaticVNode:function(){return r.uE},createTextVNode:function(){return r.Uk},createVNode:function(){return r.Wm},customRef:function(){return r.ZM},defineAsyncComponent:function(){return r.RC},defineComponent:function(){return r.aZ},defineCustomElement:function(){return r.MW},defineEmits:function(){return r.Bz},defineExpose:function(){return r.WY},defineModel:function(){return r.Gn},defineOptions:function(){return r.Yu},defineProps:function(){return r.yb},defineSSRCustomElement:function(){return r.Ah},defineSlots:function(){return r.Wl},devtools:function(){return r.mW},effect:function(){return r.cE},effectScope:function(){return r.B},getCurrentInstance:function(){return r.FN},getCurrentScope:function(){return r.nZ},getTransitionRawChildren:function(){return r.Q6},guardReactiveProps:function(){return r.F4},h:function(){return r.h},handleError:function(){return r.S3},hasInjectionContext:function(){return r.EM},hydrate:function(){return r.ZB},initCustomFormatter:function(){return r.Mr},initDirectivesForSSR:function(){return r.Nd},inject:function(){return r.f3},isMemoSame:function(){return r.nQ},isProxy:function(){return r.X3},isReactive:function(){return r.PG},isReadonly:function(){return r.$y},isRef:function(){return r.dq},isRuntimeOnly:function(){return r.of},isShallow:function(){return r.yT},isVNode:function(){return r.lA},markRaw:function(){return r.Xl},mergeDefaults:function(){return r.u_},mergeModels:function(){return r.Vf},mergeProps:function(){return r.dG},nextTick:function(){return r.Y3},normalizeClass:function(){return r.C_},normalizeProps:function(){return r.vs},normalizeStyle:function(){return r.j5},onActivated:function(){return r.dl},onBeforeMount:function(){return r.wF},onBeforeUnmount:function(){return r.Jd},onBeforeUpdate:function(){return r.Xn},onDeactivated:function(){return r.se},onErrorCaptured:function(){return r.d1},onMounted:function(){return r.bv},onRenderTracked:function(){return r.bT},onRenderTriggered:function(){return r.Yq},onScopeDispose:function(){return r.EB},onServerPrefetch:function(){return r.vl},onUnmounted:function(){return r.SK},onUpdated:function(){return r.ic},openBlock:function(){return r.wg},popScopeId:function(){return r.Cn},provide:function(){return r.JJ},proxyRefs:function(){return r.WL},pushScopeId:function(){return r.dD},queuePostFlushCb:function(){return r.qb},reactive:function(){return r.qj},readonly:function(){return r.OT},ref:function(){return r.iH},registerRuntimeCompiler:function(){return r.Y1},render:function(){return r.sY},renderList:function(){return r.Ko},renderSlot:function(){return r.WI},resolveComponent:function(){return r.up},resolveDirective:function(){return r.Q2},resolveDynamicComponent:function(){return r.LL},resolveFilter:function(){return r.eq},resolveTransitionHooks:function(){return r.U2},setBlockTracking:function(){return r.qZ},setDevtoolsHook:function(){return r.ec},setTransitionHooks:function(){return r.nK},shallowReactive:function(){return r.Um},shallowReadonly:function(){return r.YS},shallowRef:function(){return r.XI},ssrContextKey:function(){return r.Uc},ssrUtils:function(){return r.G},stop:function(){return r.sT},toDisplayString:function(){return r.zw},toHandlerKey:function(){return r.hR},toHandlers:function(){return r.mx},toRaw:function(){return r.IU},toRef:function(){return r.Vh},toRefs:function(){return r.BK},toValue:function(){return r.Tn},transformVNodeArgs:function(){return r.C3},triggerRef:function(){return r.oR},unref:function(){return r.SU},useAttrs:function(){return r.l1},useCssModule:function(){return r.fb},useCssVars:function(){return r.sj},useModel:function(){return r.tT},useSSRContext:function(){return r.Zq},useSlots:function(){return r.Rr},useTransitionState:function(){return r.Y8},vModelCheckbox:function(){return r.e8},vModelDynamic:function(){return r.YZ},vModelRadio:function(){return r.G2},vModelSelect:function(){return r.bM},vModelText:function(){return r.nr},vShow:function(){return r.F8},version:function(){return r.i8},warn:function(){return r.ZK},watch:function(){return r.YP},watchEffect:function(){return r.m0},watchPostEffect:function(){return r.Rh},watchSyncEffect:function(){return r.yX},withAsyncContext:function(){return r.mv},withCtx:function(){return r.w5},withDefaults:function(){return r.b9},withDirectives:function(){return r.wy},withKeys:function(){return r.D2},withMemo:function(){return r.MX},withModifiers:function(){return r.iM},withScopeId:function(){return r.HX}});var r=n(9242);const i=()=>{0}},65:function(e,t,n){"use strict";n.d(t,{MT:function(){return ee}});n(7658);var r=n(3396),i=n(4870);function o(){return a().__VUE_DEVTOOLS_GLOBAL_HOOK__}function a(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const s="function"===typeof Proxy,l="devtools-plugin:setup",c="plugin:settings:set";let u,d;function h(){var e;return void 0!==u||("undefined"!==typeof window&&window.performance?(u=!0,d=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(u=!0,d=n.g.perf_hooks.performance):u=!1),u}function f(){return h()?d.now():Date.now()}class p{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const a in e.settings){const t=e.settings[a];n[a]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return f()}},t&&t.on(c,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function m(e,t){const n=e,r=a(),i=o(),c=s&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const e=c?new p(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(l,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var g="store";function v(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function y(e){return null!==e&&"object"===typeof e}function b(e){return e&&"function"===typeof e.then}function _(e,t){return function(){return e(t)}}function w(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function x(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;E(e,n,[],e._modules.root,!0),S(e,n,t)}function S(e,t,n){var o=e._state,a=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,l={},c={},u=(0,i.B)(!0);u.run((function(){v(s,(function(t,n){l[n]=_(t,e),c[n]=(0,r.Fl)((function(){return l[n]()})),Object.defineProperty(e.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),e._state=(0,i.qj)({data:t}),e._scope=u,e.strict&&k(e),o&&n&&e._withCommit((function(){o.data=null})),a&&a.stop()}function E(e,t,n,r,i){var o=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!o&&!i){var s=O(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){s[l]=r.state}))}var c=r.context=T(e,a,n);r.forEachMutation((function(t,n){var r=a+n;C(e,r,t,c)})),r.forEachAction((function(t,n){var r=t.root?n:a+n,i=t.handler||t;A(e,r,i,c)})),r.forEachGetter((function(t,n){var r=a+n;R(e,r,t,c)})),r.forEachChild((function(r,o){E(e,t,n.concat(o),r,i)}))}function T(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;return s&&s.root||(l=t+l),e.dispatch(l,a)},commit:r?e.commit:function(n,r,i){var o=L(n,r,i),a=o.payload,s=o.options,l=o.type;s&&s.root||(l=t+l),e.commit(l,a,s)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return M(e,t)}},state:{get:function(){return O(e.state,n)}}}),i}function M(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function C(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function A(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return b(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function R(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function k(e){(0,r.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function O(e,t){return t.reduce((function(e,t){return e[t]}),e)}function L(e,t,n){return y(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var I="vuex bindings",P="vuex:mutations",D="vuex:actions",N="vuex",U=0;function F(e,t){m({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[I]},(function(n){n.addTimelineLayer({id:P,label:"Vuex Mutations",color:B}),n.addTimelineLayer({id:D,label:"Vuex Actions",color:B}),n.addInspector({id:N,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===N)if(n.filter){var r=[];G(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[W(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===N){var r=n.nodeId;M(t,r),n.state=$(X(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===N){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.addTimelineEvent({layerId:P,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=U++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:D,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var B=8702998,j=6710886,V=16777215,z={label:"namespaced",textColor:V,backgroundColor:j};function H(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function W(e,t){return{id:t||"root",label:H(t),tags:e.namespaced?[z]:[],children:Object.keys(e._children).map((function(n){return W(e._children[n],t+n+"/")}))}}function G(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[z]:[]}),Object.keys(t._children).forEach((function(i){G(e,t._children[i],n,r+i+"/")}))}function $(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=q(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?H(e):e,editable:!1,value:Y((function(){return o[e]}))}}))}return i}function q(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=Y((function(){return e[n]}))}else t[n]=Y((function(){return e[n]}))})),t}function X(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function Y(e){try{return e()}catch(t){return t}}var J=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Z={namespaced:{configurable:!0}};Z.namespaced.get=function(){return!!this._rawModule.namespaced},J.prototype.addChild=function(e,t){this._children[e]=t},J.prototype.removeChild=function(e){delete this._children[e]},J.prototype.getChild=function(e){return this._children[e]},J.prototype.hasChild=function(e){return e in this._children},J.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},J.prototype.forEachChild=function(e){v(this._children,e)},J.prototype.forEachGetter=function(e){this._rawModule.getters&&v(this._rawModule.getters,e)},J.prototype.forEachAction=function(e){this._rawModule.actions&&v(this._rawModule.actions,e)},J.prototype.forEachMutation=function(e){this._rawModule.mutations&&v(this._rawModule.mutations,e)},Object.defineProperties(J.prototype,Z);var K=function(e){this.register([],e,!1)};function Q(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;Q(e.concat(r),t.getChild(r),n.modules[r])}}K.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},K.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},K.prototype.update=function(e){Q([],this.root,e)},K.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new J(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&v(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},K.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},K.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function ee(e){return new te(e)}var te=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new K(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,s=a.dispatch,l=a.commit;this.dispatch=function(e,t){return s.call(o,e,t)},this.commit=function(e,t,n){return l.call(o,e,t,n)},this.strict=r;var c=this._modules.root.state;E(this,c,[],this._modules.root),S(this,c),n.forEach((function(e){return e(t)}))},ne={state:{configurable:!0}};te.prototype.install=function(e,t){e.provide(t||g,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&F(e,this)},ne.state.get=function(){return this._state.data},ne.state.set=function(e){0},te.prototype.commit=function(e,t,n){var r=this,i=L(e,t,n),o=i.type,a=i.payload,s=(i.options,{type:o,payload:a}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(a)}))})),this._subscribers.slice().forEach((function(e){return e(s,r.state)})))},te.prototype.dispatch=function(e,t){var n=this,r=L(e,t),i=r.type,o=r.payload,a={type:i,payload:o},s=this._actions[i];if(s){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(a,n.state)}))}catch(c){0}var l=s.length>1?Promise.all(s.map((function(e){return e(o)}))):s[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(a,n.state)}))}catch(c){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(a,n.state,e)}))}catch(c){0}t(e)}))}))}},te.prototype.subscribe=function(e,t){return w(e,this._subscribers,t)},te.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return w(n,this._actionSubscribers,t)},te.prototype.watch=function(e,t,n){var i=this;return(0,r.YP)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},te.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},te.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),E(this,this.state,e,this._modules.get(e),n.preserveState),S(this,this.state)},te.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=O(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),x(this)},te.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},te.prototype.hotUpdate=function(e){this._modules.update(e),x(this,!0)},te.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(te.prototype,ne);oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=ae(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=ae(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||ae(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=ae(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function re(e){return ie(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ie(e){return Array.isArray(e)||y(e)}function oe(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function ae(e,t,n){var r=e._modulesNamespaceMap[n];return r}},2213:function(e,t,n){"use strict";n.d(t,{VU:function(){return T}});n(1439),n(7585),n(5315);var r=n(3924),i=n(313),o=n(8148),a=n(2294),s=n(7034);const l=0,c=(e,t,n)=>{switch(a.yg(e)){case l:n(t,a.kf(e))}};var u=n(114),d=n(6055),h=n(1383),f=n(1370);const p=e=>f.UI(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&"),m=0,g=3,v=1,y=2,b=[];b[m]=(e,t,n,r,i)=>{o.uE(e,m);const a=s.zu(t,e,n.doc,n);r&&a===s.Px&&!n.synced&&(n.synced=!0)},b[g]=(e,t,n,r,i)=>{o.uE(e,v),o.mP(e,u.xq(n.awareness,Array.from(n.awareness.getStates().keys())))},b[v]=(e,t,n,r,i)=>{u.oy(n.awareness,a.HN(t),n)},b[y]=(e,t,n,r,i)=>{c(t,n.doc,((e,t)=>w(n,t)))};const _=3e4,w=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),x=(e,t,n)=>{const r=a.l1(t),i=o.Mf(),s=a.yg(r),l=e.messageHandlers[s];return l?l(i,r,e,n,s):console.error("Unable to compute message"),i},S=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=n=>{e.wsLastMessageReceived=i.ZG();const r=x(e,new Uint8Array(n.data),!0);o.kE(r)>1&&t.send(o._f(r))},t.onerror=t=>{e.emit("connection-error",[t,e])},t.onclose=t=>{e.emit("connection-close",[t,e]),e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,u.Ag(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(S,h.VV(100*h.sQ(2,e.wsUnsuccessfulReconnects),e.maxBackoffTime),e)},t.onopen=()=>{e.wsLastMessageReceived=i.ZG(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const n=o.Mf();if(o.uE(n,m),s._J(n,e.doc),t.send(o._f(n)),null!==e.awareness.getLocalState()){const n=o.Mf();o.uE(n,v),o.mP(n,u.xq(e.awareness,[e.doc.clientID])),t.send(o._f(n))}},e.emit("status",[{status:"connecting"}])}},E=(e,t)=>{const n=e.ws;e.wsconnected&&n&&n.readyState===n.OPEN&&n.send(t),e.bcconnected&&r.nY(e.bcChannel,t,e)};class T extends d.y{constructor(e,t,n,{connect:a=!0,awareness:l=new u.GL(n),params:c={},WebSocketPolyfill:d=WebSocket,resyncInterval:h=-1,maxBackoffTime:f=2500,disableBc:g=!1}={}){super();while("/"===e[e.length-1])e=e.slice(0,e.length-1);const y=p(c);this.maxBackoffTime=f,this.bcChannel=e+"/"+t,this.url=e+"/"+t+(0===y.length?"":"?"+y),this.roomname=t,this.doc=n,this._WS=d,this.awareness=l,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=g,this.wsUnsuccessfulReconnects=0,this.messageHandlers=b.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=a,this._resyncInterval=0,h>0&&(this._resyncInterval=setInterval((()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const e=o.Mf();o.uE(e,m),s._J(e,n),this.ws.send(o._f(e))}}),h)),this._bcSubscriber=(e,t)=>{if(t!==this){const t=x(this,new Uint8Array(e),!1);o.kE(t)>1&&r.nY(this.bcChannel,o._f(t),this)}},this._updateHandler=(e,t)=>{if(t!==this){const t=o.Mf();o.uE(t,m),s.lr(t,e),E(this,o._f(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:n},r)=>{const i=e.concat(t).concat(n),a=o.Mf();o.uE(a,v),o.mP(a,u.xq(l,i)),E(this,o._f(a))},this._unloadHandler=()=>{u.Ag(this.awareness,[n.clientID],"window unload")},"undefined"!==typeof window?window.addEventListener("unload",this._unloadHandler):"undefined"!==typeof process&&process.on("exit",this._unloadHandler),l.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&_<i.ZG()-this.wsLastMessageReceived&&this.ws.close()}),_/10),a&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),"undefined"!==typeof window?window.removeEventListener("unload",this._unloadHandler):"undefined"!==typeof process&&process.off("exit",this._unloadHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(r.Ld(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=o.Mf();o.uE(e,m),s._J(e,this.doc),r.nY(this.bcChannel,o._f(e),this);const t=o.Mf();o.uE(t,m),s.K0(t,this.doc),r.nY(this.bcChannel,o._f(t),this);const n=o.Mf();o.uE(n,g),r.nY(this.bcChannel,o._f(n),this);const i=o.Mf();o.uE(i,v),o.mP(i,u.xq(this.awareness,[this.doc.clientID])),r.nY(this.bcChannel,o._f(i),this)}disconnectBc(){const e=o.Mf();o.uE(e,v),o.mP(e,u.xq(this.awareness,[this.doc.clientID],new Map)),E(this,o._f(e)),this.bcconnected&&(r.r1(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(S(this),this.connectBc())}}},7163:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-add-circle-fill",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 11H7V13H11V17H13V13H17V11H13V7H11V11Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},5696:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-attachment-2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M14.8287 7.7574L9.1718 13.4143C8.78127 13.8048 8.78127 14.4379 9.1718 14.8285C9.56232 15.219 10.1955 15.219 10.586 14.8285L16.2429 9.17161C17.4144 8.00004 17.4144 6.10055 16.2429 4.92897C15.0713 3.7574 13.1718 3.7574 12.0002 4.92897L6.34337 10.5858C4.39075 12.5384 4.39075 15.7043 6.34337 17.6569C8.29599 19.6095 11.4618 19.6095 13.4144 17.6569L19.0713 12L20.4855 13.4143L14.8287 19.0711C12.095 21.8048 7.66283 21.8048 4.92916 19.0711C2.19549 16.3374 2.19549 11.9053 4.92916 9.17161L10.586 3.51476C12.5386 1.56214 15.7045 1.56214 17.6571 3.51476C19.6097 5.46738 19.6097 8.63321 17.6571 10.5858L12.0002 16.2427C10.8287 17.4143 8.92916 17.4143 7.75759 16.2427C6.58601 15.0711 6.58601 13.1716 7.75759 12L13.4144 6.34319L14.8287 7.7574Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},2189:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-attachment-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M14 13.5V8C14 5.79086 12.2091 4 10 4C7.79086 4 6 5.79086 6 8V13.5C6 17.0899 8.91015 20 12.5 20C16.0899 20 19 17.0899 19 13.5V4H21V13.5C21 18.1944 17.1944 22 12.5 22C7.80558 22 4 18.1944 4 13.5V8C4 4.68629 6.68629 2 10 2C13.3137 2 16 4.68629 16 8V13.5C16 15.433 14.433 17 12.5 17C10.567 17 9 15.433 9 13.5V8H11V13.5C11 14.3284 11.6716 15 12.5 15C13.3284 15 14 14.3284 14 13.5Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},1790:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-clipboard-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M7 4V2H17V4H20.0066C20.5552 4 21 4.44495 21 4.9934V21.0066C21 21.5552 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5551 3 21.0066V4.9934C3 4.44476 3.44495 4 3.9934 4H7ZM7 6H5V20H19V6H17V8H7V6ZM9 4V6H15V4H9Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},9255:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-close-circle-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 10.5858L14.8284 7.75736L16.2426 9.17157L13.4142 12L16.2426 14.8284L14.8284 16.2426L12 13.4142L9.17157 16.2426L7.75736 14.8284L10.5858 12L7.75736 9.17157L9.17157 7.75736L12 10.5858Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},124:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-delete-bin-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},8301:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-git-branch-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M7.10508 15.2101C8.21506 15.6501 9 16.7334 9 18C9 19.6569 7.65685 21 6 21C4.34315 21 3 19.6569 3 18C3 16.6938 3.83481 15.5825 5 15.1707V8.82929C3.83481 8.41746 3 7.30622 3 6C3 4.34315 4.34315 3 6 3C7.65685 3 9 4.34315 9 6C9 7.30622 8.16519 8.41746 7 8.82929V11.9996C7.83566 11.3719 8.87439 11 10 11H14C15.3835 11 16.5482 10.0635 16.8949 8.78991C15.7849 8.34988 15 7.26661 15 6C15 4.34315 16.3431 3 18 3C19.6569 3 21 4.34315 21 6C21 7.3332 20.1303 8.46329 18.9274 8.85392C18.5222 11.2085 16.4703 13 14 13H10C8.61653 13 7.45179 13.9365 7.10508 15.2101ZM6 17C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19C6.55228 19 7 18.5523 7 18C7 17.4477 6.55228 17 6 17ZM6 5C5.44772 5 5 5.44772 5 6C5 6.55228 5.44772 7 6 7C6.55228 7 7 6.55228 7 6C7 5.44772 6.55228 5 6 5ZM18 5C17.4477 5 17 5.44772 17 6C17 6.55228 17.4477 7 18 7C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},6800:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-link",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M18.3643 15.5353L16.95 14.1211L18.3643 12.7069C20.3169 10.7543 20.3169 7.58847 18.3643 5.63585C16.4116 3.68323 13.2458 3.68323 11.2932 5.63585L9.87898 7.05007L8.46477 5.63585L9.87898 4.22164C12.6127 1.48797 17.0448 1.48797 19.7785 4.22164C22.5121 6.95531 22.5121 11.3875 19.7785 14.1211L18.3643 15.5353ZM15.5358 18.3638L14.1216 19.778C11.388 22.5117 6.9558 22.5117 4.22213 19.778C1.48846 17.0443 1.48846 12.6122 4.22213 9.87849L5.63634 8.46428L7.05055 9.87849L5.63634 11.2927C3.68372 13.2453 3.68372 16.4112 5.63634 18.3638C7.58896 20.3164 10.7548 20.3164 12.7074 18.3638L14.1216 16.9496L15.5358 18.3638ZM14.8287 7.75717L16.2429 9.17139L9.17187 16.2425L7.75766 14.8282L14.8287 7.75717Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},2108:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-lock-2-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M6 8V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6ZM19 10H5V20H19V10ZM11 15.7324C10.4022 15.3866 10 14.7403 10 14C10 12.8954 10.8954 12 12 12C13.1046 12 14 12.8954 14 14C14 14.7403 13.5978 15.3866 13 15.7324V18H11V15.7324ZM8 8H16V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},2882:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-lock-unlock-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M7 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C14.7405 2 17.1131 3.5748 18.2624 5.86882L16.4731 6.76344C15.6522 5.12486 13.9575 4 12 4C9.23858 4 7 6.23858 7 9V10ZM5 12V20H19V12H5ZM10 15H14V17H10V15Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},5496:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-pencil-line",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89H6.41421L15.7279 9.57629ZM17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786L17.1421 8.16207ZM7.24264 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L7.24264 20.89Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},8881:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(3396);const i={class:"remixicon ri-save-3-fill",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},o=(0,r._)("path",{d:"M4 3H18L20.7071 5.70711C20.8946 5.89464 21 6.149 21 6.41421V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM7 4V9H16V4H7ZM6 12V19H18V12H6ZM13 5H15V8H13V5Z"},null,-1),a=[o];function s(e,t){return(0,r.wg)(),(0,r.iD)("svg",i,a)}var l=n(89);const c={},u=(0,l.Z)(c,[["render",s]]);var d=u},4274:function(e,t,n){"use strict";n.d(t,{Z:function(){return ts}});n(7658);var r=n(1114);const i=new r.JOQ,o=new r.iMs,a=new r.FM8,s=new r.Pa4,l=new r.Pa4,c=new r.Pa4,u=new r.yGw;class d extends r.pBf{constructor(e,t,n){super(),n.style.touchAction="none";let r=null,d=null;const h=[],f=this;function p(){n.addEventListener("pointermove",b),n.addEventListener("pointerdown",_),n.addEventListener("pointerup",w),n.addEventListener("pointerleave",w)}function m(){n.removeEventListener("pointermove",b),n.removeEventListener("pointerdown",_),n.removeEventListener("pointerup",w),n.removeEventListener("pointerleave",w),n.style.cursor=""}function g(){m()}function v(){return e}function y(){return o}function b(p){if(!1!==f.enabled){if(x(p),o.setFromCamera(a,t),r)return o.ray.intersectPlane(i,l)&&r.position.copy(l.sub(s).applyMatrix4(u)),void f.dispatchEvent({type:"drag",object:r});if("mouse"===p.pointerType||"pen"===p.pointerType)if(h.length=0,o.setFromCamera(a,t),o.intersectObjects(e,!0,h),h.length>0){const e=h[0].object;i.setFromNormalAndCoplanarPoint(t.getWorldDirection(i.normal),c.setFromMatrixPosition(e.matrixWorld)),d!==e&&null!==d&&(f.dispatchEvent({type:"hoveroff",object:d}),n.style.cursor="auto",d=null),d!==e&&(f.dispatchEvent({type:"hoveron",object:e}),n.style.cursor="pointer",d=e)}else null!==d&&(f.dispatchEvent({type:"hoveroff",object:d}),n.style.cursor="auto",d=null)}}function _(d){!1!==f.enabled&&(x(d),h.length=0,o.setFromCamera(a,t),o.intersectObjects(e,!0,h),h.length>0&&(r=!0===f.transformGroup?e[0]:h[0].object,i.setFromNormalAndCoplanarPoint(t.getWorldDirection(i.normal),c.setFromMatrixPosition(r.matrixWorld)),o.ray.intersectPlane(i,l)&&(u.copy(r.parent.matrixWorld).invert(),s.copy(l).sub(c.setFromMatrixPosition(r.matrixWorld))),n.style.cursor="move",f.dispatchEvent({type:"dragstart",object:r})))}function w(){!1!==f.enabled&&(r&&(f.dispatchEvent({type:"dragend",object:r}),r=null),n.style.cursor=d?"pointer":"auto")}function x(e){const t=n.getBoundingClientRect();a.x=(e.clientX-t.left)/t.width*2-1,a.y=-(e.clientY-t.top)/t.height*2+1}p(),this.enabled=!0,this.transformGroup=!1,this.activate=p,this.deactivate=m,this.dispose=g,this.getObjects=v,this.getRaycaster=y}}n(1439),n(7585),n(5315);var h={value:()=>{}};function f(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new p(r)}function p(e){this._=e}function m(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function g(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function v(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=h,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}p.prototype=f.prototype={constructor:p,on:function(e,t){var n,r=this._,i=m(e+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);while(++o<a)if(n=(e=i[o]).type)r[n]=v(r[n],e.name,t);else if(null==t)for(n in r)r[n]=v(r[n],e.name,null);return this}while(++o<a)if((n=(e=i[o]).type)&&(n=g(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new p(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,n=r.length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};var y,b,_=f,w=0,x=0,S=0,E=1e3,T=0,M=0,C=0,A="object"===typeof performance&&performance.now?performance:Date,R="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function k(){return M||(R(O),M=A.now()+C)}function O(){M=0}function L(){this._call=this._time=this._next=null}function I(e,t,n){var r=new L;return r.restart(e,t,n),r}function P(){k(),++w;var e,t=y;while(t)(e=M-t._time)>=0&&t._call.call(void 0,e),t=t._next;--w}function D(){M=(T=A.now())+C,w=x=0;try{P()}finally{w=0,U(),M=0}}function N(){var e=A.now(),t=e-T;t>E&&(C-=t,T=e)}function U(){var e,t,n=y,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:y=t);b=e,F(r)}function F(e){if(!w){x&&(x=clearTimeout(x));var t=e-M;t>24?(e<1/0&&(x=setTimeout(D,e-A.now()-C)),S&&(S=clearInterval(S))):(S||(T=A.now(),S=setInterval(N,E)),w=1,R(D))}}L.prototype=I.prototype={constructor:L,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?k():+n)+(null==t?0:+t),this._next||b===this||(b?b._next=this:y=this,b=this),this._call=e,this._time=n,F()},stop:function(){this._call&&(this._call=null,this._time=1/0,F())}};const B=1664525,j=1013904223,V=4294967296;function z(){let e=1;return()=>(e=(B*e+j)%V)/V}var H=3;function W(e){return e.x}function G(e){return e.y}function $(e){return e.z}var q=10,X=Math.PI*(3-Math.sqrt(5)),Y=20*Math.PI/(9+Math.sqrt(221));function J(e,t){t=t||2;var n,r=Math.min(H,Math.max(1,Math.round(t))),i=1,o=.001,a=1-Math.pow(o,1/300),s=0,l=.6,c=new Map,u=I(f),d=_("tick","end"),h=z();function f(){p(),d.call("tick",n),i<o&&(u.stop(),d.call("end",n))}function p(t){var o,u,d=e.length;void 0===t&&(t=1);for(var h=0;h<t;++h)for(i+=(s-i)*a,c.forEach((function(e){e(i)})),o=0;o<d;++o)u=e[o],null==u.fx?u.x+=u.vx*=l:(u.x=u.fx,u.vx=0),r>1&&(null==u.fy?u.y+=u.vy*=l:(u.y=u.fy,u.vy=0)),r>2&&(null==u.fz?u.z+=u.vz*=l:(u.z=u.fz,u.vz=0));return n}function m(){for(var t,n=0,i=e.length;n<i;++n){if(t=e[n],t.index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),null!=t.fz&&(t.z=t.fz),isNaN(t.x)||r>1&&isNaN(t.y)||r>2&&isNaN(t.z)){var o=q*(r>2?Math.cbrt(.5+n):r>1?Math.sqrt(.5+n):n),a=n*X,s=n*Y;1===r?t.x=o:2===r?(t.x=o*Math.cos(a),t.y=o*Math.sin(a)):(t.x=o*Math.sin(a)*Math.cos(s),t.y=o*Math.cos(a),t.z=o*Math.sin(a)*Math.sin(s))}(isNaN(t.vx)||r>1&&isNaN(t.vy)||r>2&&isNaN(t.vz))&&(t.vx=0,r>1&&(t.vy=0),r>2&&(t.vz=0))}}function g(t){return t.initialize&&t.initialize(e,h,r),t}return null==e&&(e=[]),m(),n={tick:p,restart:function(){return u.restart(f),n},stop:function(){return u.stop(),n},numDimensions:function(e){return arguments.length?(r=Math.min(H,Math.max(1,Math.round(e))),c.forEach(g),n):r},nodes:function(t){return arguments.length?(e=t,m(),c.forEach(g),n):e},alpha:function(e){return arguments.length?(i=+e,n):i},alphaMin:function(e){return arguments.length?(o=+e,n):o},alphaDecay:function(e){return arguments.length?(a=+e,n):+a},alphaTarget:function(e){return arguments.length?(s=+e,n):s},velocityDecay:function(e){return arguments.length?(l=1-e,n):1-l},randomSource:function(e){return arguments.length?(h=e,c.forEach(g),n):h},force:function(e,t){return arguments.length>1?(null==t?c.delete(e):c.set(e,g(t)),n):c.get(e)},find:function(){var t,n,i,o,a,s,l=Array.prototype.slice.call(arguments),c=l.shift()||0,u=(r>1?l.shift():null)||0,d=(r>2?l.shift():null)||0,h=l.shift()||1/0,f=0,p=e.length;for(h*=h,f=0;f<p;++f)a=e[f],t=c-a.x,n=u-(a.y||0),i=d-(a.z||0),o=t*t+n*n+i*i,o<h&&(s=a,h=o);return s},on:function(e,t){return arguments.length>1?(d.on(e,t),n):d.on(e)}}}function Z(e){return function(){return e}}function K(e){return 1e-6*(e()-.5)}function Q(e){return e.index}function ee(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function te(e){var t,n,r,i,o,a,s,l=Q,c=h,u=Z(30),d=1;function h(e){return 1/Math.min(o[e.source.index],o[e.target.index])}function f(r){for(var o=0,l=e.length;o<d;++o)for(var c,u,h,f,p,m=0,g=0,v=0,y=0;m<l;++m)c=e[m],u=c.source,h=c.target,g=h.x+h.vx-u.x-u.vx||K(s),i>1&&(v=h.y+h.vy-u.y-u.vy||K(s)),i>2&&(y=h.z+h.vz-u.z-u.vz||K(s)),f=Math.sqrt(g*g+v*v+y*y),f=(f-n[m])/f*r*t[m],g*=f,v*=f,y*=f,h.vx-=g*(p=a[m]),i>1&&(h.vy-=v*p),i>2&&(h.vz-=y*p),u.vx+=g*(p=1-p),i>1&&(u.vy+=v*p),i>2&&(u.vz+=y*p)}function p(){if(r){var i,s,c=r.length,u=e.length,d=new Map(r.map(((e,t)=>[l(e,t,r),e])));for(i=0,o=new Array(c);i<u;++i)s=e[i],s.index=i,"object"!==typeof s.source&&(s.source=ee(d,s.source)),"object"!==typeof s.target&&(s.target=ee(d,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(i=0,a=new Array(u);i<u;++i)s=e[i],a[i]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);t=new Array(u),m(),n=new Array(u),g()}}function m(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+c(e[n],n,e)}function g(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,...t){r=e,s=t.find((e=>"function"===typeof e))||Math.random,i=t.find((e=>[1,2,3].includes(e)))||2,p()},f.links=function(t){return arguments.length?(e=t,p(),f):e},f.id=function(e){return arguments.length?(l=e,f):l},f.iterations=function(e){return arguments.length?(d=+e,f):d},f.strength=function(e){return arguments.length?(c="function"===typeof e?e:Z(+e),m(),f):c},f.distance=function(e){return arguments.length?(u="function"===typeof e?e:Z(+e),g(),f):u},f}function ne(e){const t=+this._x.call(null,e);return re(this.cover(t),t,e)}function re(e,t,n){if(isNaN(t))return e;var r,i,o,a,s,l,c=e._root,u={data:n},d=e._x0,h=e._x1;if(!c)return e._root=u,e;while(c.length)if((a=t>=(i=(d+h)/2))?d=i:h=i,r=c,!(c=c[s=+a]))return r[s]=u,e;if(o=+e._x.call(null,c.data),t===o)return u.next=c,r?r[s]=u:e._root=u,e;do{r=r?r[s]=new Array(2):e._root=new Array(2),(a=t>=(i=(d+h)/2))?d=i:h=i}while((s=+a)===(l=+(o>=i)));return r[l]=c,r[s]=u,e}function ie(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t);let r=1/0,i=-1/0;for(let o,a=0;a<t;++a)isNaN(o=+this._x.call(null,e[a]))||(n[a]=o,o<r&&(r=o),o>i&&(i=o));if(r>i)return this;this.cover(r).cover(i);for(let o=0;o<t;++o)re(this,n[o],e[o]);return this}function oe(e){if(isNaN(e=+e))return this;var t=this._x0,n=this._x1;if(isNaN(t))n=(t=Math.floor(e))+1;else{var r,i,o=n-t||1,a=this._root;while(t>e||e>=n)switch(i=+(e<t),r=new Array(2),r[i]=a,a=r,o*=2,i){case 0:n=t+o;break;case 1:t=n-o;break}this._root&&this._root.length&&(this._root=a)}return this._x0=t,this._x1=n,this}function ae(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}function se(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function le(e,t,n){this.node=e,this.x0=t,this.x1=n}function ce(e,t){var n,r,i,o,a,s=this._x0,l=this._x1,c=[],u=this._root;u&&c.push(new le(u,s,l)),null==t?t=1/0:(s=e-t,l=e+t);while(o=c.pop())if(!(!(u=o.node)||(r=o.x0)>l||(i=o.x1)<s))if(u.length){var d=(r+i)/2;c.push(new le(u[1],d,i),new le(u[0],r,d)),(a=+(e>=d))&&(o=c[c.length-1],c[c.length-1]=c[c.length-1-a],c[c.length-1-a]=o)}else{var h=Math.abs(e-+this._x.call(null,u.data));h<t&&(t=h,s=e-h,l=e+h,n=u.data)}return n}function ue(e){if(isNaN(o=+this._x.call(null,e)))return this;var t,n,r,i,o,a,s,l,c,u=this._root,d=this._x0,h=this._x1;if(!u)return this;if(u.length)while(1){if((s=o>=(a=(d+h)/2))?d=a:h=a,t=u,!(u=u[l=+s]))return this;if(!u.length)break;t[l+1&1]&&(n=t,c=l)}while(u.data!==e)if(r=u,!(u=u.next))return this;return(i=u.next)&&delete u.next,r?(i?r.next=i:delete r.next,this):t?(i?t[l]=i:delete t[l],(u=t[0]||t[1])&&u===(t[1]||t[0])&&!u.length&&(n?n[c]=u:this._root=u),this):(this._root=i,this)}function de(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function he(){return this._root}function fe(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}function pe(e){var t,n,r,i,o=[],a=this._root;a&&o.push(new le(a,this._x0,this._x1));while(t=o.pop())if(!e(a=t.node,r=t.x0,i=t.x1)&&a.length){var s=(r+i)/2;(n=a[1])&&o.push(new le(n,s,i)),(n=a[0])&&o.push(new le(n,r,s))}return this}function me(e){var t,n=[],r=[];this._root&&n.push(new le(this._root,this._x0,this._x1));while(t=n.pop()){var i=t.node;if(i.length){var o,a=t.x0,s=t.x1,l=(a+s)/2;(o=i[0])&&n.push(new le(o,a,l)),(o=i[1])&&n.push(new le(o,l,s))}r.push(t)}while(t=r.pop())e(t.node,t.x0,t.x1);return this}function ge(e){return e[0]}function ve(e){return arguments.length?(this._x=e,this):this._x}function ye(e,t){var n=new be(null==t?ge:t,NaN,NaN);return null==e?n:n.addAll(e)}function be(e,t,n){this._x=e,this._x0=t,this._x1=n,this._root=void 0}function _e(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}var we=ye.prototype=be.prototype;function xe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Se(this.cover(t,n),t,n,e)}function Se(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,a,s,l,c,u,d,h,f=e._root,p={data:r},m=e._x0,g=e._y0,v=e._x1,y=e._y1;if(!f)return e._root=p,e;while(f.length)if((c=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a,i=f,!(f=f[d=u<<1|c]))return i[d]=p,e;if(s=+e._x.call(null,f.data),l=+e._y.call(null,f.data),t===s&&n===l)return p.next=f,i?i[d]=p:e._root=p,e;do{i=i?i[d]=new Array(4):e._root=new Array(4),(c=t>=(o=(m+v)/2))?m=o:v=o,(u=n>=(a=(g+y)/2))?g=a:y=a}while((d=u<<1|c)===(h=(l>=a)<<1|s>=o));return i[h]=f,i[d]=p,e}function Ee(e){var t,n,r,i,o=e.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>d&&(d=i));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<o;++n)Se(this,a[n],s[n],e[n]);return this}function Te(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{var a,s,l=i-n||1,c=this._root;while(n>e||e>=i||r>t||t>=o)switch(s=(t<r)<<1|e<n,a=new Array(4),a[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Me(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}function Ce(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ae(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Re(e,t,n){var r,i,o,a,s,l,c,u=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;m&&p.push(new Ae(m,u,d,h,f)),null==n?n=1/0:(u=e-n,d=t-n,h=e+n,f=t+n,n*=n);while(l=p.pop())if(!(!(m=l.node)||(i=l.x0)>h||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<d))if(m.length){var g=(i+a)/2,v=(o+s)/2;p.push(new Ae(m[3],g,v,a,s),new Ae(m[2],i,v,g,s),new Ae(m[1],g,o,a,v),new Ae(m[0],i,o,g,v)),(c=(t>=v)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),_=y*y+b*b;if(_<n){var w=Math.sqrt(n=_);u=e-w,d=t-w,h=e+w,f=t+w,r=m.data}}return r}function ke(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,r,i,o,a,s,l,c,u,d,h,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)while(1){if((c=o>=(s=(p+g)/2))?p=s:g=s,(u=a>=(l=(m+v)/2))?m=l:v=l,t=f,!(f=f[d=u<<1|c]))return this;if(!f.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,h=d)}while(f.data!==e)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):t?(i?t[d]=i:delete t[d],(f=t[0]||t[1]||t[2]||t[3])&&f===(t[3]||t[2]||t[1]||t[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=i,this)}function Oe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Le(){return this._root}function Ie(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}function Pe(e){var t,n,r,i,o,a,s=[],l=this._root;l&&s.push(new Ae(l,this._x0,this._y0,this._x1,this._y1));while(t=s.pop())if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,a=t.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Ae(n,c,u,o,a)),(n=l[2])&&s.push(new Ae(n,r,u,c,a)),(n=l[1])&&s.push(new Ae(n,c,i,o,u)),(n=l[0])&&s.push(new Ae(n,r,i,c,u))}return this}function De(e){var t,n=[],r=[];this._root&&n.push(new Ae(this._root,this._x0,this._y0,this._x1,this._y1));while(t=n.pop()){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,d=(s+c)/2;(o=i[0])&&n.push(new Ae(o,a,s,u,d)),(o=i[1])&&n.push(new Ae(o,u,s,l,d)),(o=i[2])&&n.push(new Ae(o,a,d,u,c)),(o=i[3])&&n.push(new Ae(o,u,d,l,c))}r.push(t)}while(t=r.pop())e(t.node,t.x0,t.y0,t.x1,t.y1);return this}function Ne(e){return e[0]}function Ue(e){return arguments.length?(this._x=e,this):this._x}function Fe(e){return e[1]}function Be(e){return arguments.length?(this._y=e,this):this._y}function je(e,t,n){var r=new Ve(null==t?Ne:t,null==n?Fe:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function Ve(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ze(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}we.copy=function(){var e,t,n=new be(this._x,this._x0,this._x1),r=this._root;if(!r)return n;if(!r.length)return n._root=_e(r),n;e=[{source:r,target:n._root=new Array(2)}];while(r=e.pop())for(var i=0;i<2;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(2)}):r.target[i]=_e(t));return n},we.add=ne,we.addAll=ie,we.cover=oe,we.data=ae,we.extent=se,we.find=ce,we.remove=ue,we.removeAll=de,we.root=he,we.size=fe,we.visit=pe,we.visitAfter=me,we.x=ve;var He=je.prototype=Ve.prototype;function We(e){const t=+this._x.call(null,e),n=+this._y.call(null,e),r=+this._z.call(null,e);return Ge(this.cover(t,n,r),t,n,r,e)}function Ge(e,t,n,r,i){if(isNaN(t)||isNaN(n)||isNaN(r))return e;var o,a,s,l,c,u,d,h,f,p,m,g,v=e._root,y={data:i},b=e._x0,_=e._y0,w=e._z0,x=e._x1,S=e._y1,E=e._z1;if(!v)return e._root=y,e;while(v.length)if((h=t>=(a=(b+x)/2))?b=a:x=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(w+E)/2))?w=l:E=l,o=v,!(v=v[m=p<<2|f<<1|h]))return o[m]=y,e;if(c=+e._x.call(null,v.data),u=+e._y.call(null,v.data),d=+e._z.call(null,v.data),t===c&&n===u&&r===d)return y.next=v,o?o[m]=y:e._root=y,e;do{o=o?o[m]=new Array(8):e._root=new Array(8),(h=t>=(a=(b+x)/2))?b=a:x=a,(f=n>=(s=(_+S)/2))?_=s:S=s,(p=r>=(l=(w+E)/2))?w=l:E=l}while((m=p<<2|f<<1|h)===(g=(d>=l)<<2|(u>=s)<<1|c>=a));return o[g]=v,o[m]=y,e}function $e(e){Array.isArray(e)||(e=Array.from(e));const t=e.length,n=new Float64Array(t),r=new Float64Array(t),i=new Float64Array(t);let o=1/0,a=1/0,s=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d,h,f,p,m=0;m<t;++m)isNaN(h=+this._x.call(null,d=e[m]))||isNaN(f=+this._y.call(null,d))||isNaN(p=+this._z.call(null,d))||(n[m]=h,r[m]=f,i[m]=p,h<o&&(o=h),h>l&&(l=h),f<a&&(a=f),f>c&&(c=f),p<s&&(s=p),p>u&&(u=p));if(o>l||a>c||s>u)return this;this.cover(o,a,s).cover(l,c,u);for(let d=0;d<t;++d)Ge(this,n[d],r[d],i[d],e[d]);return this}function qe(e,t,n){if(isNaN(e=+e)||isNaN(t=+t)||isNaN(n=+n))return this;var r=this._x0,i=this._y0,o=this._z0,a=this._x1,s=this._y1,l=this._z1;if(isNaN(r))a=(r=Math.floor(e))+1,s=(i=Math.floor(t))+1,l=(o=Math.floor(n))+1;else{var c,u,d=a-r||1,h=this._root;while(r>e||e>=a||i>t||t>=s||o>n||n>=l)switch(u=(n<o)<<2|(t<i)<<1|e<r,c=new Array(8),c[u]=h,h=c,d*=2,u){case 0:a=r+d,s=i+d,l=o+d;break;case 1:r=a-d,s=i+d,l=o+d;break;case 2:a=r+d,i=s-d,l=o+d;break;case 3:r=a-d,i=s-d,l=o+d;break;case 4:a=r+d,s=i+d,o=l-d;break;case 5:r=a-d,s=i+d,o=l-d;break;case 6:a=r+d,i=s-d,o=l-d;break;case 7:r=a-d,i=s-d,o=l-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this}function Xe(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e}function Ye(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Je(e,t,n,r,i,o,a){this.node=e,this.x0=t,this.y0=n,this.z0=r,this.x1=i,this.y1=o,this.z1=a}function Ze(e,t,n,r){var i,o,a,s,l,c,u,d,h,f=this._x0,p=this._y0,m=this._z0,g=this._x1,v=this._y1,y=this._z1,b=[],_=this._root;_&&b.push(new Je(_,f,p,m,g,v,y)),null==r?r=1/0:(f=e-r,p=t-r,m=n-r,g=e+r,v=t+r,y=n+r,r*=r);while(d=b.pop())if(!(!(_=d.node)||(o=d.x0)>g||(a=d.y0)>v||(s=d.z0)>y||(l=d.x1)<f||(c=d.y1)<p||(u=d.z1)<m))if(_.length){var w=(o+l)/2,x=(a+c)/2,S=(s+u)/2;b.push(new Je(_[7],w,x,S,l,c,u),new Je(_[6],o,x,S,w,c,u),new Je(_[5],w,a,S,l,x,u),new Je(_[4],o,a,S,w,x,u),new Je(_[3],w,x,s,l,c,S),new Je(_[2],o,x,s,w,c,S),new Je(_[1],w,a,s,l,x,S),new Je(_[0],o,a,s,w,x,S)),(h=(n>=S)<<2|(t>=x)<<1|e>=w)&&(d=b[b.length-1],b[b.length-1]=b[b.length-1-h],b[b.length-1-h]=d)}else{var E=e-+this._x.call(null,_.data),T=t-+this._y.call(null,_.data),M=n-+this._z.call(null,_.data),C=E*E+T*T+M*M;if(C<r){var A=Math.sqrt(r=C);f=e-A,p=t-A,m=n-A,g=e+A,v=t+A,y=n+A,i=_.data}}return i}function Ke(e){if(isNaN(o=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e))||isNaN(s=+this._z.call(null,e)))return this;var t,n,r,i,o,a,s,l,c,u,d,h,f,p,m,g=this._root,v=this._x0,y=this._y0,b=this._z0,_=this._x1,w=this._y1,x=this._z1;if(!g)return this;if(g.length)while(1){if((d=o>=(l=(v+_)/2))?v=l:_=l,(h=a>=(c=(y+w)/2))?y=c:w=c,(f=s>=(u=(b+x)/2))?b=u:x=u,t=g,!(g=g[p=f<<2|h<<1|d]))return this;if(!g.length)break;(t[p+1&7]||t[p+2&7]||t[p+3&7]||t[p+4&7]||t[p+5&7]||t[p+6&7]||t[p+7&7])&&(n=t,m=p)}while(g.data!==e)if(r=g,!(g=g.next))return this;return(i=g.next)&&delete g.next,r?(i?r.next=i:delete r.next,this):t?(i?t[p]=i:delete t[p],(g=t[0]||t[1]||t[2]||t[3]||t[4]||t[5]||t[6]||t[7])&&g===(t[7]||t[6]||t[5]||t[4]||t[3]||t[2]||t[1]||t[0])&&!g.length&&(n?n[m]=g:this._root=g),this):(this._root=i,this)}function Qe(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function et(){return this._root}function tt(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e}function nt(e){var t,n,r,i,o,a,s,l,c=[],u=this._root;u&&c.push(new Je(u,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(t=c.pop())if(!e(u=t.node,r=t.x0,i=t.y0,o=t.z0,a=t.x1,s=t.y1,l=t.z1)&&u.length){var d=(r+a)/2,h=(i+s)/2,f=(o+l)/2;(n=u[7])&&c.push(new Je(n,d,h,f,a,s,l)),(n=u[6])&&c.push(new Je(n,r,h,f,d,s,l)),(n=u[5])&&c.push(new Je(n,d,i,f,a,h,l)),(n=u[4])&&c.push(new Je(n,r,i,f,d,h,l)),(n=u[3])&&c.push(new Je(n,d,h,o,a,s,f)),(n=u[2])&&c.push(new Je(n,r,h,o,d,s,f)),(n=u[1])&&c.push(new Je(n,d,i,o,a,h,f)),(n=u[0])&&c.push(new Je(n,r,i,o,d,h,f))}return this}function rt(e){var t,n=[],r=[];this._root&&n.push(new Je(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));while(t=n.pop()){var i=t.node;if(i.length){var o,a=t.x0,s=t.y0,l=t.z0,c=t.x1,u=t.y1,d=t.z1,h=(a+c)/2,f=(s+u)/2,p=(l+d)/2;(o=i[0])&&n.push(new Je(o,a,s,l,h,f,p)),(o=i[1])&&n.push(new Je(o,h,s,l,c,f,p)),(o=i[2])&&n.push(new Je(o,a,f,l,h,u,p)),(o=i[3])&&n.push(new Je(o,h,f,l,c,u,p)),(o=i[4])&&n.push(new Je(o,a,s,p,h,f,d)),(o=i[5])&&n.push(new Je(o,h,s,p,c,f,d)),(o=i[6])&&n.push(new Je(o,a,f,p,h,u,d)),(o=i[7])&&n.push(new Je(o,h,f,p,c,u,d))}r.push(t)}while(t=r.pop())e(t.node,t.x0,t.y0,t.z0,t.x1,t.y1,t.z1);return this}function it(e){return e[0]}function ot(e){return arguments.length?(this._x=e,this):this._x}function at(e){return e[1]}function st(e){return arguments.length?(this._y=e,this):this._y}function lt(e){return e[2]}function ct(e){return arguments.length?(this._z=e,this):this._z}function ut(e,t,n,r){var i=new dt(null==t?it:t,null==n?at:n,null==r?lt:r,NaN,NaN,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function dt(e,t,n,r,i,o,a,s,l){this._x=e,this._y=t,this._z=n,this._x0=r,this._y0=i,this._z0=o,this._x1=a,this._y1=s,this._z1=l,this._root=void 0}function ht(e){var t={data:e.data},n=t;while(e=e.next)n=n.next={data:e.data};return t}He.copy=function(){var e,t,n=new Ve(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ze(r),n;e=[{source:r,target:n._root=new Array(4)}];while(r=e.pop())for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=ze(t));return n},He.add=xe,He.addAll=Ee,He.cover=Te,He.data=Me,He.extent=Ce,He.find=Re,He.remove=ke,He.removeAll=Oe,He.root=Le,He.size=Ie,He.visit=Pe,He.visitAfter=De,He.x=Ue,He.y=Be;var ft=ut.prototype=dt.prototype;function pt(){var e,t,n,r,i,o,a=Z(-30),s=1,l=1/0,c=.81;function u(r){var o,a=e.length,s=(1===t?ye(e,W):2===t?je(e,W,G):3===t?ut(e,W,G,$):null).visitAfter(h);for(i=r,o=0;o<a;++o)n=e[o],s.visit(f)}function d(){if(e){var t,n,r=e.length;for(o=new Array(r),t=0;t<r;++t)n=e[t],o[n.index]=+a(n,t,e)}}function h(e){var n,r,i,a,s,l,c=0,u=0,d=e.length;if(d){for(i=a=s=l=0;l<d;++l)(n=e[l])&&(r=Math.abs(n.value))&&(c+=n.value,u+=r,i+=r*(n.x||0),a+=r*(n.y||0),s+=r*(n.z||0));c*=Math.sqrt(4/d),e.x=i/u,t>1&&(e.y=a/u),t>2&&(e.z=s/u)}else{n=e,n.x=n.data.x,t>1&&(n.y=n.data.y),t>2&&(n.z=n.data.z);do{c+=o[n.data.index]}while(n=n.next)}e.value=c}function f(e,a,u,d,h){if(!e.value)return!0;var f=[u,d,h][t-1],p=e.x-n.x,m=t>1?e.y-n.y:0,g=t>2?e.z-n.z:0,v=f-a,y=p*p+m*m+g*g;if(v*v/c<y)return y<l&&(0===p&&(p=K(r),y+=p*p),t>1&&0===m&&(m=K(r),y+=m*m),t>2&&0===g&&(g=K(r),y+=g*g),y<s&&(y=Math.sqrt(s*y)),n.vx+=p*e.value*i/y,t>1&&(n.vy+=m*e.value*i/y),t>2&&(n.vz+=g*e.value*i/y)),!0;if(!(e.length||y>=l)){(e.data!==n||e.next)&&(0===p&&(p=K(r),y+=p*p),t>1&&0===m&&(m=K(r),y+=m*m),t>2&&0===g&&(g=K(r),y+=g*g),y<s&&(y=Math.sqrt(s*y)));do{e.data!==n&&(v=o[e.data.index]*i/y,n.vx+=p*v,t>1&&(n.vy+=m*v),t>2&&(n.vz+=g*v))}while(e=e.next)}}return u.initialize=function(n,...i){e=n,r=i.find((e=>"function"===typeof e))||Math.random,t=i.find((e=>[1,2,3].includes(e)))||2,d()},u.strength=function(e){return arguments.length?(a="function"===typeof e?e:Z(+e),d(),u):a},u.distanceMin=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.distanceMax=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u.theta=function(e){return arguments.length?(c=e*e,u):Math.sqrt(c)},u}function mt(e,t,n){var r,i=1;function o(){var o,a,s=r.length,l=0,c=0,u=0;for(o=0;o<s;++o)a=r[o],l+=a.x||0,c+=a.y||0,u+=a.z||0;for(l=(l/s-e)*i,c=(c/s-t)*i,u=(u/s-n)*i,o=0;o<s;++o)a=r[o],l&&(a.x-=l),c&&(a.y-=c),u&&(a.z-=u)}return null==e&&(e=0),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){r=e},o.x=function(t){return arguments.length?(e=+t,o):e},o.y=function(e){return arguments.length?(t=+e,o):t},o.z=function(e){return arguments.length?(n=+e,o):n},o.strength=function(e){return arguments.length?(i=+e,o):i},o}function gt(e,t,n,r){var i,o,a,s,l=Z(.1);function c(e){for(var l=0,c=i.length;l<c;++l){var u=i[l],d=u.x-t||1e-6,h=(u.y||0)-n||1e-6,f=(u.z||0)-r||1e-6,p=Math.sqrt(d*d+h*h+f*f),m=(s[l]-p)*a[l]*e/p;u.vx+=d*m,o>1&&(u.vy+=h*m),o>2&&(u.vz+=f*m)}}function u(){if(i){var t,n=i.length;for(a=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(i[t],t,i),a[t]=isNaN(s[t])?0:+l(i[t],t,i)}}return"function"!==typeof e&&(e=Z(+e)),null==t&&(t=0),null==n&&(n=0),null==r&&(r=0),c.initialize=function(e,...t){i=e,o=t.find((e=>[1,2,3].includes(e)))||2,u()},c.strength=function(e){return arguments.length?(l="function"===typeof e?e:Z(+e),u(),c):l},c.radius=function(t){return arguments.length?(e="function"===typeof t?t:Z(+t),u(),c):e},c.x=function(e){return arguments.length?(t=+e,c):t},c.y=function(e){return arguments.length?(n=+e,c):n},c.z=function(e){return arguments.length?(r=+e,c):r},c}ft.copy=function(){var e,t,n=new dt(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root;if(!r)return n;if(!r.length)return n._root=ht(r),n;e=[{source:r,target:n._root=new Array(8)}];while(r=e.pop())for(var i=0;i<8;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(8)}):r.target[i]=ht(t));return n},ft.add=We,ft.addAll=$e,ft.cover=qe,ft.data=Xe,ft.extent=Ye,ft.find=Ze,ft.remove=Ke,ft.removeAll=Qe,ft.root=et,ft.size=tt,ft.visit=nt,ft.visitAfter=rt,ft.x=ot,ft.y=st,ft.z=ct;var vt=n(4747),yt=n(4854);function bt(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var _t=bt,wt="object"==typeof global&&global&&global.Object===Object&&global,xt=wt,St="object"==typeof self&&self&&self.Object===Object&&self,Et=xt||St||Function("return this")(),Tt=Et,Mt=function(){return Tt.Date.now()},Ct=Mt,At=/\s/;function Rt(e){var t=e.length;while(t--&&At.test(e.charAt(t)));return t}var kt=Rt,Ot=/^\s+/;function Lt(e){return e?e.slice(0,kt(e)+1).replace(Ot,""):e}var It=Lt,Pt=Tt.Symbol,Dt=Pt,Nt=Object.prototype,Ut=Nt.hasOwnProperty,Ft=Nt.toString,Bt=Dt?Dt.toStringTag:void 0;function jt(e){var t=Ut.call(e,Bt),n=e[Bt];try{e[Bt]=void 0;var r=!0}catch(o){}var i=Ft.call(e);return r&&(t?e[Bt]=n:delete e[Bt]),i}var Vt=jt,zt=Object.prototype,Ht=zt.toString;function Wt(e){return Ht.call(e)}var Gt=Wt,$t="[object Null]",qt="[object Undefined]",Xt=Dt?Dt.toStringTag:void 0;function Yt(e){return null==e?void 0===e?qt:$t:Xt&&Xt in Object(e)?Vt(e):Gt(e)}var Jt=Yt;function Zt(e){return null!=e&&"object"==typeof e}var Kt=Zt,Qt="[object Symbol]";function en(e){return"symbol"==typeof e||Kt(e)&&Jt(e)==Qt}var tn=en,nn=NaN,rn=/^[-+]0x[0-9a-f]+$/i,on=/^0b[01]+$/i,an=/^0o[0-7]+$/i,sn=parseInt;function ln(e){if("number"==typeof e)return e;if(tn(e))return nn;if(_t(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=_t(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=It(e);var n=on.test(e);return n||an.test(e)?sn(e.slice(2),n?2:8):rn.test(e)?nn:+e}var cn=ln,un="Expected a function",dn=Math.max,hn=Math.min;function fn(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(un);function f(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n),a}function p(e){return c=e,s=setTimeout(v,t),u?f(e):a}function m(e){var n=e-l,r=e-c,i=t-n;return d?hn(i,o-r):i}function g(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||d&&r>=o}function v(){var e=Ct();if(g(e))return y(e);s=setTimeout(v,m(e))}function y(e){return s=void 0,h&&r?f(e):(r=i=void 0,a)}function b(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0}function _(){return void 0===s?a:y(Ct())}function w(){var e=Ct(),n=g(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return p(l);if(d)return clearTimeout(s),s=setTimeout(v,t),f(l)}return void 0===s&&(s=setTimeout(v,t)),a}return t=cn(t)||0,_t(n)&&(u=!!n.leading,d="maxWait"in n,o=d?dn(cn(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),w.cancel=b,w.flush=_,w}var pn=fn;function mn(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tn(r.key),r)}}function yn(e,t,n){return t&&vn(e.prototype,t),n&&vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bn(e,t){return _n(e)||mn(e,t)||wn(e,t)||Sn()}function _n(e){if(Array.isArray(e))return e}function wn(e,t){if(e){if("string"===typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function En(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tn(e){var t=En(e,"string");return"symbol"===typeof t?t:String(t)}var Mn=yn((function e(t,n){var r=n["default"],i=void 0===r?null:r,o=n.triggerUpdate,a=void 0===o||o,s=n.onChange,l=void 0===s?function(e,t){}:s;gn(this,e),this.name=t,this.defaultVal=i,this.triggerUpdate=a,this.onChange=l}));function Cn(e){var t=e.stateInit,n=void 0===t?function(){return{}}:t,r=e.props,i=void 0===r?{}:r,o=e.methods,a=void 0===o?{}:o,s=e.aliases,l=void 0===s?{}:s,c=e.init,u=void 0===c?function(){}:c,d=e.update,h=void 0===d?function(){}:d,f=Object.keys(i).map((function(e){return new Mn(e,i[e])}));return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},n instanceof Function?n(e):n,{initialised:!1}),r={};function i(t){return o(t,e),s(),i}var o=function(e,n){u.call(i,e,t,n),t.initialised=!0},s=pn((function(){t.initialised&&(h.call(i,t,r),r={})}),1);return f.forEach((function(e){function n(e){var n=e.name,o=e.triggerUpdate,a=void 0!==o&&o,l=e.onChange,c=void 0===l?function(e,t){}:l,u=e.defaultVal,d=void 0===u?null:u;return function(e){var o=t[n];if(!arguments.length)return o;var l=void 0===e?d:e;return t[n]=l,c.call(i,l,t,o),!r.hasOwnProperty(n)&&(r[n]=o),a&&s(),i}}i[e.name]=n(e)})),Object.keys(a).forEach((function(e){i[e]=function(){for(var n,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(n=a[e]).call.apply(n,[i,t].concat(o))}})),Object.entries(l).forEach((function(e){var t=bn(e,2),n=t[0],r=t[1];return i[n]=i[r]})),i.resetProps=function(){return f.forEach((function(e){i[e.name](e.defaultVal)})),i},i.resetProps(),t._rerender=s,i}}var An=function(e){return"function"===typeof e?e:"string"===typeof e?function(t){return t[e]}:function(t){return e}};function Rn(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function kn(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function On(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function Ln(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function In(e,t){if(null==e)return{};var n,r,i=Ln(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pn(e,t){return Un(e)||On(e,t)||Bn(e,t)||zn()}function Dn(e){return Nn(e)||Fn(e)||Bn(e)||Vn()}function Nn(e){if(Array.isArray(e))return jn(e)}function Un(e){if(Array.isArray(e))return e}function Fn(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Bn(e,t){if(e){if("string"===typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(e,t):void 0}}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Hn(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Wn(e){var t=Hn(e,"string");return"symbol"===typeof t?t:String(t)}var Gn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=(t instanceof Array?t.length?t:[void 0]:[t]).map((function(e){return{keyAccessor:e,isProp:!(e instanceof Function)}})),o=e.reduce((function(e,t){var r=e,o=t;return i.forEach((function(e,t){var a,s=e.keyAccessor,l=e.isProp;if(l){var c=o,u=c[s],d=In(c,[s].map(Wn));a=u,o=d}else a=s(o,t);t+1<i.length?(r.hasOwnProperty(a)||(r[a]={}),r=r[a]):n?(r.hasOwnProperty(a)||(r[a]=[]),r[a].push(o)):r[a]=o})),e}),{});n instanceof Function&&function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;r===i.length?Object.keys(t).forEach((function(e){return t[e]=n(t[e])})):Object.values(t).forEach((function(t){return e(t,r+1)}))}(o);var a=o;return r&&(a=[],function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length===i.length?a.push({keys:n,vals:t}):Object.entries(t).forEach((function(t){var r=Pn(t,2),i=r[0],o=r[1];return e(o,[].concat(Dn(n),[i]))}))}(o),t instanceof Array&&0===t.length&&1===a.length&&(a[0].keys=[])),a};function $n(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yn(e,t,n){return t=lr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jn(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Zn(e,t){if(null==e)return{};var n,r,i=Jn(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kn(e,t){return tr(e)||$n(e,t)||rr(e,t)||ar()}function Qn(e){return er(e)||nr(e)||rr(e)||or()}function er(e){if(Array.isArray(e))return ir(e)}function tr(e){if(Array.isArray(e))return e}function nr(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rr(e,t){if(e){if("string"===typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ir(e,t):void 0}}function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function or(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ar(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sr(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function lr(e){var t=sr(e,"string");return"symbol"===typeof t?t:String(t)}var cr=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function ur(e,t,n){var r={enter:[],update:[],exit:[]};if(n){var i=Gn(e,n,!1),o=Gn(t,n,!1),a=Object.assign({},i,o);Object.entries(a).forEach((function(e){var t=Kn(e,2),n=t[0],a=t[1],s=i.hasOwnProperty(n)?o.hasOwnProperty(n)?"update":"exit":"enter";r[s].push("update"===s?[i[n],o[n]]:a)}))}else{var s=new Set(e),l=new Set(t);new Set([].concat(Qn(s),Qn(l))).forEach((function(e){var t=s.has(e)?l.has(e)?"update":"exit":"enter";r[t].push("update"===t?[e,e]:e)}))}return r}function dr(e,t,n){var r=n.objBindAttr,i=void 0===r?"__obj":r,o=n.dataBindAttr,a=void 0===o?"__data":o,s=n.idAccessor,l=n.purge,c=void 0!==l&&l,u=function(e){return e.hasOwnProperty(a)},d=t.filter((function(e){return!u(e)})),h=t.filter(u).map((function(e){return e[a]})),f=e,p=c?{enter:f,exit:h,update:[]}:ur(h,f,s);return p.update=p.update.map((function(e){var t=Kn(e,2),n=t[0],r=t[1];return n!==r&&(r[i]=n[i],r[i][a]=r),r})),p.exit=p.exit.concat(d.map((function(e){return Yn({},i,e)}))),p}function hr(e,t,n,r,i){var o=i.createObj,a=void 0===o?function(e){return{}}:o,s=i.updateObj,l=void 0===s?function(e,t){}:s,c=i.exitObj,u=void 0===c?function(e){}:c,d=i.objBindAttr,h=void 0===d?"__obj":d,f=i.dataBindAttr,p=void 0===f?"__data":f,m=Zn(i,cr),g=dr(e,t,Xn({objBindAttr:h,dataBindAttr:p},m)),v=g.enter,y=g.update,b=g.exit;b.forEach((function(e){var t=e[h];delete e[h],u(t),r(t)}));var _=x(v),w=[].concat(Qn(v),Qn(y));function x(e){var t=[];return e.forEach((function(e){var n=a(e);n&&(n[p]=e,e[h]=n,t.push(n))})),t}function S(e){e.forEach((function(e){var t=e[h];t&&(t[p]=e,l(t,e))}))}S(w),_.forEach(n)}class fr extends Map{constructor(e,t=vr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(pr(this,e))}has(e){return super.has(pr(this,e))}set(e,t){return super.set(mr(this,e),t)}delete(e){return super.delete(gr(this,e))}}function pr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function mr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function gr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function vr(e){return null!==e&&"object"===typeof e?e.valueOf():e}function yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const br=Symbol("implicit");function _r(){var e=new fr,t=[],n=[],r=br;function i(i){let o=e.get(i);if(void 0===o){if(r!==br)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new fr;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return _r(t,n).unknown(r)},yr.apply(i,arguments),i}function wr(e){var t=e.length/6|0,n=new Array(t),r=0;while(r<t)n[r]="#"+e.slice(6*r,6*++r);return n}var xr=wr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Sr(e){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(e)}var Er=/^\s+/,Tr=/\s+$/;function Mr(e,t){if(e=e||"",t=t||{},e instanceof Mr)return e;if(!(this instanceof Mr))return new Mr(e,t);var n=Cr(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function Cr(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=ci(e)),"object"==Sr(e)&&(li(e.r)&&li(e.g)&&li(e.b)?(t=Ar(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):li(e.h)&&li(e.s)&&li(e.v)?(r=ii(e.s),i=ii(e.v),t=Lr(e.h,r,i),a=!0,s="hsv"):li(e.h)&&li(e.s)&&li(e.l)&&(r=ii(e.s),o=ii(e.l),t=kr(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Zr(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Ar(e,t,n){return{r:255*Kr(e,255),g:255*Kr(t,255),b:255*Kr(n,255)}}function Rr(e,t,n){e=Kr(e,255),t=Kr(t,255),n=Kr(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:i,l:s}}function kr(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=Kr(e,360),t=Kr(t,100),n=Kr(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}function Or(e,t,n){e=Kr(e,255),t=Kr(t,255),n=Kr(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4;break}r/=6}return{h:r,s:i,v:s}}function Lr(e,t,n){e=6*Kr(e,360),t=Kr(t,100),n=Kr(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],d=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*d}}function Ir(e,t,n,r){var i=[ri(Math.round(e).toString(16)),ri(Math.round(t).toString(16)),ri(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pr(e,t,n,r,i){var o=[ri(Math.round(e).toString(16)),ri(Math.round(t).toString(16)),ri(Math.round(n).toString(16)),ri(oi(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Dr(e,t,n,r){var i=[ri(oi(r)),ri(Math.round(e).toString(16)),ri(Math.round(t).toString(16)),ri(Math.round(n).toString(16))];return i.join("")}function Nr(e,t){t=0===t?0:t||10;var n=Mr(e).toHsl();return n.s-=t/100,n.s=Qr(n.s),Mr(n)}function Ur(e,t){t=0===t?0:t||10;var n=Mr(e).toHsl();return n.s+=t/100,n.s=Qr(n.s),Mr(n)}function Fr(e){return Mr(e).desaturate(100)}function Br(e,t){t=0===t?0:t||10;var n=Mr(e).toHsl();return n.l+=t/100,n.l=Qr(n.l),Mr(n)}function jr(e,t){t=0===t?0:t||10;var n=Mr(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Mr(n)}function Vr(e,t){t=0===t?0:t||10;var n=Mr(e).toHsl();return n.l-=t/100,n.l=Qr(n.l),Mr(n)}function zr(e,t){var n=Mr(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Mr(n)}function Hr(e){var t=Mr(e).toHsl();return t.h=(t.h+180)%360,Mr(t)}function Wr(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Mr(e).toHsl(),r=[Mr(e)],i=360/t,o=1;o<t;o++)r.push(Mr({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function Gr(e){var t=Mr(e).toHsl(),n=t.h;return[Mr(e),Mr({h:(n+72)%360,s:t.s,l:t.l}),Mr({h:(n+216)%360,s:t.s,l:t.l})]}function $r(e,t,n){t=t||6,n=n||30;var r=Mr(e).toHsl(),i=360/n,o=[Mr(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(Mr(r));return o}function qr(e,t){t=t||6;var n=Mr(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;while(t--)a.push(Mr({h:r,s:i,v:o})),o=(o+s)%1;return a}Mr.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r,i,o,a=this.toRgb();return e=a.r/255,t=a.g/255,n=a.b/255,r=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),i=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4),.2126*r+.7152*i+.0722*o},setAlpha:function(e){return this._a=Zr(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Or(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Or(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Rr(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Rr(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Ir(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Pr(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*Kr(this._r,255))+"%",g:Math.round(100*Kr(this._g,255))+"%",b:Math.round(100*Kr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*Kr(this._r,255))+"%, "+Math.round(100*Kr(this._g,255))+"%, "+Math.round(100*Kr(this._b,255))+"%)":"rgba("+Math.round(100*Kr(this._r,255))+"%, "+Math.round(100*Kr(this._g,255))+"%, "+Math.round(100*Kr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Yr[Ir(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Dr(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=Mr(e);n="#"+Dr(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!t&&r&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e);return i?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return Mr(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Br,arguments)},brighten:function(){return this._applyModification(jr,arguments)},darken:function(){return this._applyModification(Vr,arguments)},desaturate:function(){return this._applyModification(Nr,arguments)},saturate:function(){return this._applyModification(Ur,arguments)},greyscale:function(){return this._applyModification(Fr,arguments)},spin:function(){return this._applyModification(zr,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination($r,arguments)},complement:function(){return this._applyCombination(Hr,arguments)},monochromatic:function(){return this._applyCombination(qr,arguments)},splitcomplement:function(){return this._applyCombination(Gr,arguments)},triad:function(){return this._applyCombination(Wr,[3])},tetrad:function(){return this._applyCombination(Wr,[4])}},Mr.fromRatio=function(e,t){if("object"==Sr(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:ii(e[r]));e=n}return Mr(e,t)},Mr.equals=function(e,t){return!(!e||!t)&&Mr(e).toRgbString()==Mr(t).toRgbString()},Mr.random=function(){return Mr.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Mr.mix=function(e,t,n){n=0===n?0:n||50;var r=Mr(e).toRgb(),i=Mr(t).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return Mr(a)},Mr.readability=function(e,t){var n=Mr(e),r=Mr(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Mr.isReadable=function(e,t,n){var r,i,o=Mr.readability(e,t);switch(i=!1,r=ui(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7;break}return i},Mr.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;n=n||{},i=n.includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)r=Mr.readability(e,t[c]),r>l&&(l=r,s=Mr(t[c]));return Mr.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,Mr.mostReadable(e,["#fff","#000"],n))};var Xr=Mr.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Yr=Mr.hexNames=Jr(Xr);function Jr(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Zr(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Kr(e,t){ti(e)&&(e="100%");var n=ni(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function Qr(e){return Math.min(1,Math.max(0,e))}function ei(e){return parseInt(e,16)}function ti(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function ni(e){return"string"===typeof e&&-1!=e.indexOf("%")}function ri(e){return 1==e.length?"0"+e:""+e}function ii(e){return e<=1&&(e=100*e+"%"),e}function oi(e){return Math.round(255*parseFloat(e)).toString(16)}function ai(e){return ei(e)/255}var si=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function li(e){return!!si.CSS_UNIT.exec(e)}function ci(e){e=e.replace(Er,"").replace(Tr,"").toLowerCase();var t,n=!1;if(Xr[e])e=Xr[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=si.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=si.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=si.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=si.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=si.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=si.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=si.hex8.exec(e))?{r:ei(t[1]),g:ei(t[2]),b:ei(t[3]),a:ai(t[4]),format:n?"name":"hex8"}:(t=si.hex6.exec(e))?{r:ei(t[1]),g:ei(t[2]),b:ei(t[3]),format:n?"name":"hex"}:(t=si.hex4.exec(e))?{r:ei(t[1]+""+t[1]),g:ei(t[2]+""+t[2]),b:ei(t[3]+""+t[3]),a:ai(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=si.hex3.exec(e))&&{r:ei(t[1]+""+t[1]),g:ei(t[2]+""+t[2]),b:ei(t[3]+""+t[3]),format:n?"name":"hex"}}function ui(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:t,size:n}}function di(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach((function(t){yi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bi(r.key),r)}}function vi(e,t,n){return t&&gi(e.prototype,t),n&&gi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yi(e,t,n){return t=Bi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}function _i(e){return _i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_i(e)}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}function xi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Si(e,t,n){return Si=xi()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&wi(o,n.prototype),o},Si.apply(null,arguments)}function Ei(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Ti(e,t){if(null==e)return{};var n,r,i=Ei(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ci(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mi(e)}function Ai(e){var t=xi();return function(){var n,r=_i(e);if(t){var i=_i(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ci(this,n)}}function Ri(e,t){return Li(e)||di(e,t)||Pi(e,t)||Ui()}function ki(e){return Oi(e)||Ii(e)||Pi(e)||Ni()}function Oi(e){if(Array.isArray(e))return Di(e)}function Li(e){if(Array.isArray(e))return e}function Ii(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Pi(e,t){if(e){if("string"===typeof e)return Di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(e,t):void 0}}function Di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ni(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ui(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fi(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Bi(e){var t=Fi(e,"string");return"symbol"===typeof t?t:String(t)}var ji=function e(t){t instanceof Array?t.forEach(e):(t.map&&t.map.dispose(),t.dispose())},Vi=function e(t){t.geometry&&t.geometry.dispose(),t.material&&ji(t.material),t.texture&&t.texture.dispose(),t.children&&t.children.forEach(e)},zi=function(e){while(e.children.length){var t=e.children[0];e.remove(t),Vi(t)}},Hi=["objFilter"];function Wi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.objFilter,i=void 0===r?function(){return!0}:r,o=Ti(n,Hi);return hr(e,t.children.filter(i),(function(e){return t.add(e)}),(function(e){t.remove(e),zi(e)}),fi({objBindAttr:"__threeObj"},o))}var Gi=function(e){return isNaN(e)?parseInt(Mr(e).toHex(),16):e},$i=function(e){return isNaN(e)?Mr(e).getAlpha():1},qi=_r(xr);function Xi(e,t,n){t&&"string"===typeof n&&e.filter((function(e){return!e[n]})).forEach((function(e){e[n]=qi(t(e))}))}function Yi(e,t){var n=e.nodes,r=e.links,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.nodeFilter,a=void 0===o?function(){return!0}:o,s=i.onLoopError,l=void 0===s?function(e){throw"Invalid DAG structure! Found cycle in node path: ".concat(e.join(" -> "),".")}:s,c={};n.forEach((function(e){return c[t(e)]={data:e,out:[],depth:-1,skip:!a(e)}})),r.forEach((function(e){var n=e.source,r=e.target,i=l(n),o=l(r);if(!c.hasOwnProperty(i))throw"Missing source node with id: ".concat(i);if(!c.hasOwnProperty(o))throw"Missing target node with id: ".concat(o);var a=c[i],s=c[o];function l(e){return"object"===pi(e)?t(e):e}a.out.push(s)}));var u=[];h(Object.values(c));var d=Object.assign.apply(Object,[{}].concat(ki(Object.entries(c).filter((function(e){var t=Ri(e,2),n=t[1];return!n.skip})).map((function(e){var t=Ri(e,2),n=t[0],r=t[1];return yi({},n,r.depth)})))));return d;function h(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=function(){var i=e[o];if(-1!==n.indexOf(i)){var a=[].concat(ki(n.slice(n.indexOf(i))),[i]).map((function(e){return t(e.data)}));return u.some((function(e){return e.length===a.length&&e.every((function(e,t){return e===a[t]}))}))||(u.push(a),l(a)),"continue"}r>i.depth&&(i.depth=r,h(i.out,[].concat(ki(n),[i]),r+(i.skip?0:1)))},o=0,a=e.length;o<a;o++)i()}}var Ji=window.THREE?window.THREE:{Group:r.ZAu,Mesh:r.Kj0,MeshLambertMaterial:r.YBo,Color:r.Ilk,BufferGeometry:r.u9r,BufferAttribute:r.TlE,Matrix4:r.yGw,Vector3:r.Pa4,SphereGeometry:r.xo$,CylinderGeometry:r.fHI,TubeGeometry:r.WXh,ConeGeometry:r.b_z,Line:r.x12,LineBasicMaterial:r.nls,QuadraticBezierCurve3:r.mXe,CubicBezierCurve3:r.yj7,Box3:r.ZzF},Zi={graph:vt,forcelayout:yt},Ki=2,Qi=(new Ji.BufferGeometry).setAttribute?"setAttribute":"addAttribute",eo=(new Ji.BufferGeometry).applyMatrix4?"applyMatrix4":"applyMatrix",to=Cn({props:{jsonUrl:{onChange:function(e,t){var n=this;e&&!t.fetchingJson&&(t.fetchingJson=!0,t.onLoading(),fetch(e).then((function(e){return e.json()})).then((function(e){t.fetchingJson=!1,t.onFinishLoading(e),n.graphData(e)})))},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(e,t){t.engineRunning=!1}},numDimensions:{default:3,onChange:function(e,t){var n=t.d3ForceLayout.force("charge");function r(e,t){e.forEach((function(e){delete e[t],delete e["v".concat(t)]}))}n&&n.strength(e>2?-60:-30),e<3&&r(t.graphData.nodes,"z"),e<2&&r(t.graphData.nodes,"y")}},dagMode:{onChange:function(e,t){!e&&"d3"===t.forceEngine&&(t.graphData.nodes||[]).forEach((function(e){return e.fx=e.fy=e.fz=void 0}))}},dagLevelDistance:{},dagNodeFilter:{default:function(e){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4},nodeId:{default:"id"},nodeVal:{default:"val"},nodeResolution:{default:8},nodeColor:{default:"color"},nodeAutoColorBy:{},nodeOpacity:{default:.75},nodeVisibility:{default:!0},nodeThreeObject:{},nodeThreeObjectExtend:{default:!1},nodePositionUpdate:{triggerUpdate:!1},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0},linkColor:{default:"color"},linkAutoColorBy:{},linkOpacity:{default:.2},linkWidth:{},linkResolution:{default:6},linkCurvature:{default:0,triggerUpdate:!1},linkCurveRotation:{default:0,triggerUpdate:!1},linkMaterial:{},linkThreeObject:{},linkThreeObjectExtend:{default:!1},linkPositionUpdate:{triggerUpdate:!1},linkDirectionalArrowLength:{default:0},linkDirectionalArrowColor:{},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1},linkDirectionalArrowResolution:{default:8},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:.5},linkDirectionalParticleColor:{},linkDirectionalParticleResolution:{default:4},forceEngine:{default:"d3"},d3AlphaMin:{default:0},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaDecay(e)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.alphaTarget(e)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(e,t){t.d3ForceLayout.velocityDecay(e)}},ngraphPhysics:{default:{timeStep:20,gravity:-1.2,theta:.8,springLength:30,springCoefficient:8e-4,dragCoefficient:.02}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onLoading:{default:function(){},triggerUpdate:!1},onFinishLoading:{default:function(){},triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1}},methods:{refresh:function(e){return e._flushObjects=!0,e._rerender(),this},d3Force:function(e,t,n){return void 0===n?e.d3ForceLayout.force(t):(e.d3ForceLayout.force(t,n),this)},d3ReheatSimulation:function(e){return e.d3ForceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(e){return e.cntTicks=0,e.startTickTime=new Date,e.engineRunning=!0,this},tickFrame:function(e){var t="ngraph"!==e.forceEngine;return e.engineRunning&&n(),r(),i(),this;function n(){++e.cntTicks>e.cooldownTicks||new Date-e.startTickTime>e.cooldownTime||t&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin?(e.engineRunning=!1,e.onEngineStop()):(e.layout[t?"tick":"step"](),e.onEngineTick());var n=An(e.nodeThreeObjectExtend);e.graphData.nodes.forEach((function(r){var i=r.__threeObj;if(i){var o=t?r:e.layout.getNodePosition(r[e.nodeId]),a=n(r);e.nodePositionUpdate&&e.nodePositionUpdate(a?i.children[0]:i,{x:o.x,y:o.y,z:o.z},r)&&!a||(i.position.x=o.x,i.position.y=o.y||0,i.position.z=o.z||0)}}));var r=An(e.linkWidth),i=An(e.linkCurvature),o=An(e.linkCurveRotation),a=An(e.linkThreeObjectExtend);function s(n){var r=t?n:e.layout.getLinkPosition(e.layout.graph.getLink(n.source,n.target).id),a=r[t?"source":"from"],s=r[t?"target":"to"];if(a&&s&&a.hasOwnProperty("x")&&s.hasOwnProperty("x")){var l=i(n);if(l){var c,u=new Ji.Vector3(a.x,a.y||0,a.z||0),d=new Ji.Vector3(s.x,s.y||0,s.z||0),h=u.distanceTo(d),f=o(n);if(h>0){var p=s.x-a.x,m=s.y-a.y||0,g=(new Ji.Vector3).subVectors(d,u),v=g.clone().multiplyScalar(l).cross(0!==p||0!==m?new Ji.Vector3(0,0,1):new Ji.Vector3(0,1,0)).applyAxisAngle(g.normalize(),f).add((new Ji.Vector3).addVectors(u,d).divideScalar(2));c=new Ji.QuadraticBezierCurve3(u,v,d)}else{var y=70*l,b=-f,_=b+Math.PI/2;c=new Ji.CubicBezierCurve3(u,new Ji.Vector3(y*Math.cos(_),y*Math.sin(_),0).add(u),new Ji.Vector3(y*Math.cos(b),y*Math.sin(b),0).add(u),d)}n.__curve=c}else n.__curve=null}}e.graphData.links.forEach((function(n){var i=n.__lineObj;if(i){var o=t?n:e.layout.getLinkPosition(e.layout.graph.getLink(n.source,n.target).id),l=o[t?"source":"from"],c=o[t?"target":"to"];if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){s(n);var u=a(n);if(!e.linkPositionUpdate||!e.linkPositionUpdate(u?i.children[1]:i,{start:{x:l.x,y:l.y,z:l.z},end:{x:c.x,y:c.y,z:c.z}},n)||u){var d=30,h=n.__curve,f=i.children.length?i.children[0]:i;if("Line"===f.type){if(h)f.geometry.setFromPoints(h.getPoints(d));else{var p=f.geometry.getAttribute("position");p&&p.array&&6===p.array.length||f.geometry[Qi]("position",p=new Ji.BufferAttribute(new Float32Array(6),3)),p.array[0]=l.x,p.array[1]=l.y||0,p.array[2]=l.z||0,p.array[3]=c.x,p.array[4]=c.y||0,p.array[5]=c.z||0,p.needsUpdate=!0}f.geometry.computeBoundingSphere()}else if("Mesh"===f.type)if(h){f.geometry.type.match(/^Tube(Buffer)?Geometry$/)||(f.position.set(0,0,0),f.rotation.set(0,0,0),f.scale.set(1,1,1));var m=Math.ceil(10*r(n))/10,g=m/2,v=new Ji.TubeGeometry(h,d,g,e.linkResolution,!1);f.geometry.dispose(),f.geometry=v}else{if(!f.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)){var y=Math.ceil(10*r(n))/10,b=y/2,_=new Ji.CylinderGeometry(b,b,1,e.linkResolution,1,!1);_[eo]((new Ji.Matrix4).makeTranslation(0,.5,0)),_[eo]((new Ji.Matrix4).makeRotationX(Math.PI/2)),f.geometry.dispose(),f.geometry=_}var w=new Ji.Vector3(l.x,l.y||0,l.z||0),x=new Ji.Vector3(c.x,c.y||0,c.z||0),S=w.distanceTo(x);f.position.x=w.x,f.position.y=w.y,f.position.z=w.z,f.scale.z=S,f.parent.localToWorld(x),f.lookAt(x)}}}}}))}function r(){var n=An(e.linkDirectionalArrowRelPos),r=An(e.linkDirectionalArrowLength),i=An(e.nodeVal);e.graphData.links.forEach((function(o){var a=o.__arrowObj;if(a){var s=t?o:e.layout.getLinkPosition(e.layout.graph.getLink(o.source,o.target).id),l=s[t?"source":"from"],c=s[t?"target":"to"];if(l&&c&&l.hasOwnProperty("x")&&c.hasOwnProperty("x")){var u=Math.cbrt(Math.max(0,i(l)||1))*e.nodeRelSize,d=Math.cbrt(Math.max(0,i(c)||1))*e.nodeRelSize,h=r(o),f=n(o),p=o.__curve?function(e){return o.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",l,c,e),y:t("y",l,c,e),z:t("z",l,c,e)}},m=o.__curve?o.__curve.getLength():Math.sqrt(["x","y","z"].map((function(e){return Math.pow((c[e]||0)-(l[e]||0),2)})).reduce((function(e,t){return e+t}),0)),g=u+h+(m-u-d-h)*f,v=p(g/m),y=p((g-h)/m);["x","y","z"].forEach((function(e){return a.position[e]=y[e]}));var b=Si(Ji.Vector3,ki(["x","y","z"].map((function(e){return v[e]}))));a.parent.localToWorld(b),a.lookAt(b)}}}))}function i(){var n=An(e.linkDirectionalParticleSpeed);e.graphData.links.forEach((function(r){var i=r.__photonsObj&&r.__photonsObj.children,o=r.__singleHopPhotonsObj&&r.__singleHopPhotonsObj.children;if(o&&o.length||i&&i.length){var a=t?r:e.layout.getLinkPosition(e.layout.graph.getLink(r.source,r.target).id),s=a[t?"source":"from"],l=a[t?"target":"to"];if(s&&l&&s.hasOwnProperty("x")&&l.hasOwnProperty("x")){var c=n(r),u=r.__curve?function(e){return r.__curve.getPoint(e)}:function(e){var t=function(e,t,n,r){return t[e]+(n[e]-t[e])*r||0};return{x:t("x",s,l,e),y:t("y",s,l,e),z:t("z",s,l,e)}},d=[].concat(ki(i||[]),ki(o||[]));d.forEach((function(e,t){var n="singleHopPhotons"===e.parent.__linkThreeObjType;if(e.hasOwnProperty("__progressRatio")||(e.__progressRatio=n?0:t/i.length),e.__progressRatio+=c,e.__progressRatio>=1){if(n)return e.parent.remove(e),void zi(e);e.__progressRatio=e.__progressRatio%1}var r=e.__progressRatio,o=u(r);["x","y","z"].forEach((function(t){return e.position[t]=o[t]}))}))}}}))}},emitParticle:function(e,t){if(t&&e.graphData.links.includes(t)){if(!t.__singleHopPhotonsObj){var n=new Ji.Group;n.__linkThreeObjType="singleHopPhotons",t.__singleHopPhotonsObj=n,e.graphScene.add(n)}var r=An(e.linkDirectionalParticleWidth),i=Math.ceil(10*r(t))/10/2,o=e.linkDirectionalParticleResolution,a=new Ji.SphereGeometry(i,o,o),s=An(e.linkColor),l=An(e.linkDirectionalParticleColor),c=l(t)||s(t)||"#f0f0f0",u=new Ji.Color(Gi(c)),d=3*e.linkOpacity,h=new Ji.MeshLambertMaterial({color:u,transparent:!0,opacity:d});t.__singleHopPhotonsObj.add(new Ji.Mesh(a,h))}return this},getGraphBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};if(!e.initialised)return null;var n=function e(n){var r=[];if(n.geometry){n.geometry.computeBoundingBox();var i=new Ji.Box3;i.copy(n.geometry.boundingBox).applyMatrix4(n.matrixWorld),r.push(i)}return r.concat.apply(r,ki((n.children||[]).filter((function(e){return!e.hasOwnProperty("__graphObjType")||"node"===e.__graphObjType&&t(e.__data)})).map(e)))}(e.graphScene);return n.length?Object.assign.apply(Object,ki(["x","y","z"].map((function(e){return yi({},e,[Rn(n,(function(t){return t.min[e]})),kn(n,(function(t){return t.max[e]}))])})))):null}},stateInit:function(){return{d3ForceLayout:J().force("link",te()).force("charge",pt()).force("center",mt()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(e,t){t.graphScene=e},update:function(e,t){var n=function(e){return e.some((function(e){return t.hasOwnProperty(e)}))};if(e.engineRunning=!1,e.onUpdate(),null!==e.nodeAutoColorBy&&n(["nodeAutoColorBy","graphData","nodeColor"])&&Xi(e.graphData.nodes,An(e.nodeAutoColorBy),e.nodeColor),null!==e.linkAutoColorBy&&n(["linkAutoColorBy","graphData","linkColor"])&&Xi(e.graphData.links,An(e.linkAutoColorBy),e.linkColor),e._flushObjects||n(["graphData","nodeThreeObject","nodeThreeObjectExtend","nodeVal","nodeColor","nodeVisibility","nodeRelSize","nodeResolution","nodeOpacity"])){var r=An(e.nodeThreeObject),i=An(e.nodeThreeObjectExtend),o=An(e.nodeVal),a=An(e.nodeColor),s=An(e.nodeVisibility),l={},c={};Wi(e.graphData.nodes.filter(s),e.graphScene,{purge:e._flushObjects||n(["nodeThreeObject","nodeThreeObjectExtend"]),objFilter:function(e){return"node"===e.__graphObjType},createObj:function(t){var n,o=r(t),a=i(t);return o&&e.nodeThreeObject===o&&(o=o.clone()),o&&!a?n=o:(n=new Ji.Mesh,n.__graphDefaultObj=!0,o&&a&&n.add(o)),n.__graphObjType="node",n},updateObj:function(t,n){if(t.__graphDefaultObj){var r=o(n)||1,i=Math.cbrt(r)*e.nodeRelSize,s=e.nodeResolution;t.geometry.type.match(/^Sphere(Buffer)?Geometry$/)&&t.geometry.parameters.radius===i&&t.geometry.parameters.widthSegments===s||(l.hasOwnProperty(r)||(l[r]=new Ji.SphereGeometry(i,s,s)),t.geometry.dispose(),t.geometry=l[r]);var u=a(n),d=new Ji.Color(Gi(u||"#ffffaa")),h=e.nodeOpacity*$i(u);"MeshLambertMaterial"===t.material.type&&t.material.color.equals(d)&&t.material.opacity===h||(c.hasOwnProperty(u)||(c[u]=new Ji.MeshLambertMaterial({color:d,transparent:!0,opacity:h})),t.material.dispose(),t.material=c[u])}}})}if(e._flushObjects||n(["graphData","linkThreeObject","linkThreeObjectExtend","linkMaterial","linkColor","linkWidth","linkVisibility","linkResolution","linkOpacity","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution"])){var u=An(e.linkThreeObject),d=An(e.linkThreeObjectExtend),h=An(e.linkMaterial),f=An(e.linkVisibility),p=An(e.linkColor),m=An(e.linkWidth),g={},v={},y={},b=e.graphData.links.filter(f);if(Wi(b,e.graphScene,{objBindAttr:"__lineObj",purge:e._flushObjects||n(["linkThreeObject","linkThreeObjectExtend","linkWidth"]),objFilter:function(e){return"link"===e.__graphObjType},exitObj:function(e){var t=e.__data&&e.__data.__singleHopPhotonsObj;t&&(t.parent.remove(t),zi(t),delete e.__data.__singleHopPhotonsObj)},createObj:function(t){var n,r,i=u(t),o=d(t);if(i&&e.linkThreeObject===i&&(i=i.clone()),!i||o){var a=!!m(t);if(a)n=new Ji.Mesh;else{var s=new Ji.BufferGeometry;s[Qi]("position",new Ji.BufferAttribute(new Float32Array(6),3)),n=new Ji.Line(s)}}return i?o?(r=new Ji.Group,r.__graphDefaultObj=!0,r.add(n),r.add(i)):r=i:(r=n,r.__graphDefaultObj=!0),r.renderOrder=10,r.__graphObjType="link",r},updateObj:function(t,n){if(t.__graphDefaultObj){var r=t.children.length?t.children[0]:t,i=Math.ceil(10*m(n))/10,o=!!i;if(o){var a=i/2,s=e.linkResolution;if(!r.geometry.type.match(/^Cylinder(Buffer)?Geometry$/)||r.geometry.parameters.radiusTop!==a||r.geometry.parameters.radialSegments!==s){if(!g.hasOwnProperty(i)){var l=new Ji.CylinderGeometry(a,a,1,s,1,!1);l[eo]((new Ji.Matrix4).makeTranslation(0,.5,0)),l[eo]((new Ji.Matrix4).makeRotationX(Math.PI/2)),g[i]=l}r.geometry.dispose(),r.geometry=g[i]}}var c=h(n);if(c)r.material=c;else{var u=p(n),d=new Ji.Color(Gi(u||"#f0f0f0")),f=e.linkOpacity*$i(u),b=o?"MeshLambertMaterial":"LineBasicMaterial";if(r.material.type!==b||!r.material.color.equals(d)||r.material.opacity!==f){var _=o?v:y;_.hasOwnProperty(u)||(_[u]=new Ji[b]({color:d,transparent:f<1,opacity:f,depthWrite:f>=1})),r.material.dispose(),r.material=_[u]}}}}}),e.linkDirectionalArrowLength||t.hasOwnProperty("linkDirectionalArrowLength")){var _=An(e.linkDirectionalArrowLength),w=An(e.linkDirectionalArrowColor);Wi(b.filter(_),e.graphScene,{objBindAttr:"__arrowObj",objFilter:function(e){return"arrow"===e.__linkThreeObjType},createObj:function(){var e=new Ji.Mesh(void 0,new Ji.MeshLambertMaterial({transparent:!0}));return e.__linkThreeObjType="arrow",e},updateObj:function(t,n){var r=_(n),i=e.linkDirectionalArrowResolution;if(!t.geometry.type.match(/^Cone(Buffer)?Geometry$/)||t.geometry.parameters.height!==r||t.geometry.parameters.radialSegments!==i){var o=new Ji.ConeGeometry(.25*r,r,i);o.translate(0,r/2,0),o.rotateX(Math.PI/2),t.geometry.dispose(),t.geometry=o}var a=w(n)||p(n)||"#f0f0f0";t.material.color=new Ji.Color(Gi(a)),t.material.opacity=3*e.linkOpacity*$i(a)}})}if(e.linkDirectionalParticles||t.hasOwnProperty("linkDirectionalParticles")){var x=An(e.linkDirectionalParticles),S=An(e.linkDirectionalParticleWidth),E=An(e.linkDirectionalParticleColor),T={},M={};Wi(b.filter(x),e.graphScene,{objBindAttr:"__photonsObj",objFilter:function(e){return"photons"===e.__linkThreeObjType},createObj:function(){var e=new Ji.Group;return e.__linkThreeObjType="photons",e},updateObj:function(t,n){var r,i=Math.round(Math.abs(x(n))),o=!!t.children.length&&t.children[0],a=Math.ceil(10*S(n))/10/2,s=e.linkDirectionalParticleResolution;o&&o.geometry.parameters.radius===a&&o.geometry.parameters.widthSegments===s?r=o.geometry:(M.hasOwnProperty(a)||(M[a]=new Ji.SphereGeometry(a,s,s)),r=M[a],o&&o.geometry.dispose());var l,c=E(n)||p(n)||"#f0f0f0",u=new Ji.Color(Gi(c)),d=3*e.linkOpacity;o&&o.material.color.equals(u)&&o.material.opacity===d?l=o.material:(T.hasOwnProperty(c)||(T[c]=new Ji.MeshLambertMaterial({color:u,transparent:!0,opacity:d})),l=T[c],o&&o.material.dispose()),Wi(ki(new Array(i)).map((function(e,t){return{idx:t}})),t,{idAccessor:function(e){return e.idx},createObj:function(){return new Ji.Mesh(r,l)},updateObj:function(e){e.geometry=r,e.material=l}})}})}}if(e._flushObjects=!1,n(["graphData","nodeId","linkSource","linkTarget","numDimensions","forceEngine","dagMode","dagNodeFilter","dagLevelDistance"])){e.engineRunning=!1,e.graphData.links.forEach((function(t){t.source=t[e.linkSource],t.target=t[e.linkTarget]}));var C,A="ngraph"!==e.forceEngine;if(A){(C=e.d3ForceLayout).stop().alpha(1).numDimensions(e.numDimensions).nodes(e.graphData.nodes);var R=e.d3ForceLayout.force("link");R&&R.id((function(t){return t[e.nodeId]})).links(e.graphData.links);var k=e.dagMode&&Yi(e.graphData,(function(t){return t[e.nodeId]}),{nodeFilter:e.dagNodeFilter,onLoopError:e.onDagError||void 0}),O=Math.max.apply(Math,ki(Object.values(k||[]))),L=e.dagLevelDistance||e.graphData.nodes.length/(O||1)*Ki*(-1!==["radialin","radialout"].indexOf(e.dagMode)?.7:1);if(e.dagMode){var I=function(t,n){return function(r){return t?(k[r[e.nodeId]]-O/2)*L*(n?-1:1):void 0}},P=I(-1!==["lr","rl"].indexOf(e.dagMode),"rl"===e.dagMode),D=I(-1!==["td","bu"].indexOf(e.dagMode),"td"===e.dagMode),N=I(-1!==["zin","zout"].indexOf(e.dagMode),"zout"===e.dagMode);e.graphData.nodes.filter(e.dagNodeFilter).forEach((function(e){e.fx=P(e),e.fy=D(e),e.fz=N(e)}))}e.d3ForceLayout.force("dagRadial",-1!==["radialin","radialout"].indexOf(e.dagMode)?gt((function(t){var n=k[t[e.nodeId]]||-1;return("radialin"===e.dagMode?O-n:n)*L})).strength((function(t){return e.dagNodeFilter(t)?1:0})):null)}else{var U=Zi.graph();e.graphData.nodes.forEach((function(t){U.addNode(t[e.nodeId])})),e.graphData.links.forEach((function(e){U.addLink(e.source,e.target)})),C=Zi.forcelayout(U,fi({dimensions:e.numDimensions},e.ngraphPhysics)),C.graph=U}for(var F=0;F<e.warmupTicks&&!(A&&e.d3AlphaMin>0&&e.d3ForceLayout.alpha()<e.d3AlphaMin);F++)C[A?"tick":"step"]();e.layout=C,this.resetCountdown()}e.engineRunning=!0,e.onFinishUpdate()}});function no(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(t){bi(i,t);var r=Ai(i);function i(){var t;mi(this,i);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=r.call.apply(r,[this].concat(a)),t.__kapsuleInstance=e().apply(void 0,[].concat(ki(n?[Mi(t)]:[]),a)),t}return vi(i)}(t);return Object.keys(e()).forEach((function(e){return r.prototype[e]=function(){var t,n=(t=this.__kapsuleInstance)[e].apply(t,arguments);return n===this.__kapsuleInstance?this:n}})),r}var ro=window.THREE?window.THREE:{Group:r.ZAu},io=no(to,ro.Group,!0);const oo={type:"change"},ao={type:"start"},so={type:"end"};class lo extends r.pBf{constructor(e,t){super();const n=this,i={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:r.RsA.ROTATE,MIDDLE:r.RsA.DOLLY,RIGHT:r.RsA.PAN},this.target=new r.Pa4;const o=1e-6,a=new r.Pa4;let s=1,l=i.NONE,c=i.NONE,u=0,d=0,h=0;const f=new r.Pa4,p=new r.FM8,m=new r.FM8,g=new r.Pa4,v=new r.FM8,y=new r.FM8,b=new r.FM8,_=new r.FM8,w=[],x={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};const S=function(){const e=new r.FM8;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),E=function(){const e=new r.FM8;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function T(e){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",M),n.domElement.addEventListener("pointerup",C)),B(e),"touch"===e.pointerType?D(e):O(e))}function M(e){!1!==n.enabled&&("touch"===e.pointerType?N(e):L(e))}function C(e){!1!==n.enabled&&("touch"===e.pointerType?U(e):I(),j(e),0===w.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",M),n.domElement.removeEventListener("pointerup",C)))}function A(e){j(e)}function R(e){!1!==n.enabled&&(window.removeEventListener("keydown",R),c===i.NONE&&(e.code!==n.keys[i.ROTATE]||n.noRotate?e.code!==n.keys[i.ZOOM]||n.noZoom?e.code!==n.keys[i.PAN]||n.noPan||(c=i.PAN):c=i.ZOOM:c=i.ROTATE))}function k(){!1!==n.enabled&&(c=i.NONE,window.addEventListener("keydown",R))}function O(e){if(l===i.NONE)switch(e.button){case n.mouseButtons.LEFT:l=i.ROTATE;break;case n.mouseButtons.MIDDLE:l=i.ZOOM;break;case n.mouseButtons.RIGHT:l=i.PAN;break}const t=c!==i.NONE?c:l;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||(b.copy(S(e.pageX,e.pageY)),_.copy(b)):(v.copy(S(e.pageX,e.pageY)),y.copy(v)):(m.copy(E(e.pageX,e.pageY)),p.copy(m)),n.dispatchEvent(ao)}function L(e){const t=c!==i.NONE?c:l;t!==i.ROTATE||n.noRotate?t!==i.ZOOM||n.noZoom?t!==i.PAN||n.noPan||_.copy(S(e.pageX,e.pageY)):y.copy(S(e.pageX,e.pageY)):(p.copy(m),m.copy(E(e.pageX,e.pageY)))}function I(){l=i.NONE,n.dispatchEvent(so)}function P(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:v.y-=.025*e.deltaY;break;case 1:v.y-=.01*e.deltaY;break;default:v.y-=25e-5*e.deltaY;break}n.dispatchEvent(ao),n.dispatchEvent(so)}}function D(e){switch(V(e),w.length){case 1:l=i.TOUCH_ROTATE,m.copy(E(w[0].pageX,w[0].pageY)),p.copy(m);break;default:l=i.TOUCH_ZOOM_PAN;const e=w[0].pageX-w[1].pageX,t=w[0].pageY-w[1].pageY;d=u=Math.sqrt(e*e+t*t);const n=(w[0].pageX+w[1].pageX)/2,r=(w[0].pageY+w[1].pageY)/2;b.copy(S(n,r)),_.copy(b);break}n.dispatchEvent(ao)}function N(e){switch(V(e),w.length){case 1:p.copy(m),m.copy(E(e.pageX,e.pageY));break;default:const t=z(e),n=e.pageX-t.x,r=e.pageY-t.y;d=Math.sqrt(n*n+r*r);const i=(e.pageX+t.x)/2,o=(e.pageY+t.y)/2;_.copy(S(i,o));break}}function U(e){switch(w.length){case 0:l=i.NONE;break;case 1:l=i.TOUCH_ROTATE,m.copy(E(e.pageX,e.pageY)),p.copy(m);break;case 2:l=i.TOUCH_ZOOM_PAN;for(let t=0;t<w.length;t++)if(w[t].pointerId!==e.pointerId){const e=x[w[t].pointerId];m.copy(E(e.x,e.y)),p.copy(m);break}break}n.dispatchEvent(so)}function F(e){!1!==n.enabled&&e.preventDefault()}function B(e){w.push(e)}function j(e){delete x[e.pointerId];for(let t=0;t<w.length;t++)if(w[t].pointerId==e.pointerId)return void w.splice(t,1)}function V(e){let t=x[e.pointerId];void 0===t&&(t=new r.FM8,x[e.pointerId]=t),t.set(e.pageX,e.pageY)}function z(e){const t=e.pointerId===w[0].pointerId?w[1]:w[0];return x[t.pointerId]}this.rotateCamera=function(){const e=new r.Pa4,t=new r._fP,i=new r.Pa4,o=new r.Pa4,a=new r.Pa4,s=new r.Pa4;return function(){s.set(m.x-p.x,m.y-p.y,0);let r=s.length();r?(f.copy(n.object.position).sub(n.target),i.copy(f).normalize(),o.copy(n.object.up).normalize(),a.crossVectors(o,i).normalize(),o.setLength(m.y-p.y),a.setLength(m.x-p.x),s.copy(o.add(a)),e.crossVectors(s,f).normalize(),r*=n.rotateSpeed,t.setFromAxisAngle(e,r),f.applyQuaternion(t),n.object.up.applyQuaternion(t),g.copy(e),h=r):!n.staticMoving&&h&&(h*=Math.sqrt(1-n.dynamicDampingFactor),f.copy(n.object.position).sub(n.target),t.setFromAxisAngle(g,h),f.applyQuaternion(t),n.object.up.applyQuaternion(t)),p.copy(m)}}(),this.zoomCamera=function(){let e;l===i.TOUCH_ZOOM_PAN?(e=u/d,u=d,n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom=r.M8C.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),s!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(e=1+(y.y-v.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?f.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom=r.M8C.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),s!==n.object.zoom&&n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?v.copy(y):v.y+=(y.y-v.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new r.FM8,t=new r.Pa4,i=new r.Pa4;return function(){if(e.copy(_).sub(b),e.lengthSq()){if(n.object.isOrthographicCamera){const t=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=t,e.y*=r}e.multiplyScalar(f.length()*n.panSpeed),i.copy(f).cross(n.object.up).setLength(e.x),i.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(i),n.target.add(i),n.staticMoving?b.copy(_):b.add(e.subVectors(_,b).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(f.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,f.setLength(n.maxDistance)),v.copy(y)),f.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,f.setLength(n.minDistance)),v.copy(y)))},this.update=function(){f.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,f),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),a.distanceToSquared(n.object.position)>o&&(n.dispatchEvent(oo),a.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(a.distanceToSquared(n.object.position)>o||s!==n.object.zoom)&&(n.dispatchEvent(oo),a.copy(n.object.position),s=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){l=i.NONE,c=i.NONE,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),f.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(oo),a.copy(n.object.position),s=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",F),n.domElement.removeEventListener("pointerdown",T),n.domElement.removeEventListener("pointercancel",A),n.domElement.removeEventListener("wheel",P),n.domElement.removeEventListener("pointermove",M),n.domElement.removeEventListener("pointerup",C),window.removeEventListener("keydown",R),window.removeEventListener("keyup",k)},this.domElement.addEventListener("contextmenu",F),this.domElement.addEventListener("pointerdown",T),this.domElement.addEventListener("pointercancel",A),this.domElement.addEventListener("wheel",P,{passive:!1}),window.addEventListener("keydown",R),window.addEventListener("keyup",k),this.handleResize(),this.update()}}const co={type:"change"},uo={type:"start"},ho={type:"end"};class fo extends r.pBf{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new r.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:r.RsA.ROTATE,MIDDLE:r.RsA.DOLLY,RIGHT:r.RsA.PAN},this.touches={ONE:r.QmN.ROTATE,TWO:r.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(e){e.addEventListener("keydown",ne),this._domElementKeyEvents=e},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ne),this._domElementKeyEvents=null},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(co),n.update(),o=i.NONE},this.update=function(){const t=new r.Pa4,h=(new r._fP).setFromUnitVectors(e.up,new r.Pa4(0,1,0)),f=h.clone().invert(),p=new r.Pa4,m=new r._fP,g=new r.Pa4,v=2*Math.PI;return function(){const e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(h),s.setFromVector3(t),n.autoRotate&&o===i.NONE&&T(S()),n.enableDamping?(s.theta+=l.theta*n.dampingFactor,s.phi+=l.phi*n.dampingFactor):(s.theta+=l.theta,s.phi+=l.phi);let r=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(r)&&isFinite(y)&&(r<-Math.PI?r+=v:r>Math.PI&&(r-=v),y<-Math.PI?y+=v:y>Math.PI&&(y-=v),s.theta=r<=y?Math.max(r,Math.min(y,s.theta)):s.theta>(r+y)/2?Math.max(r,s.theta):Math.min(y,s.theta)),s.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=c,s.radius=Math.max(n.minDistance,Math.min(n.maxDistance,s.radius)),!0===n.enableDamping?n.target.addScaledVector(u,n.dampingFactor):n.target.add(u),t.setFromSpherical(s),t.applyQuaternion(f),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,u.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,!!(d||p.distanceToSquared(n.object.position)>a||8*(1-m.dot(n.object.quaternion))>a||g.distanceToSquared(n.target)>0)&&(n.dispatchEvent(co),p.copy(n.object.position),m.copy(n.object.quaternion),g.copy(n.target),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",oe),n.domElement.removeEventListener("pointerdown",J),n.domElement.removeEventListener("pointercancel",K),n.domElement.removeEventListener("wheel",te),n.domElement.removeEventListener("pointermove",Z),n.domElement.removeEventListener("pointerup",K),null!==n._domElementKeyEvents&&(n._domElementKeyEvents.removeEventListener("keydown",ne),n._domElementKeyEvents=null)};const n=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const a=1e-6,s=new r.$V,l=new r.$V;let c=1;const u=new r.Pa4;let d=!1;const h=new r.FM8,f=new r.FM8,p=new r.FM8,m=new r.FM8,g=new r.FM8,v=new r.FM8,y=new r.FM8,b=new r.FM8,_=new r.FM8,w=[],x={};function S(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function T(e){l.theta-=e}function M(e){l.phi-=e}const C=function(){const e=new r.Pa4;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),u.add(e)}}(),A=function(){const e=new r.Pa4;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),u.add(e)}}(),R=function(){const e=new r.Pa4;return function(t,r){const i=n.domElement;if(n.object.isPerspectiveCamera){const o=n.object.position;e.copy(o).sub(n.target);let a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),C(2*t*a/i.clientHeight,n.object.matrix),A(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(C(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),A(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function k(e){n.object.isPerspectiveCamera?c/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(e){n.object.isPerspectiveCamera?c*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function L(e){h.set(e.clientX,e.clientY)}function I(e){y.set(e.clientX,e.clientY)}function P(e){m.set(e.clientX,e.clientY)}function D(e){f.set(e.clientX,e.clientY),p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*p.x/t.clientHeight),M(2*Math.PI*p.y/t.clientHeight),h.copy(f),n.update()}function N(e){b.set(e.clientX,e.clientY),_.subVectors(b,y),_.y>0?k(E()):_.y<0&&O(E()),y.copy(b),n.update()}function U(e){g.set(e.clientX,e.clientY),v.subVectors(g,m).multiplyScalar(n.panSpeed),R(v.x,v.y),m.copy(g),n.update()}function F(e){e.deltaY<0?O(E()):e.deltaY>0&&k(E()),n.update()}function B(e){let t=!1;switch(e.code){case n.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?M(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):R(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?M(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):R(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?T(2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):R(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?T(-2*Math.PI*n.rotateSpeed/n.domElement.clientHeight):R(-n.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),n.update())}function j(){if(1===w.length)h.set(w[0].pageX,w[0].pageY);else{const e=.5*(w[0].pageX+w[1].pageX),t=.5*(w[0].pageY+w[1].pageY);h.set(e,t)}}function V(){if(1===w.length)m.set(w[0].pageX,w[0].pageY);else{const e=.5*(w[0].pageX+w[1].pageX),t=.5*(w[0].pageY+w[1].pageY);m.set(e,t)}}function z(){const e=w[0].pageX-w[1].pageX,t=w[0].pageY-w[1].pageY,n=Math.sqrt(e*e+t*t);y.set(0,n)}function H(){n.enableZoom&&z(),n.enablePan&&V()}function W(){n.enableZoom&&z(),n.enableRotate&&j()}function G(e){if(1==w.length)f.set(e.pageX,e.pageY);else{const t=ce(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);f.set(n,r)}p.subVectors(f,h).multiplyScalar(n.rotateSpeed);const t=n.domElement;T(2*Math.PI*p.x/t.clientHeight),M(2*Math.PI*p.y/t.clientHeight),h.copy(f)}function $(e){if(1===w.length)g.set(e.pageX,e.pageY);else{const t=ce(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}v.subVectors(g,m).multiplyScalar(n.panSpeed),R(v.x,v.y),m.copy(g)}function q(e){const t=ce(e),r=e.pageX-t.x,i=e.pageY-t.y,o=Math.sqrt(r*r+i*i);b.set(0,o),_.set(0,Math.pow(b.y/y.y,n.zoomSpeed)),k(_.y),y.copy(b)}function X(e){n.enableZoom&&q(e),n.enablePan&&$(e)}function Y(e){n.enableZoom&&q(e),n.enableRotate&&G(e)}function J(e){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",Z),n.domElement.addEventListener("pointerup",K)),ae(e),"touch"===e.pointerType?re(e):Q(e))}function Z(e){!1!==n.enabled&&("touch"===e.pointerType?ie(e):ee(e))}function K(e){se(e),0===w.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",Z),n.domElement.removeEventListener("pointerup",K)),n.dispatchEvent(ho),o=i.NONE}function Q(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case r.RsA.DOLLY:if(!1===n.enableZoom)return;I(e),o=i.DOLLY;break;case r.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;P(e),o=i.PAN}else{if(!1===n.enableRotate)return;L(e),o=i.ROTATE}break;case r.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;L(e),o=i.ROTATE}else{if(!1===n.enablePan)return;P(e),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(uo)}function ee(e){switch(o){case i.ROTATE:if(!1===n.enableRotate)return;D(e);break;case i.DOLLY:if(!1===n.enableZoom)return;N(e);break;case i.PAN:if(!1===n.enablePan)return;U(e);break}}function te(e){!1!==n.enabled&&!1!==n.enableZoom&&o===i.NONE&&(e.preventDefault(),n.dispatchEvent(uo),F(e),n.dispatchEvent(ho))}function ne(e){!1!==n.enabled&&!1!==n.enablePan&&B(e)}function re(e){switch(le(e),w.length){case 1:switch(n.touches.ONE){case r.QmN.ROTATE:if(!1===n.enableRotate)return;j(),o=i.TOUCH_ROTATE;break;case r.QmN.PAN:if(!1===n.enablePan)return;V(),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(n.touches.TWO){case r.QmN.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;H(),o=i.TOUCH_DOLLY_PAN;break;case r.QmN.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;W(),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&n.dispatchEvent(uo)}function ie(e){switch(le(e),o){case i.TOUCH_ROTATE:if(!1===n.enableRotate)return;G(e),n.update();break;case i.TOUCH_PAN:if(!1===n.enablePan)return;$(e),n.update();break;case i.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;X(e),n.update();break;case i.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;Y(e),n.update();break;default:o=i.NONE}}function oe(e){!1!==n.enabled&&e.preventDefault()}function ae(e){w.push(e)}function se(e){delete x[e.pointerId];for(let t=0;t<w.length;t++)if(w[t].pointerId==e.pointerId)return void w.splice(t,1)}function le(e){let t=x[e.pointerId];void 0===t&&(t=new r.FM8,x[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ce(e){const t=e.pointerId===w[0].pointerId?w[1]:w[0];return x[t.pointerId]}n.domElement.addEventListener("contextmenu",oe),n.domElement.addEventListener("pointerdown",J),n.domElement.addEventListener("pointercancel",K),n.domElement.addEventListener("wheel",te,{passive:!1}),this.update()}}const po={type:"change"};class mo extends r.pBf{constructor(e,t){super(),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const n=this,i=1e-6,o=new r._fP,a=new r.Pa4;this.tmpQuaternion=new r._fP,this.status=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new r.Pa4(0,0,0),this.rotationVector=new r.Pa4(0,0,0),this.keydown=function(e){if(!e.altKey&&!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1;break}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){if(!1!==this.enabled){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0;break}this.updateMovementVector(),this.updateRotationVector()}},this.pointerdown=function(e){if(!1!==this.enabled)if(this.dragToLook)this.status++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1;break}this.updateMovementVector()}},this.pointermove=function(e){if(!1!==this.enabled&&(!this.dragToLook||this.status>0)){const t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.pointerup=function(e){if(!1!==this.enabled){if(this.dragToLook)this.status--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0;break}this.updateMovementVector()}this.updateRotationVector()}},this.contextMenu=function(e){!1!==this.enabled&&e.preventDefault()},this.update=function(e){if(!1===this.enabled)return;const t=e*n.movementSpeed,r=e*n.rollSpeed;n.object.translateX(n.moveVector.x*t),n.object.translateY(n.moveVector.y*t),n.object.translateZ(n.moveVector.z*t),n.tmpQuaternion.set(n.rotationVector.x*r,n.rotationVector.y*r,n.rotationVector.z*r,1).normalize(),n.object.quaternion.multiply(n.tmpQuaternion),(a.distanceToSquared(n.object.position)>i||8*(1-o.dot(n.object.quaternion))>i)&&(n.dispatchEvent(po),o.copy(n.object.quaternion),a.copy(n.object.position))},this.updateMovementVector=function(){const e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",s),this.domElement.removeEventListener("pointerdown",c),this.domElement.removeEventListener("pointermove",l),this.domElement.removeEventListener("pointerup",u),window.removeEventListener("keydown",d),window.removeEventListener("keyup",h)};const s=this.contextMenu.bind(this),l=this.pointermove.bind(this),c=this.pointerdown.bind(this),u=this.pointerup.bind(this),d=this.keydown.bind(this),h=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",s),this.domElement.addEventListener("pointerdown",c),this.domElement.addEventListener("pointermove",l),this.domElement.addEventListener("pointerup",u),window.addEventListener("keydown",d),window.addEventListener("keyup",h),this.updateMovementVector(),this.updateRotationVector()}}const go={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"};class vo{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const yo=new r.iKG(-1,1,1,-1,0,1),bo=new r.u9r;bo.setAttribute("position",new r.a$l([-1,3,0,-1,-1,0,3,-1,0],3)),bo.setAttribute("uv",new r.a$l([0,2,0,0,2,0],2));class _o{constructor(e){this._mesh=new r.Kj0(bo,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,yo)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class wo extends vo{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof r.jyz?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=r.rDY.clone(e.uniforms),this.material=new r.jyz({name:void 0!==e.name?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new _o(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class xo extends vo{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const r=e.getContext(),i=e.state;let o,a;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(o=0,a=1):(o=1,a=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),i.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),i.buffers.stencil.setClear(a),i.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(r.EQUAL,1,4294967295),i.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),i.buffers.stencil.setLocked(!0)}}class So extends vo{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Eo{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),void 0===t){const n=e.getSize(new r.FM8);this._width=n.width,this._height=n.height,t=new r.dd2(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:r.cLu}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new wo(go),this.copyPass.material.blending=r.jFi,this.clock=new r.SUY}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let r=0,i=this.passes.length;r<i;r++){const t=this.passes[r];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),t.needsSwap){if(n){const t=this.renderer.getContext(),n=this.renderer.state.buffers.stencil;n.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),n.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==xo&&(t instanceof xo?n=!0:t instanceof So&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new r.FM8);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class To extends vo{constructor(e,t,n,i,o){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new r.Ilk}render(e,t,n){const r=e.autoClear;let i,o;e.autoClear=!1,void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),i=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,i),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=r}}function Mo(){return Mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mo.apply(this,arguments)}function Co(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ao(e,t){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ao(e,t)}function Ro(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ao(e,t)}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ko(e)}function Oo(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Lo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Io(e,t,n){return Io=Lo()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&Ao(o,n.prototype),o},Io.apply(null,arguments)}function Po(e){var t="function"===typeof Map?new Map:void 0;return Po=function(e){if(null===e||!Oo(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Io(e,arguments,ko(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ao(n,e)},Po(e)}var Do=function(e){function t(t){var n;return n=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,Co(n)}return Ro(t,e),t}(Po(Error));function No(e){return Math.round(255*e)}function Uo(e,t,n){return No(e)+","+No(t)+","+No(n)}function Fo(e,t,n,r){if(void 0===r&&(r=Uo),0===t)return r(n,n,n);var i=(e%360+360)%360/60,o=(1-Math.abs(2*n-1))*t,a=o*(1-Math.abs(i%2-1)),s=0,l=0,c=0;i>=0&&i<1?(s=o,l=a):i>=1&&i<2?(s=a,l=o):i>=2&&i<3?(l=o,c=a):i>=3&&i<4?(l=a,c=o):i>=4&&i<5?(s=a,c=o):i>=5&&i<6&&(s=o,c=a);var u=n-o/2,d=s+u,h=l+u,f=c+u;return r(d,h,f)}var Bo={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function jo(e){if("string"!==typeof e)return e;var t=e.toLowerCase();return Bo[t]?"#"+Bo[t]:e}var Vo=/^#[a-fA-F0-9]{6}$/,zo=/^#[a-fA-F0-9]{8}$/,Ho=/^#[a-fA-F0-9]{3}$/,Wo=/^#[a-fA-F0-9]{4}$/,Go=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,$o=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,qo=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,Xo=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function Yo(e){if("string"!==typeof e)throw new Do(3);var t=jo(e);if(t.match(Vo))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(zo)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(Ho))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(Wo)){var r=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:r}}var i=Go.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var o=$o.exec(t.substring(0,50));if(o)return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10),alpha:parseFloat(""+o[4])>1?parseFloat(""+o[4])/100:parseFloat(""+o[4])};var a=qo.exec(t);if(a){var s=parseInt(""+a[1],10),l=parseInt(""+a[2],10)/100,c=parseInt(""+a[3],10)/100,u="rgb("+Fo(s,l,c)+")",d=Go.exec(u);if(!d)throw new Do(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10)}}var h=Xo.exec(t.substring(0,50));if(h){var f=parseInt(""+h[1],10),p=parseInt(""+h[2],10)/100,m=parseInt(""+h[3],10)/100,g="rgb("+Fo(f,p,m)+")",v=Go.exec(g);if(!v)throw new Do(4,t,g);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10),alpha:parseFloat(""+h[4])>1?parseFloat(""+h[4])/100:parseFloat(""+h[4])}}throw new Do(5)}var Jo=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},Zo=Jo;function Ko(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function Qo(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Zo("#"+Ko(e)+Ko(t)+Ko(n));if("object"===typeof e&&void 0===t&&void 0===n)return Zo("#"+Ko(e.red)+Ko(e.green)+Ko(e.blue));throw new Do(6)}function ea(e,t,n,r){if("string"===typeof e&&"number"===typeof t){var i=Yo(e);return"rgba("+i.red+","+i.green+","+i.blue+","+t+")"}if("number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r)return r>=1?Qo(e,t,n):"rgba("+e+","+t+","+n+","+r+")";if("object"===typeof e&&void 0===t&&void 0===n&&void 0===r)return e.alpha>=1?Qo(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new Do(7)}function ta(e,t,n){return function(){var r=n.concat(Array.prototype.slice.call(arguments));return r.length>=t?e.apply(this,r):ta(e,t,r)}}function na(e){return ta(e,e.length,[])}function ra(e,t,n){return Math.max(e,Math.min(t,n))}function ia(e,t){if("transparent"===t)return t;var n=Yo(t),r="number"===typeof n.alpha?n.alpha:1,i=Mo({},n,{alpha:ra(0,1,(100*r+100*parseFloat(e))/100)});return ea(i)}var oa=na(ia),aa=oa;var sa=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-sa.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*sa.Bounce.In(2*e):.5*sa.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),la=function(){return performance.now()},ca=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=la()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;while(n.length>0){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!t;i&&!1===i.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ua={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=ua.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=ua.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-t,r-a)*i(t,a)*e[a]*o(r,a);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=ua.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=ua.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=.5*(n-e),a=.5*(r-t),s=i*i,l=i*s;return(2*t-2*n+o+a)*l+(-3*t+3*n-2*o-a)*s+o*i+t}}},da=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),ha=new ca,fa=function(){function e(e,t){void 0===t&&(t=ha),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=sa.Linear.None,this._interpolationFunction=ua.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=da.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=la()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var o in n){var a=e[o],s=Array.isArray(a),l=s?"array":typeof a,c=!s&&Array.isArray(n[o]);if("undefined"!==l&&"function"!==l){if(c){var u=n[o];if(0===u.length)continue;for(var d=[a],h=0,f=u.length;h<f;h+=1){var p=this._handleRelativeValue(a,u[h]);if(isNaN(p)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}d.push(p)}c&&(n[o]=d)}if("object"!==l&&!s||!a||c)("undefined"===typeof t[o]||i)&&(t[o]=a),s||(t[o]*=1),r[o]=c?n[o].slice().reverse():t[o]||0;else{t[o]=s?[]:{};var m=a;for(var g in m)t[o][g]=m[g];r[o]=s?[]:{};u=n[o];if(!this._isDynamic){var v={};for(var g in u)v[g]=u[g];n[o]=u=v}this._setupProperties(m,t[o],u,r[o],i)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=la()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=la()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=ha),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=sa.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=ua.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=la()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var o=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,s=this._chainedTweens.length;a<s;a++)this._chainedTweens[a].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,a=n[i],s=Array.isArray(e[i]),l=Array.isArray(a),c=!s&&l;c?e[i]=this._interpolationFunction(a,r):"object"===typeof a&&a?this._updateProperties(e[i],o,a,r):(a=this._handleRelativeValue(o,a),"number"===typeof a&&(e[i]=o+(a-o)*r))}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),pa=(da.nextId,ha),ma=(pa.getAll.bind(pa),pa.removeAll.bind(pa),pa.add.bind(pa),pa.remove.bind(pa),pa.update.bind(pa));function ga(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var va=".scene-nav-info {\n  bottom: 5px;\n  width: 100%;\n  text-align: center;\n  color: slategrey;\n  opacity: 0.7;\n  font-size: 10px;\n}\n\n.scene-tooltip {\n  top: 0;\n  color: lavender;\n  font-size: 15px;\n}\n\n.scene-nav-info, .scene-tooltip {\n  position: absolute;\n  font-family: sans-serif;\n  pointer-events: none;\n  user-select: none;\n}\n\n.scene-container canvas:focus {\n  outline: none;\n}";function ya(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function ba(e,t,n){return t=ka(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _a(e,t){return Sa(e)||ya(e,t)||Ta(e,t)||Aa()}function wa(e){return xa(e)||Ea(e)||Ta(e)||Ca()}function xa(e){if(Array.isArray(e))return Ma(e)}function Sa(e){if(Array.isArray(e))return e}function Ea(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ta(e,t){if(e){if("string"===typeof e)return Ma(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ma(e,t):void 0}}function Ma(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ca(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Aa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ra(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ka(e){var t=Ra(e,"string");return"symbol"===typeof t?t:String(t)}ga(va);var Oa=window.THREE?window.THREE:{WebGLRenderer:r.CP7,Scene:r.xsS,PerspectiveCamera:r.cPb,Raycaster:r.iMs,SRGBColorSpace:r.KI_,TextureLoader:r.dpR,Vector2:r.FM8,Vector3:r.Pa4,Box3:r.ZzF,Color:r.Ilk,Mesh:r.Kj0,SphereGeometry:r.xo$,MeshBasicMaterial:r.vBJ,BackSide:r._Li,EventDispatcher:r.pBf,MOUSE:r.RsA,Quaternion:r._fP,Spherical:r.$V,Clock:r.SUY},La=Cn({props:{width:{default:window.innerWidth,onChange:function(e,t,n){isNaN(e)&&(t.width=n)}},height:{default:window.innerHeight,onChange:function(e,t,n){isNaN(e)&&(t.height=n)}},backgroundColor:{default:"#000011"},backgroundImageUrl:{},onBackgroundImageLoaded:{},showNavInfo:{default:!0},skyRadius:{default:5e4},objects:{default:[]},enablePointerInteraction:{default:!0,onChange:function(e,t){t.hoverObj=null,t.toolTipElem&&(t.toolTipElem.innerHTML="")},triggerUpdate:!1},lineHoverPrecision:{default:1,triggerUpdate:!1},hoverOrderComparator:{default:function(){return-1},triggerUpdate:!1},hoverFilter:{default:function(){return!0},triggerUpdate:!1},tooltipContent:{triggerUpdate:!1},hoverDuringDrag:{default:!1,triggerUpdate:!1},clickAfterDrag:{default:!1,triggerUpdate:!1},onHover:{default:function(){},triggerUpdate:!1},onClick:{default:function(){},triggerUpdate:!1},onRightClick:{triggerUpdate:!1}},methods:{tick:function(e){if(e.initialised){if(e.controls.update&&e.controls.update(e.clock.getDelta()),e.postProcessingComposer?e.postProcessingComposer.render():e.renderer.render(e.scene,e.camera),e.extraRenderers.forEach((function(t){return t.render(e.scene,e.camera)})),e.enablePointerInteraction){var t=null;if(e.hoverDuringDrag||!e.isPointerDragging){var n=this.intersectingObjects(e.pointerPos.x,e.pointerPos.y).filter((function(t){return e.hoverFilter(t.object)})).sort((function(t,n){return e.hoverOrderComparator(t.object,n.object)})),r=n.length?n[0]:null;t=r?r.object:null,e.intersectionPoint=r?r.point:null}t!==e.hoverObj&&(e.onHover(t,e.hoverObj),e.toolTipElem.innerHTML=t&&An(e.tooltipContent)(t)||"",e.hoverObj=t)}ma()}return this},getPointerPos:function(e){var t=e.pointerPos,n=t.x,r=t.y;return{x:n,y:r}},cameraPosition:function(e,t,n,r){var i=e.camera;if(t&&e.initialised){var o=t,a=n||{x:0,y:0,z:0};if(r){var s=Object.assign({},i.position),l=d();new fa(s).to(o,r).easing(sa.Quadratic.Out).onUpdate(c).start(),new fa(l).to(a,r/3).easing(sa.Quadratic.Out).onUpdate(u).start()}else c(o),u(a);return this}return Object.assign({},i.position,{lookAt:d()});function c(e){var t=e.x,n=e.y,r=e.z;void 0!==t&&(i.position.x=t),void 0!==n&&(i.position.y=n),void 0!==r&&(i.position.z=r)}function u(t){var n=new Oa.Vector3(t.x,t.y,t.z);e.controls.target?e.controls.target=n:i.lookAt(n)}function d(){return Object.assign(new Oa.Vector3(0,0,-1e3).applyQuaternion(i.quaternion).add(i.position))}},zoomToFit:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];return this.fitToBbox(this.getBbox.apply(this,i),t,n)},fitToBbox:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,i=e.camera;if(t){var o=new Oa.Vector3(0,0,0),a=2*Math.max.apply(Math,wa(Object.entries(t).map((function(e){var t=_a(e,2),n=t[0],r=t[1];return Math.max.apply(Math,wa(r.map((function(e){return Math.abs(o[n]-e)}))))})))),s=(1-2*r/e.height)*i.fov,l=a/Math.atan(s*Math.PI/180),c=l/i.aspect,u=Math.max(l,c);if(u>0){var d=o.clone().sub(i.position).normalize().multiplyScalar(-u);this.cameraPosition(d,o,n)}}return this},getBbox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=new Oa.Box3(new Oa.Vector3(0,0,0),new Oa.Vector3(0,0,0)),r=e.objects.filter(t);return r.length?(r.forEach((function(e){return n.expandByObject(e)})),Object.assign.apply(Object,wa(["x","y","z"].map((function(e){return ba({},e,[n.min[e],n.max[e]])}))))):null},getScreenCoords:function(e,t,n,r){var i=new Oa.Vector3(t,n,r);return i.project(this.camera()),{x:(i.x+1)*e.width/2,y:-(i.y-1)*e.height/2}},getSceneCoords:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=new Oa.Vector2(t/e.width*2-1,-n/e.height*2+1),o=new Oa.Raycaster;return o.setFromCamera(i,e.camera),Object.assign({},o.ray.at(r,new Oa.Vector3))},intersectingObjects:function(e,t,n){var r=new Oa.Vector2(t/e.width*2-1,-n/e.height*2+1),i=new Oa.Raycaster;return i.params.Line.threshold=e.lineHoverPrecision,i.setFromCamera(r,e.camera),i.intersectObjects(e.objects,!0)},renderer:function(e){return e.renderer},scene:function(e){return e.scene},camera:function(e){return e.camera},postProcessingComposer:function(e){return e.postProcessingComposer},controls:function(e){return e.controls},tbControls:function(e){return e.controls}},stateInit:function(){return{scene:new Oa.Scene,camera:new Oa.PerspectiveCamera,clock:new Oa.Clock}},init:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.controlType,i=void 0===r?"trackball":r,o=n.rendererConfig,a=void 0===o?{}:o,s=n.extraRenderers,l=void 0===s?[]:s,c=n.waitForLoadComplete,u=void 0===c||c;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.className="scene-container",t.container.style.position="relative",t.container.appendChild(t.navInfo=document.createElement("div")),t.navInfo.className="scene-nav-info",t.navInfo.textContent={orbit:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",trackball:"Left-click: rotate, Mouse-wheel/middle-click: zoom, Right-click: pan",fly:"WASD: move, R|F: up | down, Q|E: roll, up|down: pitch, left|right: yaw"}[i]||"",t.navInfo.style.display=t.showNavInfo?null:"none",t.toolTipElem=document.createElement("div"),t.toolTipElem.classList.add("scene-tooltip"),t.container.appendChild(t.toolTipElem),t.pointerPos=new Oa.Vector2,t.pointerPos.x=-2,t.pointerPos.y=-2,["pointermove","pointerdown"].forEach((function(e){return t.container.addEventListener(e,(function(n){if("pointerdown"===e&&(t.isPointerPressed=!0),!t.isPointerDragging&&"pointermove"===n.type&&(n.pressure>0||t.isPointerPressed)&&("touch"!==n.pointerType||void 0===n.movementX||[n.movementX,n.movementY].some((function(e){return Math.abs(e)>1})))&&(t.isPointerDragging=!0),t.enablePointerInteraction){var r=i(t.container);t.pointerPos.x=n.pageX-r.left,t.pointerPos.y=n.pageY-r.top,t.toolTipElem.style.top="".concat(t.pointerPos.y,"px"),t.toolTipElem.style.left="".concat(t.pointerPos.x,"px"),t.toolTipElem.style.transform="translate(-".concat(t.pointerPos.x/t.width*100,"%, ").concat(t.height-t.pointerPos.y<100?"calc(-100% - 8px)":"21px",")")}function i(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+r,left:t.left+n}}}),{passive:!0})})),t.container.addEventListener("pointerup",(function(e){t.isPointerPressed=!1,t.isPointerDragging&&(t.isPointerDragging=!1,!t.clickAfterDrag)||requestAnimationFrame((function(){0===e.button&&t.onClick(t.hoverObj||null,e,t.intersectionPoint),2===e.button&&t.onRightClick&&t.onRightClick(t.hoverObj||null,e,t.intersectionPoint)}))}),{passive:!0,capture:!0}),t.container.addEventListener("contextmenu",(function(e){t.onRightClick&&e.preventDefault()})),t.renderer=new Oa.WebGLRenderer(Object.assign({antialias:!0,alpha:!0},a)),t.renderer.setPixelRatio(Math.min(2,window.devicePixelRatio)),t.container.appendChild(t.renderer.domElement),t.extraRenderers=l,t.extraRenderers.forEach((function(e){e.domElement.style.position="absolute",e.domElement.style.top="0px",e.domElement.style.pointerEvents="none",t.container.appendChild(e.domElement)})),t.postProcessingComposer=new Eo(t.renderer),t.postProcessingComposer.addPass(new To(t.scene,t.camera)),t.controls=new{trackball:lo,orbit:fo,fly:mo}[i](t.camera,t.renderer.domElement),"fly"===i&&(t.controls.movementSpeed=300,t.controls.rollSpeed=Math.PI/6,t.controls.dragToLook=!0),"trackball"!==i&&"orbit"!==i||(t.controls.minDistance=.1,t.controls.maxDistance=t.skyRadius,t.controls.addEventListener("start",(function(){t.controlsEngaged=!0})),t.controls.addEventListener("change",(function(){t.controlsEngaged&&(t.controlsDragging=!0)})),t.controls.addEventListener("end",(function(){t.controlsEngaged=!1,t.controlsDragging=!1}))),[t.renderer,t.postProcessingComposer].concat(wa(t.extraRenderers)).forEach((function(e){return e.setSize(t.width,t.height)})),t.camera.aspect=t.width/t.height,t.camera.updateProjectionMatrix(),t.camera.position.z=1e3,t.scene.add(t.skysphere=new Oa.Mesh),t.skysphere.visible=!1,t.loadComplete=t.scene.visible=!u,window.scene=t.scene},update:function(e,t){if(e.width&&e.height&&(t.hasOwnProperty("width")||t.hasOwnProperty("height"))&&(e.container.style.width="".concat(e.width,"px"),e.container.style.height="".concat(e.height,"px"),[e.renderer,e.postProcessingComposer].concat(wa(e.extraRenderers)).forEach((function(t){return t.setSize(e.width,e.height)})),e.camera.aspect=e.width/e.height,e.camera.updateProjectionMatrix()),t.hasOwnProperty("skyRadius")&&e.skyRadius&&(e.controls.hasOwnProperty("maxDistance")&&t.skyRadius&&(e.controls.maxDistance=Math.min(e.controls.maxDistance,e.skyRadius)),e.camera.far=2.5*e.skyRadius,e.camera.updateProjectionMatrix(),e.skysphere.geometry=new Oa.SphereGeometry(e.skyRadius)),t.hasOwnProperty("backgroundColor")){var n=Yo(e.backgroundColor).alpha;void 0===n&&(n=1),e.renderer.setClearColor(new Oa.Color(aa(1,e.backgroundColor)),n)}function r(){e.loadComplete=e.scene.visible=!0}t.hasOwnProperty("backgroundImageUrl")&&(e.backgroundImageUrl?(new Oa.TextureLoader).load(e.backgroundImageUrl,(function(t){t.colorSpace=Oa.SRGBColorSpace,e.skysphere.material=new Oa.MeshBasicMaterial({map:t,side:Oa.BackSide}),e.skysphere.visible=!0,e.onBackgroundImageLoaded&&setTimeout(e.onBackgroundImageLoaded),!e.loadComplete&&r()})):(e.skysphere.visible=!1,e.skysphere.material.map=null,!e.loadComplete&&r())),t.hasOwnProperty("showNavInfo")&&(e.navInfo.style.display=e.showNavInfo?null:"none"),t.hasOwnProperty("objects")&&((t.objects||[]).forEach((function(t){return e.scene.remove(t)})),e.objects.forEach((function(t){return e.scene.add(t)})))}});function Ia(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Pa=".graph-info-msg {\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  color: lavender;\n  opacity: 0.7;\n  font-size: 22px;\n  position: absolute;\n  font-family: Sans-serif;\n}\n\n.scene-container .clickable {\n  cursor: pointer;\n}\n\n.scene-container .grabbable {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n\n.scene-container .grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}";function Da(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Da(Object(n),!0).forEach((function(t){Ua(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Da(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ua(e,t,n){return t=Ga(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fa(e){return Ba(e)||ja(e)||Va(e)||Ha()}function Ba(e){if(Array.isArray(e))return za(e)}function ja(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Va(e,t){if(e){if("string"===typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?za(e,t):void 0}}function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ha(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wa(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ga(e){var t=Wa(e,"string");return"symbol"===typeof t?t:String(t)}function $a(e,t){var n=new t;return{linkProp:function(t){return{default:n[t](),onChange:function(n,r){r[e][t](n)},triggerUpdate:!1}},linkMethod:function(t){return function(n){for(var r=n[e],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=r[t].apply(r,o);return s===r?this:s}}}}Ia(Pa);var qa=window.THREE?window.THREE:{AmbientLight:r.Mig,DirectionalLight:r.Ox3,Vector3:r.Pa4},Xa=170,Ya=$a("forceGraph",io),Ja=Object.assign.apply(Object,Fa(["jsonUrl","graphData","numDimensions","dagMode","dagLevelDistance","dagNodeFilter","onDagError","nodeRelSize","nodeId","nodeVal","nodeResolution","nodeColor","nodeAutoColorBy","nodeOpacity","nodeVisibility","nodeThreeObject","nodeThreeObjectExtend","linkSource","linkTarget","linkVisibility","linkColor","linkAutoColorBy","linkOpacity","linkWidth","linkResolution","linkCurvature","linkCurveRotation","linkMaterial","linkThreeObject","linkThreeObjectExtend","linkPositionUpdate","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalArrowResolution","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleResolution","forceEngine","d3AlphaDecay","d3VelocityDecay","d3AlphaMin","ngraphPhysics","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map((function(e){return Ua({},e,Ya.linkProp(e))})))),Za=Object.assign.apply(Object,Fa(["refresh","getGraphBbox","d3Force","d3ReheatSimulation","emitParticle"].map((function(e){return Ua({},e,Ya.linkMethod(e))})))),Ka=$a("renderObjs",La),Qa=Object.assign.apply(Object,Fa(["width","height","backgroundColor","showNavInfo","enablePointerInteraction"].map((function(e){return Ua({},e,Ka.linkProp(e))})))),es=Object.assign.apply(Object,Fa(["cameraPosition","postProcessingComposer"].map((function(e){return Ua({},e,Ka.linkMethod(e))}))).concat([{graph2ScreenCoords:Ka.linkMethod("getScreenCoords"),screen2GraphCoords:Ka.linkMethod("getSceneCoords")}])),ts=Cn({props:Na(Na({nodeLabel:{default:"name",triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)},triggerUpdate:!1},enableNavigationControls:{default:!0,onChange:function(e,t){var n=t.renderObjs.controls();n&&(n.enabled=e,e&&n.domElement&&n.domElement.dispatchEvent(new PointerEvent("pointerup")))},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1}},Ja),Qa),methods:Na(Na({zoomToFit:function(e,t,n){for(var r,i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return e.renderObjs.fitToBbox((r=e.forceGraph).getGraphBbox.apply(r,o),t,n),this},pauseAnimation:function(e){return null!==e.animationFrameRequestId&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),this},resumeAnimation:function(e){return null===e.animationFrameRequestId&&this._animationCycle(),this},_animationCycle:function(e){e.enablePointerInteraction&&(this.renderer().domElement.style.cursor=null),e.forceGraph.tickFrame(),e.renderObjs.tick(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},tbControls:function(e){return e.renderObjs.tbControls()},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Za),es),stateInit:function(e){var t=e.controlType,n=e.rendererConfig,r=e.extraRenderers;return{forceGraph:new io,renderObjs:La({controlType:t,rendererConfig:n,extraRenderers:r})}},init:function(e,t){e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var n=document.createElement("div");t.container.appendChild(n),t.renderObjs(n);var r,i=t.renderObjs.camera(),o=t.renderObjs.renderer(),a=t.renderObjs.controls();a.enabled=!!t.enableNavigationControls,t.lastSetCameraZ=i.position.z,t.container.appendChild(r=document.createElement("div")),r.className="graph-info-msg",r.textContent="",t.forceGraph.onLoading((function(){r.textContent="Loading..."})).onFinishLoading((function(){r.textContent=""})).onUpdate((function(){t.graphData=t.forceGraph.graphData(),0===i.position.x&&0===i.position.y&&i.position.z===t.lastSetCameraZ&&t.graphData.nodes.length&&(i.lookAt(t.forceGraph.position),t.lastSetCameraZ=i.position.z=Math.cbrt(t.graphData.nodes.length)*Xa)})).onFinishUpdate((function(){if(t._dragControls){var e=t.graphData.nodes.find((function(e){return e.__initialFixedPos&&!e.__disposeControlsAfterDrag}));e?e.__disposeControlsAfterDrag=!0:t._dragControls.dispose(),t._dragControls=void 0}if(t.enableNodeDrag&&t.enablePointerInteraction&&"d3"===t.forceEngine){var n=t._dragControls=new d(t.graphData.nodes.map((function(e){return e.__threeObj})).filter((function(e){return e})),i,o.domElement);n.addEventListener("dragstart",(function(e){a.enabled=!1,e.object.__initialPos=e.object.position.clone(),e.object.__prevPos=e.object.position.clone();var t=ns(e.object).__data;!t.__initialFixedPos&&(t.__initialFixedPos={fx:t.fx,fy:t.fy,fz:t.fz}),!t.__initialPos&&(t.__initialPos={x:t.x,y:t.y,z:t.z}),["x","y","z"].forEach((function(e){return t["f".concat(e)]=t[e]})),o.domElement.classList.add("grabbable")})),n.addEventListener("drag",(function(e){var n=ns(e.object);if(!e.object.hasOwnProperty("__graphObjType")){var r=e.object.__initialPos,i=e.object.__prevPos,o=e.object.position;n.position.add(o.clone().sub(i)),i.copy(o),o.copy(r)}var a=n.__data,s=n.position,l={x:s.x-a.x,y:s.y-a.y,z:s.z-a.z};["x","y","z"].forEach((function(e){return a["f".concat(e)]=a[e]=s[e]})),t.forceGraph.d3AlphaTarget(.3).resetCountdown(),a.__dragged=!0,t.onNodeDrag(a,l)})),n.addEventListener("dragend",(function(e){delete e.object.__initialPos,delete e.object.__prevPos;var r=ns(e.object).__data;r.__disposeControlsAfterDrag&&(n.dispose(),delete r.__disposeControlsAfterDrag);var i=r.__initialFixedPos,s=r.__initialPos,l={x:s.x-r.x,y:s.y-r.y,z:s.z-r.z};i&&(["x","y","z"].forEach((function(e){var t="f".concat(e);void 0===i[t]&&delete r[t]})),delete r.__initialFixedPos,delete r.__initialPos,r.__dragged&&(delete r.__dragged,t.onNodeDragEnd(r,l))),t.forceGraph.d3AlphaTarget(0).resetCountdown(),t.enableNavigationControls&&(a.enabled=!0,a.domElement&&a.domElement.ownerDocument&&a.domElement.ownerDocument.dispatchEvent(new PointerEvent("pointerup",{pointerType:"touch"}))),o.domElement.classList.remove("grabbable")}))}})),t.renderObjs.objects([new qa.AmbientLight(13421772),new qa.DirectionalLight(16777215,.6),t.forceGraph]).hoverOrderComparator((function(e,t){var n=ns(e);if(!n)return 1;var r=ns(t);if(!r)return-1;var i=function(e){return"node"===e.__graphObjType};return i(r)-i(n)})).tooltipContent((function(e){var n=ns(e);return n&&An(t["".concat(n.__graphObjType,"Label")])(n.__data)||""})).hoverDuringDrag(!1).onHover((function(e){var n=ns(e);if(n!==t.hoverObj){var r=t.hoverObj?t.hoverObj.__graphObjType:null,i=t.hoverObj?t.hoverObj.__data:null,a=n?n.__graphObjType:null,s=n?n.__data:null;if(r&&r!==a){var l=t["on".concat("node"===r?"Node":"Link","Hover")];l&&l(null,i)}if(a){var c=t["on".concat("node"===a?"Node":"Link","Hover")];c&&c(s,r===a?i:null)}o.domElement.classList[n&&t["on".concat("node"===a?"Node":"Link","Click")]||!n&&t.onBackgroundClick?"add":"remove"]("clickable"),t.hoverObj=n}})).clickAfterDrag(!1).onClick((function(e,n){var r=ns(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","Click")];i&&i(r.__data,n)}else t.onBackgroundClick&&t.onBackgroundClick(n)})).onRightClick((function(e,n){var r=ns(e);if(r){var i=t["on".concat("node"===r.__graphObjType?"Node":"Link","RightClick")];i&&i(r.__data,n)}else t.onBackgroundRightClick&&t.onBackgroundRightClick(n)})),this._animationCycle()}});function ns(e){var t=e;while(t&&!t.hasOwnProperty("__graphObjType"))t=t.parent;return t}},5288:function(e,t,n){"use strict";n.d(t,{QB:function(){return q},ms:function(){return Te},QT:function(){return Ee},wI:function(){return Ae}});var r={};n.r(r),n.d(r,{$reactive:function(){return A},$reactiveproxy:function(){return R},$skipreactive:function(){return C},Atom:function(){return B},Observer:function(){return d},Reaction:function(){return f},autorun:function(){return U},autorunAsync:function(){return F},createAtom:function(){return j},hasRunningReaction:function(){return p},isActionRunning:function(){return c},isReactive:function(){return k},isTrackingDisabled:function(){return y},markRaw:function(){return O},reaction:function(){return g},reactive:function(){return P},runInAction:function(){return u},runningReaction:function(){return m},untracked:function(){return b},untrackedCB:function(){return _}});n(7658);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=0;function c(){return l>0}function u(e){l++;try{return e()}finally{l--,0===l&&x()}}var d=function(){function e(e){this.trigger=e,this.observing=new Map}var t=e.prototype;return t.registerConnection=function(e){var t=this.observing.get(e.observable);t||(t={byKey:new Set,iterate:!1},this.observing.set(e.observable,t)),"iterate"===e.type?t.iterate=!0:t.byKey.add(e.key)},t.removeObservers=function(){var e=this;this.observing.forEach((function(t,n){t.iterate&&n[A].connections.iterate.delete(e),t.byKey.forEach((function(t){n[A].connections.byKey.get(t).delete(e)}))})),this.observing.clear()},e}(),h=[],f=function(e){function t(t,n,r){var i;if(i=e.call(this,(function(){return i._trigger()}))||this,i.func=t,i.options=n,i.effect=r,i.isInitial=!0,i.reaction=function(){h.push(s(i));try{i.func()}finally{h.pop()}!i.effect||i.isInitial&&!i.options.fireImmediately||i.effect(),i.isInitial=!1},!r&&!i.options.fireImmediately)throw new Error("if no effect function passed, should always fireImmediately");return i.reaction(),i}o(t,e);var n=t.prototype;return n._trigger=function(){if(h.includes(this))throw new Error("already running reaction");this.removeObservers(),this.reaction()},t}(d);function p(){return!!h.length}function m(){return h.length?h[h.length-1]:void 0}function g(e,t,n){var r=i({name:"unnamed",fireImmediately:!0},n),o=new f(e,r,t);return o}var v=!1;function y(){return v}function b(e){v=!0;try{e()}finally{v=!1}}function _(e){return function(){return b(e)}}var w=[];function x(){var e=[].concat(w);w=[],S(e)}function S(e){var t=new Set;e.forEach((function(e){var n;"add"!==e.type&&"delete"!==e.type||e.observable[A].connections.iterate.forEach((function(e){t.add(e)})),null==(n=e.observable[A].connections.byKey.get(e.key))||n.forEach((function(e){t.add(e)}))})),t.forEach((function(e){e.trigger()}))}function E(e){c()?w.push(e):S([e])}function T(e,t){if("iterate"===e.type)e.observable[A].connections.iterate.add(t);else{var n=e.observable[A].connections.byKey.get(e.key);n||(n=new Set,e.observable[A].connections.byKey.set(e.key,n)),n.add(t)}}function M(e,t){if(!y()){var n=m();n&&(T(e,n),n.registerConnection(e)),t&&(T(e,t),t.registerConnection(e))}}var C=Symbol("$skipreactive"),A=Symbol("$reactive"),R=Symbol("$reactiveproxy");function k(e,t){return!(!e||!e[R]||e[R].implicitObserver!==t)}function O(e){return e[C]=!0,e}function L(e){return!(!e||k(e)||!e[A])}function I(e,t,n){if(void 0===n&&(n=!1),e[C])return e;if(k(e,t))return e;var r=D(e,n);if(!t)return r;var i=r[A].proxiesWithImplicitObserver.get(t);if(!i){var o={implicitObserver:t};Object.setPrototypeOf(o,N),i=new Proxy(r[A].raw,o),r[A].proxiesWithImplicitObserver.set(t,i)}return i}var P=I;function D(e,t){if(void 0===t&&(t=!1),k(e))return e;if(L(e))return e[A].proxy;if(e[A]||e[R])throw new Error("unexpected");var n={connections:{iterate:new Set,byKey:new Map},proxy:{},raw:e,proxiesWithImplicitObserver:new Map,shallow:t};Object.defineProperty(e,A,{enumerable:!1,writable:!0,configurable:!0,value:n});var r=new Proxy(e,N);return n.proxy=r,r}var N={has:function(e,t){var n=Reflect.has(e,t);return"symbol"===typeof t||M({observable:e,key:t,type:"has"},this.implicitObserver),n},get:function(e,t,n){if(t===R)return{implicitObserver:this.implicitObserver};var r=Reflect.get(e,t,n);if("symbol"===typeof t)return r;if("length"===t&&Array.isArray(e)?M({observable:e,type:"iterate"},this.implicitObserver):M({observable:e,key:t,type:"get"},this.implicitObserver),L(r))return I(r,this.implicitObserver);if(e[A].shallow)return r;if("object"===typeof r&&null!==r&&!k(r,this.implicitObserver)&&!Object.isFrozen(r)){var i=Reflect.getOwnPropertyDescriptor(e,t);if((!i||!1!==i.writable||!1!==i.configurable)&&(p()||this.implicitObserver))return I(r,this.implicitObserver)}return r},ownKeys:function(e){return M({observable:e,type:"iterate"},this.implicitObserver),Reflect.ownKeys(e)},set:function(e,t,n,r){return u((function(){if("symbol"===typeof t)return Reflect.set(e,t,n,r);var i=Object.hasOwnProperty.call(e,t),o=Reflect.get(e,t,r),a=Reflect.set(e,t,n,r);if(i){if(n!==o)if("length"===t&&Array.isArray(e))if(o<n);else for(var s=n+1;s<=o;s++)E({observable:e,key:""+(s-1),oldValue:void 0,type:"delete"});else E({observable:e,key:t,value:n,oldValue:o,type:"update"})}else E({observable:e,key:t,value:n,type:"add"});return a}))},deleteProperty:function(e,t){return u((function(){if("symbol"===typeof t)return Reflect.deleteProperty(e,t);var n=Object.hasOwnProperty.call(e,t),r=Reflect.get(e,t),i=Reflect.deleteProperty(e,t);return n&&E({observable:e,key:t,oldValue:r,type:"delete"}),i}))},preventExtensions:function(e){throw new Error("Dynamic observable objects cannot be frozen")}};function U(e,t){var n=i({name:"unnamed",fireImmediately:!0},t),r=new f(e,n);return r}function F(e,t,n){var r=i({name:"unnamed",fireImmediately:!0},n),o=new f((function(){e(t)}),r);return t=P(t,o),t.bla=4,r.fireImmediately&&o.trigger(),o}var B=function(){function e(){this._observable=P({_key:1})}var t=e.prototype;return t.reportObserved=function(e){return P(this._observable,e)._key},t.reportChanged=function(){this._observable._key++},e}();function j(e,t,n){return new B}var V=n(567);let z,H,W=e=>e();function G(e,t){return H?H(e,t):void W(e)}function $(e,t,n){if(z)return z.apply(null,arguments);throw new Error("observable implementation not provided. Call enableReactiveBindings, enableVueBindings or enableMobxBindings.")}function q(e){z=function(t,n){let r=0;const i=e.reactive({data:r}),o={reportObserved(){return i.data},reportChanged(){i.data=++r}};return n&&n(),o},H=void 0}function X(e){z=function(t,n,r){const i=e.createAtom(t);return n&&n(),i},H=(t,n)=>e.reaction(t,n,{fireImmediately:!1})}const Y=new WeakSet;function J(e){if(Y.has(e))return e;let t;Y.add(e);const n=new Map;function r(){if(!t){const n=e=>{(e.changes.added.size||e.changes.deleted.size||e.changes.keys.size||e.changes.delta.length)&&t.reportChanged()};t=$("map",(()=>{e.observe(n)}),(()=>{e.unobserve(n)}))}t.reportObserved(e._implicitObserver)}function i(t){let r=n.get(t);if(!r){const i=e=>{r.reportChanged()};r=$(t+"",(()=>{e.observe(i)}),(()=>{e.unobserve(i)})),n.set(t,r)}r.reportObserved(e._implicitObserver)}const o=e.get;function a(t){const n=e[t];e[t]=function(){r();const e=Reflect.apply(n,this,arguments);return e}}function s(t){let n=e,i=Object.getOwnPropertyDescriptor(n,t);if(i||(n=Object.getPrototypeOf(n),i=Object.getOwnPropertyDescriptor(n,t)),i||(n=Object.getPrototypeOf(n),i=Object.getOwnPropertyDescriptor(n,t)),!i)throw new Error("property not found");const o=i.get;i.get=function(){this._disableTracking||r();const e=Reflect.apply(o,this,arguments);return e},Object.defineProperty(e,t,i)}function l(t,n){let r=e,i=Object.getOwnPropertyDescriptor(r,t);if(i||(r=Object.getPrototypeOf(r),i=Object.getOwnPropertyDescriptor(r,t)),i||(r=Object.getPrototypeOf(r),i=Object.getOwnPropertyDescriptor(r,t)),!i)throw new Error("property not found");Object.defineProperty(e,n,i)}e.get=function(e){if("number"!==typeof e)throw new Error("unexpected");i(e);const t=Reflect.apply(o,this,arguments);return t},a("forEach"),a("toJSON"),a("toArray"),a("slice"),a("map"),l("length","lengthUntracked"),s("length");const c=e.push;e.push=function(e){this._disableTracking=!0;const t=c.call(this,e);return this._disableTracking=!1,t};const u=e.slice;return e.slice=function(e,t){this._disableTracking=!0;const n=u.call(this,e,t);return this._disableTracking=!1,n},e}const Z=new WeakSet;function K(e){if(Z.has(e))return e;let t;function n(){if(!t){let n=Array.from(e.share.keys());const r=r=>{const i=Array.from(e.share.keys());JSON.stringify(n)!==JSON.stringify(i)&&(n=i,t.reportChanged())};t=$("map",(()=>{e.on("beforeObserverCalls",r)}),(()=>{e.off("beforeObserverCalls",r)}))}t.reportObserved(e._implicitObserver)}Z.add(e);const r=e.get;function i(r){const i=e[r];let o;e[r]=function(){let r,a=arguments;return n(),o&&o.removeObservers(),o=G((()=>(r=Reflect.apply(i,e,a),r)),(()=>t.reportChanged())),r}}return e.get=function(e){if("string"!==typeof e)throw new Error("unexpected");const t=Reflect.apply(r,this,arguments);return oe(t),t},i("toJSON"),Object.defineProperty(e,"keys",{get:()=>(n(),Object.keys(e.share))}),e}const Q=new WeakSet;function ee(e){if(Q.has(e))return e;let t;Q.add(e);const n=new Map;function r(){if(!t){const n=e=>{(e.changes.added.size||e.changes.deleted.size||e.changes.keys.size||e.changes.delta.length)&&t.reportChanged()};t=$("map",(()=>{e.observe(n)}),(()=>{e.unobserve(n)}))}t.reportObserved(e._implicitObserver)}function i(t){let r=n.get(t);if(!r){const i=e=>{e.keysChanged.has(t)&&(e.changes.added.size||e.changes.deleted.size||e.changes.keys.size||e.changes.delta.length)&&r.reportChanged()};r=$(t,(()=>{e.observe(i)}),(()=>{e.unobserve(i)})),n.set(t,r)}r.reportObserved(e._implicitObserver)}const o=e.get;function a(t){const n=e[t];e[t]=function(){r();const e=Reflect.apply(n,this,arguments);return e}}return e.get=function(e){if("string"!==typeof e)throw new Error("unexpected");i(e);const t=Reflect.apply(o,this,arguments);return t},a("values"),a("entries"),a("keys"),a("forEach"),a("toJSON"),e}const te=new WeakSet;function ne(e){if(te.has(e))return e;let t;te.add(e);const n=e=>{t.reportChanged()};function r(n){const r=e[n];e[n]=function(){t.reportObserved(this._implicitObserver);const e=Reflect.apply(r,this,arguments);return e}}return t=$("text",(()=>{e.observe(n)}),(()=>{e.unobserve(n)})),r("toString"),r("toJSON"),e}const re=new WeakSet;function ie(e){if(re.has(e))return e;let t;re.add(e);const n=e=>{(e.changes.added.size||e.changes.deleted.size||e.changes.keys.size||e.changes.delta.length)&&t.reportChanged()};function r(n){const r=e[n];e[n]=function(){t.reportObserved(this._implicitObserver);const e=Reflect.apply(r,this,arguments);return e}}function i(n){let r=e,i=Object.getOwnPropertyDescriptor(r,n);if(i||(r=Object.getPrototypeOf(r),i=Object.getOwnPropertyDescriptor(r,n)),i||(r=Object.getPrototypeOf(r),i=Object.getOwnPropertyDescriptor(r,n)),!i)throw new Error("property not found");const o=i.get;i.get=function(){t.reportObserved(this._implicitObserver);const e=Reflect.apply(o,this,arguments);return e},Object.defineProperty(e,n,i)}return t=$("xml",(()=>{e.observe(n)}),(()=>{e.unobserve(n)})),r("toString"),r("toDOM"),r("toArray"),r("getAttribute"),i("firstChild"),e}function oe(e){return e instanceof V.eI||e instanceof V.xv?ne(e):e instanceof V.mJ?J(e):e instanceof V.D5?ee(e):e instanceof V.QW||Object.prototype.hasOwnProperty.call(e,"autoLoad")?K(e):e instanceof V.sI||e instanceof V.lt?ie(e):e}function ae(e){e.share.forEach((e=>{e.constructor!==V.QP&&oe(e)}))}function se(e,t){for(let r=e.length-1;r>=t;r--){let t=e[r];if(!t.deleted){var n;if(t instanceof V.GC)continue;null==(n=t.content)||n.getContent().forEach((e=>{e instanceof V.QP&&oe(e)}))}}}const le=new WeakSet;function ce(e){le.has(e)||(le.add(e),oe(e),e.store.clients.forEach((e=>{e&&se(e,0)})),ae(e),e.on("beforeObserverCalls",(t=>{ae(e),t.afterState.forEach(((e,n)=>{const r=t.beforeState.get(n)||0;if(r!==e){const e=t.doc.store.clients.get(n);if(!e)return;const i=V.g4(e,r);se(e,i)}}))})))}class ue{constructor(e){this.value=void 0,this.value=e}}function de(e){return ArrayBuffer.isView(e)?new ue(e):new ue(Object.freeze(e))}function he(e){const t=function(){var t;let n=null==(t=this[R])?void 0:t.implicitObserver;e._implicitObserver=n;const r=e.slice.bind(e).apply(e,arguments);return r.map((e=>{const t=ye(e,n);return n&&"object"===typeof t?P(t,n):t}))},n=function(e){return e.map((e=>{const t=be(e);let n=Me(t)||t;if(n instanceof ue&&(n=n.value),n instanceof V.QP&&n.parent)throw new Error("Not supported: reassigning object that already occurs in the tree.");return n}))},r=function(){return[].findIndex.apply(t.apply(this),arguments)},i={slice:t,unshift:(...t)=>(e.unshift(n(t)),e.lengthUntracked),push:(...t)=>(e.push(n(t)),e.lengthUntracked),insert:e.insert.bind(e),toJSON:e.toJSON.bind(e),forEach:function(){return[].forEach.apply(t.apply(this),arguments)},every:function(){return[].every.apply(t.apply(this),arguments)},filter:function(){return[].filter.apply(t.apply(this),arguments)},find:function(){return[].find.apply(t.apply(this),arguments)},findIndex:r,some:function(){return[].some.apply(t.apply(this),arguments)},includes:function(){return[].includes.apply(t.apply(this),arguments)},map:function(){return[].map.apply(t.apply(this),arguments)},indexOf:function(){const e=arguments[0];return r.call(this,(t=>Ce(t,e)))},splice:function(){let r=arguments[0]<0?e.length-Math.abs(arguments[0]):arguments[0],i=arguments[1],o=Array.from(Array.from(arguments).slice(2)),a=t.apply(this,[r,Number.isInteger(i)?r+i:void 0]);return e.doc?e.doc.transact((()=>{e.delete(r,i),e.insert(r,n(o))})):(e.delete(r,i),e.insert(r,n(o))),a}},o=[];for(let a in i)o[a]=i[a];return o}function fe(e){if("string"===typeof e&&e.trim().length){const t=Number(e);if(Number.isInteger(t))return t}return e}function pe(e,t=new V.mJ){if(t[A])throw new Error("unexpected");const n=he(t),r=new Proxy(n,{set:(e,t,n)=>{const r=fe(t);if("number"!==typeof r)throw new Error;throw new Error("array assignment is not implemented / supported")},get:(e,n,r)=>{const i=fe(n);if(i===Se)return t;if("number"===typeof i){let e;var o;if(r&&r[R])e=null==(o=r[R])?void 0:o.implicitObserver,t._implicitObserver=e;let n=t.get(i);return n=ye(n,e),n}if(i===Symbol.toStringTag)return"Array";if(i===Symbol.iterator){const e=t.slice();return Reflect.get(e,i)}if("length"===i)return t.length;const a=Reflect.get(e,i,r);return a},deleteProperty:(e,n)=>{const r=fe(n);if("number"!==typeof r)throw new Error;return r<t.lengthUntracked&&r>=0&&(t.delete(r),!0)},has:(e,n)=>{const r=fe(n);return"number"!==typeof r?Reflect.has(e,r):r<t.lengthUntracked&&r>=0},getOwnPropertyDescriptor(e,n){const r=fe(n);return"length"===r?{enumerable:!1,configurable:!1,writable:!0}:"number"===typeof r&&r>=0&&r<t.lengthUntracked?{enumerable:!0,configurable:!0,writable:!0}:void 0},ownKeys:e=>{const n=[];for(let r=0;r<t.length;r++)n.push(r+"");return n.push("length"),n}});return n.push.apply(r,e),r}function me(e,t=new V.D5){if(t[A])throw new Error("unexpected");const n=new Proxy({},{set:(e,n,r)=>{if("string"!==typeof n)throw new Error;const i=be(r);let o=Me(i)||i;if(o instanceof ue&&(o=o.value),o instanceof V.QP&&o.parent)throw new Error("Not supported: reassigning object that already occurs in the tree.");return t.set(n,o),!0},get:(e,n,r)=>{if(n===Se)return t;if("string"!==typeof n)return Reflect.get(e,n);let i;var o;r&&r[R]&&(i=null==(o=r[R])?void 0:o.implicitObserver,t._implicitObserver=i);let a=t.get(n);return a=ye(a,i),a},deleteProperty:(e,n)=>{if("string"!==typeof n)throw new Error;return!!t.has(n)&&(t.delete(n),!0)},has:(e,n)=>!("string"!==typeof n||!t.has(n)),getOwnPropertyDescriptor(e,n){if("string"===typeof n&&t.has(n))return{enumerable:!0,configurable:!0}},ownKeys:e=>Array.from(t.keys())});ve.set(t,n);for(let r in e)n[r]=e[r];return n}function ge(e){return e instanceof V.QP}const ve=new WeakMap;function ye(e,t){if(ge(e)){if(e._implicitObserver=t,e instanceof V.mJ||e instanceof V.D5){if(!ve.has(e)){const t=be(e);ve.set(e,t)}e=ve.get(e)}else{if(!(e instanceof V.lt||e instanceof V.sI||e instanceof V.eI||e instanceof V.yP||e instanceof V.xv))throw new Error("unknown YType");O(e),e.__v_skip=!0}return e}return null===e?null:"object"===typeof e?de(e):e}function be(e){if(null===e||void 0===e)return e;if(e=Me(e)||e,e instanceof V.mJ)return pe([],e);if(e instanceof V.D5)return me({},e);if("string"===typeof e)return e;if(Array.isArray(e))return pe(e);if(e instanceof V.lt||e instanceof V.sI||e instanceof V.eI||e instanceof V.yP)return e;if(e instanceof V.xv)return e;if("object"===typeof e)return e instanceof ue?e:me(e);if("number"===typeof e||"boolean"===typeof e)return e;throw new Error("invalid")}function _e(e){for(let[t,n]of Object.entries(e))if(Array.isArray(n)){if(0!==n.length)throw new Error("Root Array initializer must always be empty array")}else if(n&&"object"===typeof n){if(0!==Object.keys(n).length||Object.getPrototypeOf(n)!==Object.prototype)throw new Error("Root Object initializer must always be {}")}else if("xml"!==n&&"text"!==n)throw new Error("unknown Root initializer")}function we(e,t,n){let r=t[n];if(r)return"xml"===r?e.getXmlFragment(n):"text"===r?e.getText(n):Array.isArray(r)?e.getArray(n):e.getMap(n);"__v_raw"!==n&&"__v_isRef"!==n&&"__v_isReadonly"!==n&&console.warn("property not found on root doc",n)}function xe(e,t){if(e[A])throw new Error("unexpected");_e(t);const n=new Proxy({},{set:(e,t,n)=>{if("string"!==typeof t)throw new Error;throw new Error("cannot set new elements on root doc")},get:(n,r,i)=>{if(r===Se)return e;if("string"!==typeof r)return Reflect.get(n,r);let o;var a;i&&i[R]&&(o=null==(a=i[R])?void 0:a.implicitObserver,e._implicitObserver=o);if("toJSON"===r){for(let r of Object.keys(t))we(e,t,r);const n=Reflect.get(e,r);return n}let s=we(e,t,r);return s=ye(s,o),s},deleteProperty:(e,t)=>{throw new Error("deleteProperty not available for doc")},has:(t,n)=>!("string"!==typeof n||!e.share.has(n)),getOwnPropertyDescriptor(t,n){if("string"===typeof n&&e.share.has(n)||"toJSON"===n)return{enumerable:!0,configurable:!0}},ownKeys:t=>Array.from(e.share.keys())});return ve.set(e,n),n}X(r);const Se=Symbol("INTERNAL_SYMBOL");function Ee(e,t){const n=Me(e)||e;if(!n)throw new Error("not a valid synced object");return n instanceof V.QW?(n.on("update",t),()=>{n.off("update",t)}):(n.observeDeep(t),()=>{n.unobserveDeep(t)})}function Te(e){const t=Me(e);if(!(t instanceof V.QW))throw new Error("store is not a valid syncedStore that maps to a Y.Doc");return t}function Me(e){if("object"!==typeof e||null===e)return;const t=e[Se];return t&&(O(t),t.__v_skip=!0),t}function Ce(e,t){if(e===t)return!0;if("object"===typeof e&&"object"===typeof t){const n=Me(e),r=Me(t);return!(!n||!r)&&n===r}return!1}function Ae(e,t=new V.QW){return ce(t),xe(t,e)}},5989:function(e,t,n){"use strict";n.d(t,{Dp:function(){return o},Z$:function(){return r},kJ:function(){return a},s7:function(){return i}});n(7658);const r=e=>e[e.length-1],i=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},o=Array.from,a=Array.isArray},3388:function(e,t,n){"use strict";n.d(t,{$2:function(){return d},CY:function(){return o},Ko:function(){return a},Qn:function(){return i},RP:function(){return f},Tg:function(){return p},Vw:function(){return r},cq:function(){return s},jS:function(){return h},kr:function(){return u},rc:function(){return l},x1:function(){return c}});const r=1,i=2,o=4,a=8,s=32,l=64,c=128,u=31,d=63,h=127,f=2147483647,p=4294967295},3924:function(e,t,n){"use strict";n.d(t,{Ld:function(){return d},nY:function(){return f},r1:function(){return h}});var r=n(7862),i=n(893),o=n(3425),a=n(9674);const s=new Map;class l{constructor(e){this.room=e,this.onmessage=null,this._onChange=t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:o.Gh(t.newValue||"")}),a.z2(this._onChange)}postMessage(e){a.XN.setItem(this.room,o.s3(o.eh(e)))}close(){a.F(this._onChange)}}const c="undefined"===typeof BroadcastChannel?l:BroadcastChannel,u=e=>r.Yu(s,e,(()=>{const t=i.Ue(),n=new c(e);return n.onmessage=e=>t.forEach((t=>t(e.data,"broadcastchannel"))),{bc:n,subs:t}})),d=(e,t)=>(u(e).subs.add(t),t),h=(e,t)=>{const n=u(e),r=n.subs.delete(t);return r&&0===n.subs.size&&(n.bc.close(),s.delete(e)),r},f=(e,t,n=null)=>{const r=u(e);r.bc.postMessage(t),r.subs.forEach((e=>e(t,n)))}},3425:function(e,t,n){"use strict";n.d(t,{Gh:function(){return f},Te:function(){return a},eh:function(){return s},f9:function(){return p},s3:function(){return h}});n(1439),n(7585),n(5315),n(2801);var r=n(654),i=n(5342);const o=e=>new Uint8Array(e),a=(e,t,n)=>new Uint8Array(e,t,n),s=e=>new Uint8Array(e),l=e=>{let t="";for(let n=0;n<e.byteLength;n++)t+=r.IK(e[n]);return btoa(t)},c=e=>Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"),u=e=>{const t=atob(e),n=o(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},d=e=>{const t=Buffer.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},h=i.jU?l:c,f=i.jU?u:d,p=e=>{const t=o(e.byteLength);return t.set(e),t}},2294:function(e,t,n){"use strict";n.d(t,{HN:function(){return m},UF:function(){return R},XW:function(){return A},dD:function(){return k},kf:function(){return w},kj:function(){return g},l1:function(){return h},sO:function(){return O},v_:function(){return C},yg:function(){return v}});n(7658);var r=n(3425),i=n(3388),o=n(1383),a=n(4206),s=n(654),l=n(6969);const c=l.Ue("Unexpected end of array"),u=l.Ue("Integer out of Range");class d{constructor(e){this.arr=e,this.pos=0}}const h=e=>new d(e),f=e=>e.pos!==e.arr.length,p=(e,t)=>{const n=r.Te(e.arr.buffer,e.pos+e.arr.byteOffset,t);return e.pos+=t,n},m=e=>p(e,v(e)),g=e=>e.arr[e.pos++],v=e=>{let t=0,n=1;const r=e.arr.length;while(e.pos<r){const r=e.arr[e.pos++];if(t+=(r&i.jS)*n,n*=128,r<i.x1)return t;if(t>a.YM)throw u}throw c},y=e=>{let t=e.arr[e.pos++],n=t&i.$2,r=64;const o=(t&i.rc)>0?-1:1;if(0===(t&i.x1))return o*n;const s=e.arr.length;while(e.pos<s){if(t=e.arr[e.pos++],n+=(t&i.jS)*r,r*=128,t<i.x1)return o*n;if(n>a.YM)throw u}throw c},b=e=>{let t=v(e);if(0===t)return"";{let n=String.fromCodePoint(g(e));if(--t<100)while(t--)n+=String.fromCodePoint(g(e));else while(t>0){const r=t<1e4?t:1e4,i=e.arr.subarray(e.pos,e.pos+r);e.pos+=r,n+=String.fromCodePoint.apply(null,i),t-=r}return decodeURIComponent(escape(n))}},_=e=>s.CO.decode(m(e)),w=s.CO?_:b,x=(e,t)=>{const n=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,t);return e.pos+=t,n},S=e=>x(e,4).getFloat32(0,!1),E=e=>x(e,8).getFloat64(0,!1),T=e=>x(e,8).getBigInt64(0,!1),M=[e=>{},e=>null,y,S,E,T,e=>!1,e=>!0,w,e=>{const t=v(e),n={};for(let r=0;r<t;r++){const t=w(e);n[t]=C(e)}return n},e=>{const t=v(e),n=[];for(let r=0;r<t;r++)n.push(C(e));return n},m],C=e=>M[127-g(e)](e);class A extends d{constructor(e,t){super(e),this.reader=t,this.s=null,this.count=0}read(){return 0===this.count&&(this.s=this.reader(this),f(this)?this.count=v(this)+1:this.count=-1),this.count--,this.s}}class R extends d{constructor(e){super(e),this.s=0,this.count=0}read(){if(0===this.count){this.s=y(this);const e=o.GR(this.s);this.count=1,e&&(this.s=-this.s,this.count=v(this)+2)}return this.count--,this.s}}class k extends d{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(0===this.count){const e=y(this),t=1&e;this.diff=o.GW(e/2),this.count=1,t&&(this.count=v(this)+2)}return this.s+=this.diff,this.count--,this.s}}class O{constructor(e){this.decoder=new R(e),this.str=w(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),t=this.str.slice(this.spos,e);return this.spos=e,t}}},8148:function(e,t,n){"use strict";n.d(t,{$F:function(){return m},EM:function(){return O},GF:function(){return L},HE:function(){return P},HK:function(){return S},Mf:function(){return u},TS:function(){return U},_f:function(){return h},kE:function(){return d},mP:function(){return E},sX:function(){return N},uE:function(){return g},uw:function(){return x}});n(1439),n(7585),n(5315),n(7658);var r=n(3425),i=n(1383),o=n(4206),a=n(3388),s=n(654),l=n(5989);class c{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const u=()=>new c,d=e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t},h=e=>{const t=new Uint8Array(d(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(r.Te(e.cbuf.buffer,0,e.cpos),n),t},f=(e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(r.Te(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*i.Fp(n,t)),e.cpos=0)},p=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},m=p,g=(e,t)=>{while(t>a.jS)p(e,a.x1|a.jS&t),t=i.GW(t/128);p(e,a.jS&t)},v=(e,t)=>{const n=i.GR(t);n&&(t=-t),p(e,(t>a.$2?a.x1:0)|(n?a.rc:0)|a.$2&t),t=i.GW(t/64);while(t>0)p(e,(t>a.jS?a.x1:0)|a.jS&t),t=i.GW(t/128)},y=new Uint8Array(3e4),b=y.length/3,_=(e,t)=>{if(t.length<b){const n=s.YZ.encodeInto(t,y).written||0;g(e,n);for(let t=0;t<n;t++)p(e,y[t])}else E(e,s.lz(t))},w=(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;g(e,r);for(let i=0;i<r;i++)p(e,n.codePointAt(i))},x=s.YZ&&s.YZ.encodeInto?_:w,S=(e,t)=>{const n=e.cbuf.length,r=e.cpos,o=i.VV(n-r,t.length),a=t.length-o;e.cbuf.set(t.subarray(0,o),r),e.cpos+=o,a>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(i.Fp(2*n,a)),e.cbuf.set(t.subarray(o)),e.cpos=a)},E=(e,t)=>{g(e,t.byteLength),S(e,t)},T=(e,t)=>{f(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},M=(e,t)=>T(e,4).setFloat32(0,t,!1),C=(e,t)=>T(e,8).setFloat64(0,t,!1),A=(e,t)=>T(e,8).setBigInt64(0,t,!1),R=new DataView(new ArrayBuffer(4)),k=e=>(R.setFloat32(0,e),R.getFloat32(0)===e),O=(e,t)=>{switch(typeof t){case"string":p(e,119),x(e,t);break;case"number":o.U(t)&&i.Wn(t)<=a.RP?(p(e,125),v(e,t)):k(t)?(p(e,124),M(e,t)):(p(e,123),C(e,t));break;case"bigint":p(e,122),A(e,t);break;case"object":if(null===t)p(e,126);else if(l.kJ(t)){p(e,117),g(e,t.length);for(let n=0;n<t.length;n++)O(e,t[n])}else if(t instanceof Uint8Array)p(e,116),E(e,t);else{p(e,118);const n=Object.keys(t);g(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];x(e,i),O(e,t[i])}}break;case"boolean":p(e,t?120:121);break;default:p(e,127)}};class L extends c{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&g(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const I=e=>{e.count>0&&(v(e.encoder,1===e.count?e.s:-e.s),e.count>1&&g(e.encoder,e.count-2))};class P{constructor(){this.encoder=new c,this.s=0,this.count=0}write(e){this.s===e?this.count++:(I(this),this.count=1,this.s=e)}toUint8Array(){return I(this),h(this.encoder)}}const D=e=>{if(e.count>0){const t=2*e.diff+(1===e.count?0:1);v(e.encoder,t),e.count>1&&g(e.encoder,e.count-2)}};class N{constructor(){this.encoder=new c,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(D(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return D(this),h(this.encoder)}}class U{constructor(){this.sarr=[],this.s="",this.lensE=new P}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new c;return this.sarr.push(this.s),this.s="",x(e,this.sarr.join("")),S(e,this.lensE.toUint8Array()),h(e)}}},5342:function(e,t,n){"use strict";n.d(t,{E0:function(){return p},jU:function(){return c},hH:function(){return v}});n(7658);var r=n(7862),i=n(654);const o=e=>void 0===e?null:e;var a=n(9674),s=n(7409);const l="undefined"!==typeof process&&process.release&&/node|io\.js/.test(process.release.name),c="undefined"!==typeof window&&"undefined"!==typeof document&&!l;"undefined"!==typeof navigator&&/Mac/.test(navigator.platform);let u;const d=[],h=()=>{if(void 0===u)if(l){u=r.Ue();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];"-"===r[0]?(null!==t&&u.set(t,""),t=r):null!==t?(u.set(t,r),t=null):d.push(r)}null!==t&&u.set(t,"")}else"object"===typeof location?(u=r.Ue(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");u.set(`--${i.NF(t,"-")}`,n),u.set(`-${i.NF(t,"-")}`,n)}}))):u=r.Ue();return u},f=e=>h().has(e),p=e=>o(l?{NODE_ENV:"production",BASE_URL:"/syncld/"}[e.toUpperCase()]:a.XN.getItem(e)),m=e=>f("--"+e)||null!==p(e),g=(m("production"),l&&s.gB({NODE_ENV:"production",BASE_URL:"/syncld/"}.FORCE_COLOR,["true","1","2"])),v=!f("no-colors")&&(!l||process.stdout.isTTY||g)&&(!l||f("color")||g||null!==p("COLORTERM")||(p("TERM")||"").includes("color"))},6969:function(e,t,n){"use strict";n.d(t,{Nw:function(){return i},Ue:function(){return r},zR:function(){return o}});const r=e=>new Error(e),i=()=>{throw r("Method unimplemented")},o=()=>{throw r("Unexpected case")}},7409:function(e,t,n){"use strict";n.d(t,{Hi:function(){return c},PP:function(){return o},WY:function(){return a},gB:function(){return u},id:function(){return s}});n(1439),n(7585),n(5315);var r=n(5989),i=n(1370);const o=(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&o(e,t,n+1)}},a=()=>{},s=e=>e,l=(e,t)=>e===t,c=(e,t)=>{if(null==e||null==t)return l(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;break;case Set:if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;break;case Map:if(e.size!==t.size)return!1;for(const n of e.keys())if(!t.has(n)||!c(e.get(n),t.get(n)))return!1;break;case Object:if(i.kE(e)!==i.kE(t))return!1;for(const n in e)if(!i.l$(e,n)||!c(e[n],t[n]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;break;default:return!1}return!0},u=(e,t)=>t.includes(e);r.kJ},5409:function(e,t,n){"use strict";n.d(t,{Ej:function(){return c},Pl:function(){return s},ZA:function(){return d},s7:function(){return u},ud:function(){return p},Wd:function(){return f},hM:function(){return h},YW:function(){return l},WO:function(){return m},_X:function(){return g},YX:function(){return _}});n(7658);const r=Symbol;var i=n(313),o=n(5342),a=n(7409);const s=r(),l=r(),c=r(),u=r(),d=r(),h=r(),f=r(),p=r(),m=r(),g=e=>{const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},v=[d,f,p,c];let y=0,b=i.ZG();const _=(e,t)=>{const n=v[y],r=o.E0("log"),s=null!==r&&("*"===r||"true"===r||new RegExp(r,"gi").test(t));return y=(y+1)%v.length,t+=": ",s?(...r)=>{const o=i.ZG(),a=o-b;b=o,e(n,t,m,...r.map((e=>"string"===typeof e||"symbol"===typeof e?e:JSON.stringify(e))),n," +"+a+"ms")}:a.WY}},6100:function(e,t,n){"use strict";n.d(t,{YX:function(){return g},S0:function(){return p}});n(7658);var r=n(5342),i=n(893);class o{constructor(e,t){this.left=e,this.right=t}}const a=(e,t)=>new o(e,t);var s=n(7862);const l="undefined"!==typeof document?document:{},c=("undefined"!==typeof DOMParser&&new DOMParser,e=>s.UI(e,((e,t)=>`${t}:${e};`)).join(""));l.ELEMENT_NODE,l.TEXT_NODE,l.CDATA_SECTION_NODE,l.COMMENT_NODE,l.DOCUMENT_NODE,l.DOCUMENT_TYPE_NODE,l.DOCUMENT_FRAGMENT_NODE;var u=n(5409);const d={[u.Pl]:a("font-weight","bold"),[u.YW]:a("font-weight","normal"),[u.Ej]:a("color","blue"),[u.ZA]:a("color","green"),[u.s7]:a("color","grey"),[u.hM]:a("color","red"),[u.Wd]:a("color","purple"),[u.ud]:a("color","orange"),[u.WO]:a("color","black")},h=e=>{const t=[],n=[],r=s.Ue();let i=[],o=0;for(;o<e.length;o++){const i=e[o],a=d[i];if(void 0!==a)r.set(a.left,a.right);else{if(i.constructor!==String&&i.constructor!==Number)break;{const e=c(r);o>0||e.length>0?(t.push("%c"+i),n.push(e)):t.push(i)}}}for(o>0&&(i=n,i.unshift(t.join("")));o<e.length;o++){const t=e[o];t instanceof Symbol||i.push(t)}return i},f=r.hH?h:u._X,p=(...e)=>{console.log(...f(e)),m.forEach((t=>t.print(e)))},m=i.Ue();const g=e=>u.YX(p,e)},7862:function(e,t,n){"use strict";n.d(t,{JG:function(){return i},UI:function(){return a},Ue:function(){return r},Yj:function(){return s},Yu:function(){return o}});n(7658);const r=()=>new Map,i=e=>{const t=r();return e.forEach(((e,n)=>{t.set(n,e)})),t},o=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r},a=(e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n},s=(e,t)=>{for(const[n,r]of e)if(t(r,n))return!0;return!1}},1383:function(e,t,n){"use strict";n.d(t,{Fp:function(){return s},GR:function(){return c},GW:function(){return r},VV:function(){return a},Wn:function(){return i},mv:function(){return o},sQ:function(){return l}});const r=Math.floor,i=(Math.ceil,Math.abs),o=(Math.imul,Math.round,Math.log10),a=(Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),s=(e,t)=>e>t?e:t,l=(Number.isNaN,Math.pow),c=(Math.sign,e=>0!==e?e<0:1/e<0)},4206:function(e,t,n){"use strict";n.d(t,{U:function(){return a},YM:function(){return o}});var r=n(1383),i=n(3388);const o=Number.MAX_SAFE_INTEGER,a=(Number.MIN_SAFE_INTEGER,i.RP,i.Tg,Number.isInteger||(e=>"number"===typeof e&&isFinite(e)&&r.GW(e)===e));Number.isNaN,Number.parseInt},1370:function(e,t,n){"use strict";n.d(t,{$m:function(){return d},Ed:function(){return o},UI:function(){return a},f0:function(){return r},kE:function(){return s},l$:function(){return u},xb:function(){return l}});n(7658);const r=Object.assign,i=Object.keys,o=(e,t)=>{for(const n in e)t(e[n],n)},a=(e,t)=>{const n=[];for(const r in e)n.push(t(e[r],r));return n},s=e=>i(e).length,l=e=>{for(const t in e)return!1;return!0},c=(e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0},u=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),d=(e,t)=>e===t||s(e)===s(t)&&c(e,((e,n)=>(void 0!==e||u(t,n))&&t[n]===e))},6055:function(e,t,n){"use strict";n.d(t,{y:function(){return a}});var r=n(7862),i=n(893),o=n(5989);class a{constructor(){this._observers=r.Ue()}on(e,t){r.Yu(this._observers,e,i.Ue).add(t)}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return o.Dp((this._observers.get(e)||r.Ue()).values()).forEach((e=>e(...t)))}destroy(){this._observers=r.Ue()}}},7244:function(e,t,n){"use strict";n.d(t,{DB:function(){return o},Ue:function(){return r},d1:function(){return i}});const r=e=>new Promise(e),i=(Promise.all.bind(Promise),e=>Promise.reject(e)),o=e=>Promise.resolve(e)},4373:function(e,t,n){"use strict";n.d(t,{TN:function(){return i},U7:function(){return o},k$:function(){return s}});n(1439),n(7585),n(5315);crypto.subtle;const r=crypto.getRandomValues.bind(crypto),i=Math.random,o=()=>r(new Uint32Array(1))[0],a=[1e7]+-1e3+-4e3+-8e3+-1e11,s=()=>a.replace(/[018]/g,(e=>(e^o()&15>>e/4).toString(16)))},893:function(e,t,n){"use strict";n.d(t,{Ue:function(){return r}});const r=()=>new Set},9674:function(e,t,n){"use strict";n.d(t,{F:function(){return l},XN:function(){return a},z2:function(){return s}});class r{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}}let i=new r,o=!0;try{"undefined"!==typeof localStorage&&(i=localStorage,o=!1)}catch(c){}const a=i,s=e=>o||addEventListener("storage",e),l=e=>o||removeEventListener("storage",e)},654:function(e,t,n){"use strict";n.d(t,{CO:function(){return f},IK:function(){return r},NF:function(){return l},YZ:function(){return u},lz:function(){return h}});n(1439),n(7585),n(5315);const r=String.fromCharCode,i=(String.fromCodePoint,r(65535),e=>e.toLowerCase()),o=/^\s*/g,a=e=>e.replace(o,""),s=/([A-Z])/g,l=(e,t)=>a(e.replace(s,(e=>`${t}${i(e)}`))),c=e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.codePointAt(i);return r},u="undefined"!==typeof TextEncoder?new TextEncoder:null,d=e=>u.encode(e),h=u?d:c;let f="undefined"===typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});f&&1===f.decode(new Uint8Array).length&&(f=null)},313:function(e,t,n){"use strict";n.d(t,{ZG:function(){return r}});const r=Date.now},7809:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});n(7658);var r=n(1114);function i(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function p(e){var t=d();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function m(e,t){return y(e)||i(e,t)||_(e,t)||S()}function g(e){return v(e)||b(e)||_(e)||x()}function v(e){if(Array.isArray(e))return w(e)}function y(e){if(Array.isArray(e))return e}function b(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function T(e){var t=E(e,"string");return"symbol"===typeof t?t:String(t)}var M="undefined"!==typeof window&&window.THREE?window.THREE:{LinearFilter:r.wem,Sprite:r.jyi,SpriteMaterial:r.xeV,SRGBColorSpace:r.KI_,Texture:r.xEZ},C=function(e){l(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgba(255, 255, 255, 1)";return o(this,n),e=t.call(this,new M.SpriteMaterial),e._text="".concat(r),e._textHeight=i,e._color=a,e._backgroundColor=!1,e._padding=0,e._borderWidth=0,e._borderRadius=0,e._borderColor="white",e._strokeWidth=0,e._strokeColor="white",e._fontFace="system-ui",e._fontSize=90,e._fontWeight="normal",e._canvas=document.createElement("canvas"),e._genCanvas(),e}return s(n,[{key:"text",get:function(){return this._text},set:function(e){this._text=e,this._genCanvas()}},{key:"textHeight",get:function(){return this._textHeight},set:function(e){this._textHeight=e,this._genCanvas()}},{key:"color",get:function(){return this._color},set:function(e){this._color=e,this._genCanvas()}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._genCanvas()}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding=e,this._genCanvas()}},{key:"borderWidth",get:function(){return this._borderWidth},set:function(e){this._borderWidth=e,this._genCanvas()}},{key:"borderRadius",get:function(){return this._borderRadius},set:function(e){this._borderRadius=e,this._genCanvas()}},{key:"borderColor",get:function(){return this._borderColor},set:function(e){this._borderColor=e,this._genCanvas()}},{key:"fontFace",get:function(){return this._fontFace},set:function(e){this._fontFace=e,this._genCanvas()}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize=e,this._genCanvas()}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight=e,this._genCanvas()}},{key:"strokeWidth",get:function(){return this._strokeWidth},set:function(e){this._strokeWidth=e,this._genCanvas()}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(e){this._strokeColor=e,this._genCanvas()}},{key:"_genCanvas",value:function(){var e=this,t=this._canvas,n=t.getContext("2d"),r=Array.isArray(this.borderWidth)?this.borderWidth:[this.borderWidth,this.borderWidth],i=r.map((function(t){return t*e.fontSize*.1})),o=Array.isArray(this.borderRadius)?this.borderRadius:[this.borderRadius,this.borderRadius,this.borderRadius,this.borderRadius],a=o.map((function(t){return t*e.fontSize*.1})),s=Array.isArray(this.padding)?this.padding:[this.padding,this.padding],l=s.map((function(t){return t*e.fontSize*.1})),c=this.text.split("\n"),u="".concat(this.fontWeight," ").concat(this.fontSize,"px ").concat(this.fontFace);n.font=u;var d=Math.max.apply(Math,g(c.map((function(e){return n.measureText(e).width})))),h=this.fontSize*c.length;if(t.width=d+2*i[0]+2*l[0],t.height=h+2*i[1]+2*l[1],this.borderWidth){if(n.strokeStyle=this.borderColor,i[0]){var f=i[0]/2;n.lineWidth=i[0],n.beginPath(),n.moveTo(f,a[0]),n.lineTo(f,t.height-a[3]),n.moveTo(t.width-f,a[1]),n.lineTo(t.width-f,t.height-a[2]),n.stroke()}if(i[1]){var p=i[1]/2;n.lineWidth=i[1],n.beginPath(),n.moveTo(Math.max(i[0],a[0]),p),n.lineTo(t.width-Math.max(i[0],a[1]),p),n.moveTo(Math.max(i[0],a[3]),t.height-p),n.lineTo(t.width-Math.max(i[0],a[2]),t.height-p),n.stroke()}if(this.borderRadius){var v=Math.max.apply(Math,g(i)),y=v/2;n.lineWidth=v,n.beginPath(),[!!a[0]&&[a[0],y,y,a[0]],!!a[1]&&[t.width-a[1],t.width-y,y,a[1]],!!a[2]&&[t.width-a[2],t.width-y,t.height-y,t.height-a[2]],!!a[3]&&[a[3],y,t.height-y,t.height-a[3]]].filter((function(e){return e})).forEach((function(e){var t=m(e,4),r=t[0],i=t[1],o=t[2],a=t[3];n.moveTo(r,o),n.quadraticCurveTo(i,o,i,a)})),n.stroke()}}this.backgroundColor&&(n.fillStyle=this.backgroundColor,this.borderRadius?(n.beginPath(),n.moveTo(i[0],a[0]),[[i[0],a[0],t.width-a[1],i[1],i[1],i[1]],[t.width-i[0],t.width-i[0],t.width-i[0],i[1],a[1],t.height-a[2]],[t.width-i[0],t.width-a[2],a[3],t.height-i[1],t.height-i[1],t.height-i[1]],[i[0],i[0],i[0],t.height-i[1],t.height-a[3],a[0]]].forEach((function(e){var t=m(e,6),r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5];n.quadraticCurveTo(r,a,i,s),n.lineTo(o,l)})),n.closePath(),n.fill()):n.fillRect(i[0],i[1],t.width-2*i[0],t.height-2*i[1])),n.translate.apply(n,g(i)),n.translate.apply(n,g(l)),n.font=u,n.fillStyle=this.color,n.textBaseline="bottom";var b=this.strokeWidth>0;b&&(n.lineWidth=this.strokeWidth*this.fontSize/10,n.strokeStyle=this.strokeColor),c.forEach((function(t,r){var i=(d-n.measureText(t).width)/2,o=(r+1)*e.fontSize;b&&n.strokeText(t,i,o),n.fillText(t,i,o)})),this.material.map&&this.material.map.dispose();var _=this.material.map=new M.Texture(t);_.minFilter=M.LinearFilter,_.colorSpace=M.SRGBColorSpace,_.needsUpdate=!0;var w=this.textHeight*c.length+2*r[1]+2*s[1];this.scale.set(w*t.width/t.height,w,0)}},{key:"clone",value:function(){return new this.constructor(this.text,this.textHeight,this.color).copy(this)}},{key:"copy",value:function(e){return M.Sprite.prototype.copy.call(this,e),this.color=e.color,this.backgroundColor=e.backgroundColor,this.padding=e.padding,this.borderWidth=e.borderWidth,this.borderColor=e.borderColor,this.fontFace=e.fontFace,this.fontSize=e.fontSize,this.fontWeight=e.fontWeight,this.strokeWidth=e.strokeWidth,this.strokeColor=e.strokeColor,this}}]),n}(M.Sprite)},1114:function(e,t,n){"use strict";n.d(t,{$V:function(){return Xh},CP7:function(){return Yu},FM8:function(){return bn},Ilk:function(){return fi},JOQ:function(){return go},KI_:function(){return Mt},Kj0:function(){return qi},M8C:function(){return yn},Mig:function(){return kh},Ox3:function(){return Rh},Pa4:function(){return qn},QmN:function(){return o},RsA:function(){return i},SUY:function(){return Oh},TlE:function(){return yi},Tme:function(){return Xr},WXh:function(){return eh},YBo:function(){return th},ZAu:function(){return Vu},ZzF:function(){return Jn},_Li:function(){return f},_fP:function(){return $n},a$l:function(){return wi},b_z:function(){return Kd},cLu:function(){return xe},cPb:function(){return ao},dd2:function(){return Hn},dpR:function(){return xh},fHI:function(){return Zd},iKG:function(){return ul},iMs:function(){return Gh},jFi:function(){return m},jyi:function(){return md},jyz:function(){return io},mXe:function(){return Xd},nls:function(){return vd},pBf:function(){return Wt},rDY:function(){return to},u9r:function(){return Ri},vBJ:function(){return mi},wem:function(){return he},x12:function(){return Sd},xEZ:function(){return Vn},xeV:function(){return td},xo$:function(){return Qd},xsS:function(){return Zu},yGw:function(){return Sr},yj7:function(){return Wd}});n(7658),n(1439),n(7585),n(5315);
/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
const r="154",i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},o={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},a=0,s=1,l=2,c=1,u=2,d=3,h=0,f=1,p=2,m=0,g=1,v=2,y=3,b=4,_=5,w=100,x=101,S=102,E=103,T=104,M=200,C=201,A=202,R=203,k=204,O=205,L=206,I=207,P=208,D=209,N=210,U=0,F=1,B=2,j=3,V=4,z=5,H=6,W=7,G=0,$=1,q=2,X=0,Y=1,J=2,Z=3,K=4,Q=5,ee=300,te=301,ne=302,re=303,ie=304,oe=306,ae=1e3,se=1001,le=1002,ce=1003,ue=1004,de=1005,he=1006,fe=1007,pe=1008,me=1009,ge=1010,ve=1011,ye=1012,be=1013,_e=1014,we=1015,xe=1016,Se=1017,Ee=1018,Te=1020,Me=1021,Ce=1023,Ae=1024,Re=1025,ke=1026,Oe=1027,Le=1028,Ie=1029,Pe=1030,De=1031,Ne=1033,Ue=33776,Fe=33777,Be=33778,je=33779,Ve=35840,ze=35841,He=35842,We=35843,Ge=36196,$e=37492,qe=37496,Xe=37808,Ye=37809,Je=37810,Ze=37811,Ke=37812,Qe=37813,et=37814,tt=37815,nt=37816,rt=37817,it=37818,ot=37819,at=37820,st=37821,lt=36492,ct=36283,ut=36284,dt=36285,ht=36286,ft=2300,pt=2301,mt=2302,gt=2400,vt=2401,yt=2402,bt=3e3,_t=3001,wt=3200,xt=3201,St=0,Et=1,Tt="",Mt="srgb",Ct="srgb-linear",At="display-p3",Rt=7680,kt=519,Ot=512,Lt=513,It=514,Pt=515,Dt=516,Nt=517,Ut=518,Ft=519,Bt=35044,jt="300 es",Vt=1035,zt=2e3,Ht=2001;class Wt{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners,r=n[e];if(void 0!==r){const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;const t=n.slice(0);for(let n=0,r=t.length;n<r;n++)t[n].call(this,e);e.target=null}}}const Gt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $t=1234567;const qt=Math.PI/180,Xt=180/Math.PI;function Yt(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=Gt[255&e]+Gt[e>>8&255]+Gt[e>>16&255]+Gt[e>>24&255]+"-"+Gt[255&t]+Gt[t>>8&255]+"-"+Gt[t>>16&15|64]+Gt[t>>24&255]+"-"+Gt[63&n|128]+Gt[n>>8&255]+"-"+Gt[n>>16&255]+Gt[n>>24&255]+Gt[255&r]+Gt[r>>8&255]+Gt[r>>16&255]+Gt[r>>24&255];return i.toLowerCase()}function Jt(e,t,n){return Math.max(t,Math.min(n,e))}function Zt(e,t){return(e%t+t)%t}function Kt(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)}function Qt(e,t,n){return e!==t?(n-e)/(t-e):0}function en(e,t,n){return(1-n)*e+n*t}function tn(e,t,n,r){return en(e,t,1-Math.exp(-n*r))}function nn(e,t=1){return t-Math.abs(Zt(e,2*t)-t)}function rn(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))}function on(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))}function an(e,t){return e+Math.floor(Math.random()*(t-e+1))}function sn(e,t){return e+Math.random()*(t-e)}function ln(e){return e*(.5-Math.random())}function cn(e){void 0!==e&&($t=e);let t=$t+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}function un(e){return e*qt}function dn(e){return e*Xt}function hn(e){return 0===(e&e-1)&&0!==e}function fn(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function pn(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function mn(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),d=o((t-r)/2),h=a((t-r)/2),f=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*d,l*h,s*c);break;case"YZY":e.set(l*h,s*u,l*d,s*c);break;case"ZXZ":e.set(l*d,l*h,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function gn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function vn(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const yn={DEG2RAD:qt,RAD2DEG:Xt,generateUUID:Yt,clamp:Jt,euclideanModulo:Zt,mapLinear:Kt,inverseLerp:Qt,lerp:en,damp:tn,pingpong:nn,smoothstep:rn,smootherstep:on,randInt:an,randFloat:sn,randFloatSpread:ln,seededRandom:cn,degToRad:un,radToDeg:dn,isPowerOfTwo:hn,ceilPowerOfTwo:fn,floorPowerOfTwo:pn,setQuaternionFromProperEuler:mn,normalize:vn,denormalize:gn};class bn{constructor(e=0,t=0){bn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const e=Math.atan2(-this.y,-this.x)+Math.PI;return e}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Jt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class _n{constructor(e,t,n,r,i,o,a,s,l){_n.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l)}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],_=r[2],w=r[5],x=r[8];return i[0]=o*p+a*v+s*_,i[3]=o*m+a*y+s*w,i[6]=o*g+a*b+s*x,i[1]=l*p+c*v+u*_,i[4]=l*m+c*y+u*w,i[7]=l*g+c*b+u*x,i[2]=d*p+h*v+f*_,i[5]=d*m+h*y+f*w,i[8]=d*g+h*b+f*x,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,d=a*s-c*i,h=l*i-o*s,f=t*u+n*d+r*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(a*n-r*o)*p,e[3]=d*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-a*t)*p,e[6]=h*p,e[7]=(n*s-l*t)*p,e[8]=(o*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(wn.makeScale(e,t)),this}rotate(e){return this.premultiply(wn.makeRotation(-e)),this}translate(e,t){return this.premultiply(wn.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const wn=new _n;function xn(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function Sn(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}const En={};function Tn(e){e in En||(En[e]=!0,console.warn(e))}function Mn(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Cn(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const An=(new _n).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),Rn=(new _n).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function kn(e){return e.convertSRGBToLinear().applyMatrix3(Rn)}function On(e){return e.applyMatrix3(An).convertLinearToSRGB()}const Ln={[Ct]:e=>e,[Mt]:e=>e.convertSRGBToLinear(),[At]:kn},In={[Ct]:e=>e,[Mt]:e=>e.convertLinearToSRGB(),[At]:On},Pn={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(e){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!e},get workingColorSpace(){return Ct},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=Ln[t],i=In[n];if(void 0===r||void 0===i)throw new Error(`Unsupported color space conversion, "${t}" to "${n}".`);return i(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}};let Dn;class Nn{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Dn&&(Dn=Sn("canvas")),Dn.width=e.width,Dn.height=e.height;const n=Dn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Dn}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const t=Sn("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*Mn(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Mn(t[e]/255)):t[e]=Mn(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Un=0;class Fn{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Un++}),this.uuid=Yt(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(Bn(r[t].image)):e.push(Bn(r[t]))}else e=Bn(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function Bn(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Nn.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let jn=0;class Vn extends Wt{constructor(e=Vn.DEFAULT_IMAGE,t=Vn.DEFAULT_MAPPING,n=se,r=se,i=he,o=pe,a=Ce,s=me,l=Vn.DEFAULT_ANISOTROPY,c=Tt){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:jn++}),this.uuid=Yt(),this.name="",this.source=new Fn(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new bn(0,0),this.repeat=new bn(1,1),this.center=new bn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new _n,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"===typeof c?this.colorSpace=c:(Tn("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=c===_t?Mt:Tt),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==ee)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ae:e.x=e.x-Math.floor(e.x);break;case se:e.x=e.x<0?0:1;break;case le:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ae:e.y=e.y-Math.floor(e.y);break;case se:e.y=e.y<0?0:1;break;case le:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Tn("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Mt?_t:bt}set encoding(e){Tn("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===_t?Mt:Tt}}Vn.DEFAULT_IMAGE=null,Vn.DEFAULT_MAPPING=ee,Vn.DEFAULT_ANISOTROPY=1;class zn{constructor(e=0,t=0,n=0,r=1){zn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],d=s[1],h=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-d)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+d)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+h+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(h+1)/2,v=(g+1)/2,y=(c+d)/4,b=(u+p)/4,_=(f+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=_/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=_/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(d-c)/v,this.w=Math.acos((l+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Hn extends Wt{constructor(e=1,t=1,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new zn(0,0,e,t),this.scissorTest=!1,this.viewport=new zn(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==n.encoding&&(Tn("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===_t?Mt:Tt),this.texture=new Vn(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:he,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Fn(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Wn extends Vn{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ce,this.minFilter=ce,this.wrapR=se,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Gn extends Vn{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=ce,this.minFilter=ce,this.wrapR=se,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class $n{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const d=i[o+0],h=i[o+1],f=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=d,e[t+1]=h,e[t+2]=f,void(e[t+3]=p);if(u!==p||s!==d||l!==h||c!==f){let e=1-a;const t=s*d+l*h+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+d*i,l=l*e+h*i,c=c*e+f*i,u=u*e+p*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],d=i[o+1],h=i[o+2],f=i[o+3];return e[t]=a*f+c*u+s*h-l*d,e[t+1]=s*f+c*d+l*u-a*h,e[t+2]=l*f+c*h+a*d-s*u,e[t+3]=c*f-a*u-s*d-l*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),d=s(n/2),h=s(r/2),f=s(i/2);switch(o){case"XYZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"YXZ":this._x=d*c*u+l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"ZXY":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u-d*h*f;break;case"ZYX":this._x=d*c*u-l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u+d*h*f;break;case"YZX":this._x=d*c*u+l*h*f,this._y=l*h*u+d*c*f,this._z=l*c*f-d*h*u,this._w=l*c*u-d*h*f;break;case"XZY":this._x=d*c*u-l*h*f,this._y=l*h*u-d*c*f,this._z=l*c*f+d*h*u,this._w=l*c*u+d*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],d=n+a+u;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=o*u+this._w*d,this._x=n*u+this._x*d,this._y=r*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class qn{constructor(e=0,t=0,n=0){qn.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Yn.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Yn.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,d=-i*t-o*n-a*r;return this.x=l*s+d*-i+c*-a-u*-o,this.y=c*s+d*-o+u*-i-l*-a,this.z=u*s+d*-a+l*-o-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Xn.copy(this).projectOnVector(e),this.sub(Xn)}reflect(e){return this.sub(Xn.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Jt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Xn=new qn,Yn=new $n;class Jn{constructor(e=new qn(1/0,1/0,1/0),t=new qn(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Kn.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Kn.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Kn.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Qn.copy(e.boundingBox),Qn.applyMatrix4(e.matrixWorld),this.union(Qn);else{const n=e.geometry;if(void 0!==n)if(t&&void 0!==n.attributes&&void 0!==n.attributes.position){const t=n.attributes.position;for(let n=0,r=t.count;n<r;n++)Kn.fromBufferAttribute(t,n).applyMatrix4(e.matrixWorld),this.expandByPoint(Kn)}else null===n.boundingBox&&n.computeBoundingBox(),Qn.copy(n.boundingBox),Qn.applyMatrix4(e.matrixWorld),this.union(Qn)}const n=e.children;for(let r=0,i=n.length;r<i;r++)this.expandByObject(n[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Kn),Kn.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ar),sr.subVectors(this.max,ar),er.subVectors(e.a,ar),tr.subVectors(e.b,ar),nr.subVectors(e.c,ar),rr.subVectors(tr,er),ir.subVectors(nr,tr),or.subVectors(er,nr);let t=[0,-rr.z,rr.y,0,-ir.z,ir.y,0,-or.z,or.y,rr.z,0,-rr.x,ir.z,0,-ir.x,or.z,0,-or.x,-rr.y,rr.x,0,-ir.y,ir.x,0,-or.y,or.x,0];return!!ur(t,er,tr,nr,sr)&&(t=[1,0,0,0,1,0,0,0,1],!!ur(t,er,tr,nr,sr)&&(lr.crossVectors(rr,ir),t=[lr.x,lr.y,lr.z],ur(t,er,tr,nr,sr)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Kn).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Kn).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Zn[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zn[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zn[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zn[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zn[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zn[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zn[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zn[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zn)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Zn=[new qn,new qn,new qn,new qn,new qn,new qn,new qn,new qn],Kn=new qn,Qn=new Jn,er=new qn,tr=new qn,nr=new qn,rr=new qn,ir=new qn,or=new qn,ar=new qn,sr=new qn,lr=new qn,cr=new qn;function ur(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){cr.fromArray(e,o);const a=i.x*Math.abs(cr.x)+i.y*Math.abs(cr.y)+i.z*Math.abs(cr.z),s=t.dot(cr),l=n.dot(cr),c=r.dot(cr);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const dr=new Jn,hr=new qn,fr=new qn;class pr{constructor(e=new qn,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):dr.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;hr.subVectors(e,this.center);const t=hr.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(hr,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(fr.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(hr.copy(e.center).add(fr)),this.expandByPoint(hr.copy(e.center).sub(fr))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const mr=new qn,gr=new qn,vr=new qn,yr=new qn,br=new qn,_r=new qn,wr=new qn;class xr{constructor(e=new qn,t=new qn(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,mr)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=mr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(mr.copy(this.origin).addScaledVector(this.direction,t),mr.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){gr.copy(e).add(t).multiplyScalar(.5),vr.copy(t).sub(e).normalize(),yr.copy(this.origin).sub(gr);const i=.5*e.distanceTo(t),o=-this.direction.dot(vr),a=yr.dot(this.direction),s=-yr.dot(vr),l=yr.lengthSq(),c=Math.abs(1-o*o);let u,d,h,f;if(c>0)if(u=o*s-a,d=o*a-s,f=i*c,u>=0)if(d>=-f)if(d<=f){const e=1/c;u*=e,d*=e,h=u*(u+o*d+2*a)+d*(o*u+d+2*s)+l}else d=i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d=-i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;else d<=-f?(u=Math.max(0,-(-o*i+a)),d=u>0?-i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l):d<=f?(u=0,d=Math.min(Math.max(-i,-s),i),h=d*(d+2*s)+l):(u=Math.max(0,-(o*i+a)),d=u>0?i:Math.min(Math.max(-i,-s),i),h=-u*u+d*(d+2*s)+l);else d=o>0?-i:i,u=Math.max(0,-(o*d+a)),h=-u*u+d*(d+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(gr).addScaledVector(vr,d),h}intersectSphere(e,t){mr.subVectors(e.center,this.origin);const n=mr.dot(this.direction),r=mr.dot(mr)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;const n=e.normal.dot(this.direction);return n*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(e.min.x-d.x)*l,r=(e.max.x-d.x)*l):(n=(e.max.x-d.x)*l,r=(e.min.x-d.x)*l),c>=0?(i=(e.min.y-d.y)*c,o=(e.max.y-d.y)*c):(i=(e.max.y-d.y)*c,o=(e.min.y-d.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-d.z)*u,s=(e.max.z-d.z)*u):(a=(e.max.z-d.z)*u,s=(e.min.z-d.z)*u),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,mr)}intersectTriangle(e,t,n,r,i){br.subVectors(t,e),_r.subVectors(n,e),wr.crossVectors(br,_r);let o,a=this.direction.dot(wr);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}yr.subVectors(this.origin,e);const s=o*this.direction.dot(_r.crossVectors(yr,_r));if(s<0)return null;const l=o*this.direction.dot(br.cross(yr));if(l<0)return null;if(s+l>a)return null;const c=-o*yr.dot(wr);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Sr{constructor(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m){Sr.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m)}set(e,t,n,r,i,o,a,s,l,c,u,d,h,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=d,g[3]=h,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Sr).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Er.setFromMatrixColumn(e,0).length(),i=1/Er.setFromMatrixColumn(e,1).length(),o=1/Er.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Mr,e,Cr)}lookAt(e,t,n){const r=this.elements;return kr.subVectors(e,t),0===kr.lengthSq()&&(kr.z=1),kr.normalize(),Ar.crossVectors(n,kr),0===Ar.lengthSq()&&(1===Math.abs(n.z)?kr.x+=1e-4:kr.z+=1e-4,kr.normalize(),Ar.crossVectors(n,kr)),Ar.normalize(),Rr.crossVectors(kr,Ar),r[0]=Ar.x,r[4]=Rr.x,r[8]=kr.x,r[1]=Ar.y,r[5]=Rr.y,r[9]=kr.y,r[2]=Ar.z,r[6]=Rr.z,r[10]=kr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],_=n[15],w=r[0],x=r[4],S=r[8],E=r[12],T=r[1],M=r[5],C=r[9],A=r[13],R=r[2],k=r[6],O=r[10],L=r[14],I=r[3],P=r[7],D=r[11],N=r[15];return i[0]=o*w+a*T+s*R+l*I,i[4]=o*x+a*M+s*k+l*P,i[8]=o*S+a*C+s*O+l*D,i[12]=o*E+a*A+s*L+l*N,i[1]=c*w+u*T+d*R+h*I,i[5]=c*x+u*M+d*k+h*P,i[9]=c*S+u*C+d*O+h*D,i[13]=c*E+u*A+d*L+h*N,i[2]=f*w+p*T+m*R+g*I,i[6]=f*x+p*M+m*k+g*P,i[10]=f*S+p*C+m*O+g*D,i[14]=f*E+p*A+m*L+g*N,i[3]=v*w+y*T+b*R+_*I,i[7]=v*x+y*M+b*k+_*P,i[11]=v*S+y*C+b*O+_*D,i[15]=v*E+y*A+b*L+_*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],d=e[10],h=e[14],f=e[3],p=e[7],m=e[11],g=e[15];return f*(+i*s*u-r*l*u-i*a*d+n*l*d+r*a*h-n*s*h)+p*(+t*s*h-t*l*d+i*o*d-r*o*h+r*l*c-i*s*c)+m*(+t*l*u-t*a*h-i*o*u+n*o*h+i*a*c-n*l*c)+g*(-r*a*c-t*s*u+t*a*d+r*o*u-n*o*d+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11],f=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*d*l+p*s*h-a*m*h-u*s*g+a*d*g,y=f*d*l-c*m*l-f*s*h+o*m*h+c*s*g-o*d*g,b=c*p*l-f*u*l+f*a*h-o*p*h-c*a*g+o*u*g,_=f*u*s-c*p*s-f*a*d+o*p*d+c*a*m-o*u*m,w=t*v+n*y+r*b+i*_;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/w;return e[0]=v*x,e[1]=(p*d*i-u*m*i-p*r*h+n*m*h+u*r*g-n*d*g)*x,e[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*g+n*s*g)*x,e[3]=(u*s*i-a*d*i-u*r*l+n*d*l+a*r*h-n*s*h)*x,e[4]=y*x,e[5]=(c*m*i-f*d*i+f*r*h-t*m*h-c*r*g+t*d*g)*x,e[6]=(f*s*i-o*m*i-f*r*l+t*m*l+o*r*g-t*s*g)*x,e[7]=(o*d*i-c*s*i+c*r*l-t*d*l-o*r*h+t*s*h)*x,e[8]=b*x,e[9]=(f*u*i-c*p*i-f*n*h+t*p*h+c*n*g-t*u*g)*x,e[10]=(o*p*i-f*a*i+f*n*l-t*p*l-o*n*g+t*a*g)*x,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*h-t*a*h)*x,e[12]=_*x,e[13]=(c*p*r-f*u*r+f*n*d-t*p*d-c*n*m+t*u*m)*x,e[14]=(f*a*r-o*p*r-f*n*s+t*p*s+o*n*m-t*a*m)*x,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*d+t*a*d)*x,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,d=i*l,h=i*c,f=i*u,p=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,_=n.x,w=n.y,x=n.z;return r[0]=(1-(p+g))*_,r[1]=(h+b)*_,r[2]=(f-y)*_,r[3]=0,r[4]=(h-b)*w,r[5]=(1-(d+g))*w,r[6]=(m+v)*w,r[7]=0,r[8]=(f+y)*x,r[9]=(m-v)*x,r[10]=(1-(d+p))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Er.set(r[0],r[1],r[2]).length();const o=Er.set(r[4],r[5],r[6]).length(),a=Er.set(r[8],r[9],r[10]).length(),s=this.determinant();s<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Tr.copy(this);const l=1/i,c=1/o,u=1/a;return Tr.elements[0]*=l,Tr.elements[1]*=l,Tr.elements[2]*=l,Tr.elements[4]*=c,Tr.elements[5]*=c,Tr.elements[6]*=c,Tr.elements[8]*=u,Tr.elements[9]*=u,Tr.elements[10]*=u,t.setFromRotationMatrix(Tr),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o,a=zt){const s=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),d=(n+r)/(n-r);let h,f;if(a===zt)h=-(o+i)/(o-i),f=-2*o*i/(o-i);else{if(a!==Ht)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-i),f=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=d,s[13]=0,s[2]=0,s[6]=0,s[10]=h,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o,a=zt){const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),d=(t+e)*l,h=(n+r)*c;let f,p;if(a===zt)f=(o+i)*u,p=-2*u;else{if(a!==Ht)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);f=i*u,p=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-d,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-h,s[2]=0,s[6]=0,s[10]=p,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Er=new qn,Tr=new Sr,Mr=new qn(0,0,0),Cr=new qn(1,1,1),Ar=new qn,Rr=new qn,kr=new qn,Or=new Sr,Lr=new $n;class Ir{constructor(e=0,t=0,n=0,r=Ir.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],d=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(Jt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Jt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Jt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-Jt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Or.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Or,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Lr.setFromEuler(this),this.setFromQuaternion(Lr,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ir.DEFAULT_ORDER="XYZ";class Pr{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return 0!==(this.mask&(1<<e|0))}}let Dr=0;const Nr=new qn,Ur=new $n,Fr=new Sr,Br=new qn,jr=new qn,Vr=new qn,zr=new $n,Hr=new qn(1,0,0),Wr=new qn(0,1,0),Gr=new qn(0,0,1),$r={type:"added"},qr={type:"removed"};class Xr extends Wt{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dr++}),this.uuid=Yt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xr.DEFAULT_UP.clone();const e=new qn,t=new Ir,n=new $n,r=new qn(1,1,1);function i(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(i),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Sr},normalMatrix:{value:new _n}}),this.matrix=new Sr,this.matrixWorld=new Sr,this.matrixAutoUpdate=Xr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Pr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Ur.setFromAxisAngle(e,t),this.quaternion.multiply(Ur),this}rotateOnWorldAxis(e,t){return Ur.setFromAxisAngle(e,t),this.quaternion.premultiply(Ur),this}rotateX(e){return this.rotateOnAxis(Hr,e)}rotateY(e){return this.rotateOnAxis(Wr,e)}rotateZ(e){return this.rotateOnAxis(Gr,e)}translateOnAxis(e,t){return Nr.copy(e).applyQuaternion(this.quaternion),this.position.add(Nr.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Hr,e)}translateY(e){return this.translateOnAxis(Wr,e)}translateZ(e){return this.translateOnAxis(Gr,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Fr.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?Br.copy(e):Br.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),jr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Fr.lookAt(jr,Br,this.up):Fr.lookAt(Br,jr,this.up),this.quaternion.setFromRotationMatrix(Fr),r&&(Fr.extractRotation(r.matrixWorld),Ur.setFromRotationMatrix(Fr),this.quaternion.premultiply(Ur.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($r)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(qr)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(qr)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Fr.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Fr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Fr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n],i=r.getObjectByProperty(e,t);if(void 0!==i)return i}}getObjectsByProperty(e,t){let n=[];this[e]===t&&n.push(this);for(let r=0,i=this.children.length;r<i;r++){const i=this.children[r].getObjectsByProperty(e,t);i.length>0&&(n=n.concat(i))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jr,e,Vr),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jr,zr,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){const r=t[n];!0!==r.matrixWorldAutoUpdate&&!0!==e||r.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){const n=e[t];!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Xr.DEFAULT_UP=new qn(0,1,0),Xr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Xr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Yr=new qn,Jr=new qn,Zr=new qn,Kr=new qn,Qr=new qn,ei=new qn,ti=new qn,ni=new qn,ri=new qn,ii=new qn;let oi=!1;class ai{constructor(e=new qn,t=new qn,n=new qn){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Yr.subVectors(e,t),r.cross(Yr);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Yr.subVectors(r,t),Jr.subVectors(n,t),Zr.subVectors(e,t);const o=Yr.dot(Yr),a=Yr.dot(Jr),s=Yr.dot(Zr),l=Jr.dot(Jr),c=Jr.dot(Zr),u=o*l-a*a;if(0===u)return i.set(-2,-1,-1);const d=1/u,h=(l*s-a*c)*d,f=(o*c-a*s)*d;return i.set(1-h-f,f,h)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Kr),Kr.x>=0&&Kr.y>=0&&Kr.x+Kr.y<=1}static getUV(e,t,n,r,i,o,a,s){return!1===oi&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oi=!0),this.getInterpolation(e,t,n,r,i,o,a,s)}static getInterpolation(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,Kr),s.setScalar(0),s.addScaledVector(i,Kr.x),s.addScaledVector(o,Kr.y),s.addScaledVector(a,Kr.z),s}static isFrontFacing(e,t,n,r){return Yr.subVectors(n,t),Jr.subVectors(e,t),Yr.cross(Jr).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Yr.subVectors(this.c,this.b),Jr.subVectors(this.a,this.b),.5*Yr.cross(Jr).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ai.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ai.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return!1===oi&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oi=!0),ai.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}getInterpolation(e,t,n,r,i){return ai.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return ai.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ai.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;Qr.subVectors(r,n),ei.subVectors(i,n),ni.subVectors(e,n);const s=Qr.dot(ni),l=ei.dot(ni);if(s<=0&&l<=0)return t.copy(n);ri.subVectors(e,r);const c=Qr.dot(ri),u=ei.dot(ri);if(c>=0&&u<=c)return t.copy(r);const d=s*u-c*l;if(d<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(Qr,o);ii.subVectors(e,i);const h=Qr.dot(ii),f=ei.dot(ii);if(f>=0&&h<=f)return t.copy(i);const p=h*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(n).addScaledVector(ei,a);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return ti.subVectors(i,r),a=(u-c)/(u-c+(h-f)),t.copy(r).addScaledVector(ti,a);const g=1/(m+p+d);return o=p*g,a=d*g,t.copy(n).addScaledVector(Qr,o).addScaledVector(ei,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let si=0;class li extends Wt{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:si++}),this.uuid=Yt(),this.name="",this.type="Material",this.blending=g,this.side=h,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=k,this.blendDst=O,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=j,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kt,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rt,this.stencilZFail=Rt,this.stencilZPass=Rt,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==g&&(n.blending=this.blending),this.side!==h&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const ci={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ui={h:0,s:0,l:0},di={h:0,s:0,l:0};function hi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class fi{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Mt){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Pn.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=Pn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Pn.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=Pn.workingColorSpace){if(e=Zt(e,1),t=Jt(t,0,1),n=Jt(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=hi(i,r,e+1/3),this.g=hi(i,r,e),this.b=hi(i,r,e-1/3)}return Pn.toWorkingColorSpace(this,r),this}setStyle(e,t=Mt){function n(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let i;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,t);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,t);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return n(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const n=r[1],i=n.length;if(3===i)return this.setRGB(parseInt(n.charAt(0),16)/15,parseInt(n.charAt(1),16)/15,parseInt(n.charAt(2),16)/15,t);if(6===i)return this.setHex(parseInt(n,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Mt){const n=ci[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mn(e.r),this.g=Mn(e.g),this.b=Mn(e.b),this}copyLinearToSRGB(e){return this.r=Cn(e.r),this.g=Cn(e.g),this.b=Cn(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Mt){return Pn.fromWorkingColorSpace(pi.copy(this),e),65536*Math.round(Jt(255*pi.r,0,255))+256*Math.round(Jt(255*pi.g,0,255))+Math.round(Jt(255*pi.b,0,255))}getHexString(e=Mt){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Pn.workingColorSpace){Pn.fromWorkingColorSpace(pi.copy(this),t);const n=pi.r,r=pi.g,i=pi.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4;break}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=Pn.workingColorSpace){return Pn.fromWorkingColorSpace(pi.copy(this),t),e.r=pi.r,e.g=pi.g,e.b=pi.b,e}getStyle(e=Mt){Pn.fromWorkingColorSpace(pi.copy(this),e);const t=pi.r,n=pi.g,r=pi.b;return e!==Mt?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(ui),ui.h+=e,ui.s+=t,ui.l+=n,this.setHSL(ui.h,ui.s,ui.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(ui),e.getHSL(di);const n=en(ui.h,di.h,t),r=en(ui.s,di.s,t),i=en(ui.l,di.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const pi=new fi;fi.NAMES=ci;class mi extends li{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new fi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=G,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const gi=new qn,vi=new bn;class yi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Bt,this.updateRange={offset:0,count:-1},this.gpuType=we,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)vi.fromBufferAttribute(this,t),vi.applyMatrix3(e),this.setXY(t,vi.x,vi.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)gi.fromBufferAttribute(this,t),gi.applyMatrix3(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)gi.fromBufferAttribute(this,t),gi.applyMatrix4(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)gi.fromBufferAttribute(this,t),gi.applyNormalMatrix(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)gi.fromBufferAttribute(this,t),gi.transformDirection(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=gn(t,this.array)),t}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=gn(t,this.array)),t}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=gn(t,this.array)),t}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=gn(t,this.array)),t}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Bt&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}class bi extends yi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class _i extends yi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class wi extends yi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let xi=0;const Si=new Sr,Ei=new Xr,Ti=new qn,Mi=new Jn,Ci=new Jn,Ai=new qn;class Ri extends Wt{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xi++}),this.uuid=Yt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(xn(e)?_i:bi)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new _n).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Si.makeRotationFromQuaternion(e),this.applyMatrix4(Si),this}rotateX(e){return Si.makeRotationX(e),this.applyMatrix4(Si),this}rotateY(e){return Si.makeRotationY(e),this.applyMatrix4(Si),this}rotateZ(e){return Si.makeRotationZ(e),this.applyMatrix4(Si),this}translate(e,t,n){return Si.makeTranslation(e,t,n),this.applyMatrix4(Si),this}scale(e,t,n){return Si.makeScale(e,t,n),this.applyMatrix4(Si),this}lookAt(e){return Ei.lookAt(e),Ei.updateMatrix(),this.applyMatrix4(Ei.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ti).negate(),this.translate(Ti.x,Ti.y,Ti.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new wi(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Jn);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new qn(-1/0,-1/0,-1/0),new qn(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++){const e=t[n];Mi.setFromBufferAttribute(e),this.morphTargetsRelative?(Ai.addVectors(this.boundingBox.min,Mi.min),this.boundingBox.expandByPoint(Ai),Ai.addVectors(this.boundingBox.max,Mi.max),this.boundingBox.expandByPoint(Ai)):(this.boundingBox.expandByPoint(Mi.min),this.boundingBox.expandByPoint(Mi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new qn,1/0);if(e){const n=this.boundingSphere.center;if(Mi.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];Ci.setFromBufferAttribute(n),this.morphTargetsRelative?(Ai.addVectors(Mi.min,Ci.min),Mi.expandByPoint(Ai),Ai.addVectors(Mi.max,Ci.max),Mi.expandByPoint(Ai)):(Mi.expandByPoint(Ci.min),Mi.expandByPoint(Ci.max))}Mi.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)Ai.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(Ai));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)Ai.fromBufferAttribute(o,t),a&&(Ti.fromBufferAttribute(e,t),Ai.add(Ti)),r=Math.max(r,n.distanceToSquared(Ai))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,i=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new yi(new Float32Array(4*a),4));const s=this.getAttribute("tangent").array,l=[],c=[];for(let T=0;T<a;T++)l[T]=new qn,c[T]=new qn;const u=new qn,d=new qn,h=new qn,f=new bn,p=new bn,m=new bn,g=new qn,v=new qn;function y(e,t,n){u.fromArray(r,3*e),d.fromArray(r,3*t),h.fromArray(r,3*n),f.fromArray(o,2*e),p.fromArray(o,2*t),m.fromArray(o,2*n),d.sub(u),h.sub(u),p.sub(f),m.sub(f);const i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(g.copy(d).multiplyScalar(m.y).addScaledVector(h,-p.y).multiplyScalar(i),v.copy(h).multiplyScalar(p.x).addScaledVector(d,-m.x).multiplyScalar(i),l[e].add(g),l[t].add(g),l[n].add(g),c[e].add(v),c[t].add(v),c[n].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let T=0,M=b.length;T<M;++T){const e=b[T],t=e.start,r=e.count;for(let i=t,o=t+r;i<o;i+=3)y(n[i+0],n[i+1],n[i+2])}const _=new qn,w=new qn,x=new qn,S=new qn;function E(e){x.fromArray(i,3*e),S.copy(x);const t=l[e];_.copy(t),_.sub(x.multiplyScalar(x.dot(t))).normalize(),w.crossVectors(S,t);const n=w.dot(c[e]),r=n<0?-1:1;s[4*e]=_.x,s[4*e+1]=_.y,s[4*e+2]=_.z,s[4*e+3]=r}for(let T=0,M=b.length;T<M;++T){const e=b[T],t=e.start,r=e.count;for(let i=t,o=t+r;i<o;i+=3)E(n[i+0]),E(n[i+1]),E(n[i+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new yi(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new qn,i=new qn,o=new qn,a=new qn,s=new qn,l=new qn,c=new qn,u=new qn;if(e)for(let d=0,h=e.count;d<h;d+=3){const h=e.getX(d+0),f=e.getX(d+1),p=e.getX(d+2);r.fromBufferAttribute(t,h),i.fromBufferAttribute(t,f),o.fromBufferAttribute(t,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,h),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(h,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,d=t.count;e<d;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ai.fromBufferAttribute(e,t),Ai.normalize(),e.setXYZ(t,Ai.x,Ai.y,Ai.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new yi(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ri,n=this.index.array,r=this.attributes;for(const a in r){const i=r[a],o=e(i,n);t.setAttribute(a,o)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=o[t],a=e(i,n);r.push(a)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ki=new Sr,Oi=new xr,Li=new pr,Ii=new qn,Pi=new qn,Di=new qn,Ni=new qn,Ui=new qn,Fi=new qn,Bi=new bn,ji=new bn,Vi=new bn,zi=new qn,Hi=new qn,Wi=new qn,Gi=new qn,$i=new qn;class qi extends Xr{constructor(e=new Ri,t=new mi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){Fi.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(Ui.fromBufferAttribute(s,e),o?Fi.addScaledVector(Ui,r):Fi.addScaledVector(Ui.sub(t),r))}t.add(Fi)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Li.copy(n.boundingSphere),Li.applyMatrix4(i),Oi.copy(e.ray).recast(e.near),!1===Li.containsPoint(Oi.origin)){if(null===Oi.intersectSphere(Li,Ii))return;if(Oi.origin.distanceToSquared(Ii)>(e.far-e.near)**2)return}ki.copy(i).invert(),Oi.copy(e.ray).applyMatrix4(ki),null!==n.boundingBox&&!1===Oi.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Oi)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,d=i.groups,h=i.drawRange;if(null!==a)if(Array.isArray(o))for(let f=0,p=d.length;f<p;f++){const i=d[f],s=o[i.materialIndex],p=Math.max(i.start,h.start),m=Math.min(a.count,Math.min(i.start+i.count,h.start+h.count));for(let o=p,d=m;o<d;o+=3){const d=a.getX(o),h=a.getX(o+1),f=a.getX(o+2);r=Yi(this,s,e,n,l,c,u,d,h,f),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{const i=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);for(let d=i,h=s;d<h;d+=3){const i=a.getX(d),s=a.getX(d+1),h=a.getX(d+2);r=Yi(this,o,e,n,l,c,u,i,s,h),r&&(r.faceIndex=Math.floor(d/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let f=0,p=d.length;f<p;f++){const i=d[f],a=o[i.materialIndex],p=Math.max(i.start,h.start),m=Math.min(s.count,Math.min(i.start+i.count,h.start+h.count));for(let o=p,s=m;o<s;o+=3){const s=o,d=o+1,h=o+2;r=Yi(this,a,e,n,l,c,u,s,d,h),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{const i=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);for(let s=i,d=a;s<d;s+=3){const i=s,a=s+1,d=s+2;r=Yi(this,o,e,n,l,c,u,i,a,d),r&&(r.faceIndex=Math.floor(s/3),t.push(r))}}}}function Xi(e,t,n,r,i,o,a,s){let l;if(l=t.side===f?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side===h,s),null===l)return null;$i.copy(s),$i.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo($i);return c<n.near||c>n.far?null:{distance:c,point:$i.clone(),object:e}}function Yi(e,t,n,r,i,o,a,s,l,c){e.getVertexPosition(s,Pi),e.getVertexPosition(l,Di),e.getVertexPosition(c,Ni);const u=Xi(e,t,n,r,Pi,Di,Ni,Gi);if(u){i&&(Bi.fromBufferAttribute(i,s),ji.fromBufferAttribute(i,l),Vi.fromBufferAttribute(i,c),u.uv=ai.getInterpolation(Gi,Pi,Di,Ni,Bi,ji,Vi,new bn)),o&&(Bi.fromBufferAttribute(o,s),ji.fromBufferAttribute(o,l),Vi.fromBufferAttribute(o,c),u.uv1=ai.getInterpolation(Gi,Pi,Di,Ni,Bi,ji,Vi,new bn),u.uv2=u.uv1),a&&(zi.fromBufferAttribute(a,s),Hi.fromBufferAttribute(a,l),Wi.fromBufferAttribute(a,c),u.normal=ai.getInterpolation(Gi,Pi,Di,Ni,zi,Hi,Wi,new qn),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new qn,materialIndex:0};ai.getNormal(Pi,Di,Ni,e.normal),u.face=e}return u}class Ji extends Ri{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let d=0,h=0;function f(e,t,n,r,i,o,f,p,m,g,v){const y=o/m,b=f/g,_=o/2,w=f/2,x=p/2,S=m+1,E=g+1;let T=0,M=0;const C=new qn;for(let a=0;a<E;a++){const o=a*b-w;for(let s=0;s<S;s++){const d=s*y-_;C[e]=d*r,C[t]=o*i,C[n]=x,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=p>0?1:-1,c.push(C.x,C.y,C.z),u.push(s/m),u.push(1-a/g),T+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=d+e+S*a,n=d+e+S*(a+1),r=d+(e+1)+S*(a+1),i=d+(e+1)+S*a;s.push(t,n,i),s.push(n,r,i),M+=6}a.addGroup(h,M,v),h+=M,d+=T}f("z","y","x",-1,-1,n,t,e,o,i,0),f("z","y","x",1,-1,n,t,-e,o,i,1),f("x","z","y",1,1,e,n,t,r,o,2),f("x","z","y",1,-1,e,n,-t,r,o,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new wi(l,3)),this.setAttribute("normal",new wi(c,3)),this.setAttribute("uv",new wi(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ji(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Zi(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Ki(e){const t={};for(let n=0;n<e.length;n++){const r=Zi(e[n]);for(const e in r)t[e]=r[e]}return t}function Qi(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}function eo(e){return null===e.getRenderTarget()?e.outputColorSpace:Ct}const to={clone:Zi,merge:Ki};var no="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",ro="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";class io extends li{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=no,this.fragmentShader=ro,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zi(e.uniforms),this.uniformsGroups=Qi(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r],i=n.value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class oo extends Xr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Sr,this.projectionMatrix=new Sr,this.projectionMatrixInverse=new Sr,this.coordinateSystem=zt}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class ao extends oo{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Xt*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*qt*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Xt*Math.atan(Math.tan(.5*qt*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*qt*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const so=-90,lo=1;class co extends Xr{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null;const r=new ao(so,lo,e,t);r.layers=this.layers,this.add(r);const i=new ao(so,lo,e,t);i.layers=this.layers,this.add(i);const o=new ao(so,lo,e,t);o.layers=this.layers,this.add(o);const a=new ao(so,lo,e,t);a.layers=this.layers,this.add(a);const s=new ao(so,lo,e,t);s.layers=this.layers,this.add(s);const l=new ao(so,lo,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,a,s]=t;for(const l of t)this.remove(l);if(e===zt)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==Ht)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,i,o,a,s,l]=this.children,c=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=X,e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(c),e.toneMapping=u,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class uo extends Vn{constructor(e,t,n,r,i,o,a,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:te,super(e,t,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ho extends Hn{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];void 0!==t.encoding&&(Tn("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===_t?Mt:Tt),this.texture=new uo(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:he}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Ji(5,5,5),i=new io({name:"CubemapFromEquirect",uniforms:Zi(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:f,blending:m});i.uniforms.tEquirect.value=t;const o=new qi(r,i),a=t.minFilter;t.minFilter===pe&&(t.minFilter=he);const s=new co(1,10,this);return s.update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const fo=new qn,po=new qn,mo=new _n;class go{constructor(e=new qn(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=fo.subVectors(n,t).cross(po.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(fo),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||mo.getNormalMatrix(e),r=this.coplanarPoint(fo).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const vo=new pr,yo=new qn;class bo{constructor(e=new go,t=new go,n=new go,r=new go,i=new go,o=new go){this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=zt){const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],d=r[7],h=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,d-l,m-h,b-g).normalize(),n[1].setComponents(s+i,d+l,m+h,b+g).normalize(),n[2].setComponents(s+o,d+c,m+f,b+v).normalize(),n[3].setComponents(s-o,d-c,m-f,b-v).normalize(),n[4].setComponents(s-a,d-u,m-p,b-y).normalize(),t===zt)n[5].setComponents(s+a,d+u,m+p,b+y).normalize();else{if(t!==Ht)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),vo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),vo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vo)}intersectsSprite(e){return vo.center.set(0,0,0),vo.radius=.7071067811865476,vo.applyMatrix4(e.matrixWorld),this.intersectsSphere(vo)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){const e=t[i].distanceToPoint(n);if(e<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(yo.x=r.normal.x>0?e.max.x:e.min.x,yo.y=r.normal.y>0?e.max.y:e.min.y,yo.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(yo)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function _o(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function wo(e,t){const n=t.isWebGL2,r=new WeakMap;function i(t,r){const i=t.array,o=t.usage,a=e.createBuffer();let s;if(e.bindBuffer(r,a),e.bufferData(r,i,o),t.onUploadCallback(),i instanceof Float32Array)s=e.FLOAT;else if(i instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");s=e.HALF_FLOAT}else s=e.UNSIGNED_SHORT;else if(i instanceof Int16Array)s=e.SHORT;else if(i instanceof Uint32Array)s=e.UNSIGNED_INT;else if(i instanceof Int32Array)s=e.INT;else if(i instanceof Int8Array)s=e.BYTE;else if(i instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:i.BYTES_PER_ELEMENT,version:t.version}}function o(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1),r.onUploadCallback()}function a(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)}function s(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))}function l(e,t){if(e.isGLBufferAttribute){const t=r.get(e);return void((!t||t.version<e.version)&&r.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const n=r.get(e);void 0===n?r.set(e,i(e,t)):n.version<e.version&&(o(n.buffer,e,t),n.version=e.version)}return{get:a,remove:s,update:l}}class xo extends Ri{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,d=t/s,h=[],f=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*d-o;for(let t=0;t<l;t++){const n=t*u-i;f.push(n,-e,0),p.push(0,0,1),m.push(t/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;h.push(t,n,i),h.push(n,r,i)}this.setIndex(h),this.setAttribute("position",new wi(f,3)),this.setAttribute("normal",new wi(p,3)),this.setAttribute("uv",new wi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xo(e.width,e.height,e.widthSegments,e.heightSegments)}}var So="#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",Eo="#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",To="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",Mo="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",Co="#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",Ao="#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",Ro="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",ko="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Oo="vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",Lo="vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",Io="float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",Po="#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",Do="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",No="#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",Uo="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",Fo="#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",Bo="#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",jo="#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",Vo="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",zo="#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",Ho="#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",Wo="#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",Go="#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",$o="vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",qo="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",Xo="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",Yo="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",Jo="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",Zo="gl_FragColor = linearToOutputTexel( gl_FragColor );",Ko="vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",Qo="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",ea="#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",ta="#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",na="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",ra="#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",ia="#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",oa="#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",aa="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",sa="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",la="#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",ca="#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",ua="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",da="LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",ha="varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",fa="uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",pa="#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",ma="ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",ga="varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",va="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",ya="varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",ba="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",_a="struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",wa="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",xa="#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",Sa="#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",Ea="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",Ta="#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",Ma="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",Ca="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",Aa="#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, vMapUv );\n#endif",Ra="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",ka="#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",Oa="#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",La="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",Ia="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Pa="#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",Da="#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",Na="#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",Ua="#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",Fa="float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",Ba="#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",ja="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",Va="#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",za="#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",Ha="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",Wa="#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",Ga="#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",$a="#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",qa="#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",Xa="#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",Ya="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",Ja="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",Za="vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",Ka="#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",Qa="#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",es="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",ts="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",ns="#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",rs="#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",is="#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",os="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",as="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",ss="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",ls="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",cs="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",us="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",ds="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",hs="#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",fs="#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",ps="#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",ms="#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",gs="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",vs="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",ys="#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",bs="#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif";const _s="varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",ws="uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",xs="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Ss="#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Es="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",Ts="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Ms="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",Cs="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",As="#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",Rs="#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",ks="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",Os="uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",Ls="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Is="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Ps="#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",Ds="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ns="#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Us="#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Fs="#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",Bs="#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",js="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",Vs="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",zs="#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Hs="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Ws="#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",Gs="#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",$s="#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",qs="#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",Xs="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",Ys="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",Js="#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",Zs="uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",Ks="uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",Qs="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",el={alphahash_fragment:So,alphahash_pars_fragment:Eo,alphamap_fragment:To,alphamap_pars_fragment:Mo,alphatest_fragment:Co,alphatest_pars_fragment:Ao,aomap_fragment:Ro,aomap_pars_fragment:ko,begin_vertex:Oo,beginnormal_vertex:Lo,bsdfs:Io,iridescence_fragment:Po,bumpmap_pars_fragment:Do,clipping_planes_fragment:No,clipping_planes_pars_fragment:Uo,clipping_planes_pars_vertex:Fo,clipping_planes_vertex:Bo,color_fragment:jo,color_pars_fragment:Vo,color_pars_vertex:zo,color_vertex:Ho,common:Wo,cube_uv_reflection_fragment:Go,defaultnormal_vertex:$o,displacementmap_pars_vertex:qo,displacementmap_vertex:Xo,emissivemap_fragment:Yo,emissivemap_pars_fragment:Jo,colorspace_fragment:Zo,colorspace_pars_fragment:Ko,envmap_fragment:Qo,envmap_common_pars_fragment:ea,envmap_pars_fragment:ta,envmap_pars_vertex:na,envmap_physical_pars_fragment:pa,envmap_vertex:ra,fog_vertex:ia,fog_pars_vertex:oa,fog_fragment:aa,fog_pars_fragment:sa,gradientmap_pars_fragment:la,lightmap_fragment:ca,lightmap_pars_fragment:ua,lights_lambert_fragment:da,lights_lambert_pars_fragment:ha,lights_pars_begin:fa,lights_toon_fragment:ma,lights_toon_pars_fragment:ga,lights_phong_fragment:va,lights_phong_pars_fragment:ya,lights_physical_fragment:ba,lights_physical_pars_fragment:_a,lights_fragment_begin:wa,lights_fragment_maps:xa,lights_fragment_end:Sa,logdepthbuf_fragment:Ea,logdepthbuf_pars_fragment:Ta,logdepthbuf_pars_vertex:Ma,logdepthbuf_vertex:Ca,map_fragment:Aa,map_pars_fragment:Ra,map_particle_fragment:ka,map_particle_pars_fragment:Oa,metalnessmap_fragment:La,metalnessmap_pars_fragment:Ia,morphcolor_vertex:Pa,morphnormal_vertex:Da,morphtarget_pars_vertex:Na,morphtarget_vertex:Ua,normal_fragment_begin:Fa,normal_fragment_maps:Ba,normal_pars_fragment:ja,normal_pars_vertex:Va,normal_vertex:za,normalmap_pars_fragment:Ha,clearcoat_normal_fragment_begin:Wa,clearcoat_normal_fragment_maps:Ga,clearcoat_pars_fragment:$a,iridescence_pars_fragment:qa,opaque_fragment:Xa,packing:Ya,premultiplied_alpha_fragment:Ja,project_vertex:Za,dithering_fragment:Ka,dithering_pars_fragment:Qa,roughnessmap_fragment:es,roughnessmap_pars_fragment:ts,shadowmap_pars_fragment:ns,shadowmap_pars_vertex:rs,shadowmap_vertex:is,shadowmask_pars_fragment:os,skinbase_vertex:as,skinning_pars_vertex:ss,skinning_vertex:ls,skinnormal_vertex:cs,specularmap_fragment:us,specularmap_pars_fragment:ds,tonemapping_fragment:hs,tonemapping_pars_fragment:fs,transmission_fragment:ps,transmission_pars_fragment:ms,uv_pars_fragment:gs,uv_pars_vertex:vs,uv_vertex:ys,worldpos_vertex:bs,background_vert:_s,background_frag:ws,backgroundCube_vert:xs,backgroundCube_frag:Ss,cube_vert:Es,cube_frag:Ts,depth_vert:Ms,depth_frag:Cs,distanceRGBA_vert:As,distanceRGBA_frag:Rs,equirect_vert:ks,equirect_frag:Os,linedashed_vert:Ls,linedashed_frag:Is,meshbasic_vert:Ps,meshbasic_frag:Ds,meshlambert_vert:Ns,meshlambert_frag:Us,meshmatcap_vert:Fs,meshmatcap_frag:Bs,meshnormal_vert:js,meshnormal_frag:Vs,meshphong_vert:zs,meshphong_frag:Hs,meshphysical_vert:Ws,meshphysical_frag:Gs,meshtoon_vert:$s,meshtoon_frag:qs,points_vert:Xs,points_frag:Ys,shadow_vert:Js,shadow_frag:Zs,sprite_vert:Ks,sprite_frag:Qs},tl={common:{diffuse:{value:new fi(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new _n}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new _n}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new _n}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new _n},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new _n},normalScale:{value:new bn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new _n},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new _n}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new _n}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new _n}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new fi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new fi(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0},uvTransform:{value:new _n}},sprite:{diffuse:{value:new fi(16777215)},opacity:{value:1},center:{value:new bn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new _n},alphaMap:{value:null},alphaMapTransform:{value:new _n},alphaTest:{value:0}}},nl={basic:{uniforms:Ki([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.fog]),vertexShader:el.meshbasic_vert,fragmentShader:el.meshbasic_frag},lambert:{uniforms:Ki([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,tl.lights,{emissive:{value:new fi(0)}}]),vertexShader:el.meshlambert_vert,fragmentShader:el.meshlambert_frag},phong:{uniforms:Ki([tl.common,tl.specularmap,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,tl.lights,{emissive:{value:new fi(0)},specular:{value:new fi(1118481)},shininess:{value:30}}]),vertexShader:el.meshphong_vert,fragmentShader:el.meshphong_frag},standard:{uniforms:Ki([tl.common,tl.envmap,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.roughnessmap,tl.metalnessmap,tl.fog,tl.lights,{emissive:{value:new fi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:el.meshphysical_vert,fragmentShader:el.meshphysical_frag},toon:{uniforms:Ki([tl.common,tl.aomap,tl.lightmap,tl.emissivemap,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.gradientmap,tl.fog,tl.lights,{emissive:{value:new fi(0)}}]),vertexShader:el.meshtoon_vert,fragmentShader:el.meshtoon_frag},matcap:{uniforms:Ki([tl.common,tl.bumpmap,tl.normalmap,tl.displacementmap,tl.fog,{matcap:{value:null}}]),vertexShader:el.meshmatcap_vert,fragmentShader:el.meshmatcap_frag},points:{uniforms:Ki([tl.points,tl.fog]),vertexShader:el.points_vert,fragmentShader:el.points_frag},dashed:{uniforms:Ki([tl.common,tl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:el.linedashed_vert,fragmentShader:el.linedashed_frag},depth:{uniforms:Ki([tl.common,tl.displacementmap]),vertexShader:el.depth_vert,fragmentShader:el.depth_frag},normal:{uniforms:Ki([tl.common,tl.bumpmap,tl.normalmap,tl.displacementmap,{opacity:{value:1}}]),vertexShader:el.meshnormal_vert,fragmentShader:el.meshnormal_frag},sprite:{uniforms:Ki([tl.sprite,tl.fog]),vertexShader:el.sprite_vert,fragmentShader:el.sprite_frag},background:{uniforms:{uvTransform:{value:new _n},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:el.background_vert,fragmentShader:el.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:el.backgroundCube_vert,fragmentShader:el.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:el.cube_vert,fragmentShader:el.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:el.equirect_vert,fragmentShader:el.equirect_frag},distanceRGBA:{uniforms:Ki([tl.common,tl.displacementmap,{referencePosition:{value:new qn},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:el.distanceRGBA_vert,fragmentShader:el.distanceRGBA_frag},shadow:{uniforms:Ki([tl.lights,tl.fog,{color:{value:new fi(0)},opacity:{value:1}}]),vertexShader:el.shadow_vert,fragmentShader:el.shadow_frag}};nl.physical={uniforms:Ki([nl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new _n},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new _n},clearcoatNormalScale:{value:new bn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new _n},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new _n},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new _n},sheen:{value:0},sheenColor:{value:new fi(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new _n},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new _n},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new _n},transmissionSamplerSize:{value:new bn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new _n},attenuationDistance:{value:0},attenuationColor:{value:new fi(0)},specularColor:{value:new fi(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new _n},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new _n},anisotropyVector:{value:new bn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new _n}}]),vertexShader:el.meshphysical_vert,fragmentShader:el.meshphysical_frag};const rl={r:0,b:0,g:0};function il(e,t,n,r,i,o,a){const s=new fi(0);let l,c,u=!0===o?0:1,d=null,p=0,m=null;function g(o,g){let y=!1,b=!0===g.isScene?g.background:null;if(b&&b.isTexture){const e=g.backgroundBlurriness>0;b=(e?n:t).get(b)}null===b?v(s,u):b&&b.isColor&&(v(b,1),y=!0);const _=e.xr,w=_.getEnvironmentBlendMode();switch(w){case"opaque":y=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,a),y=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,a),y=!0;break}(e.autoClear||y)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),b&&(b.isCubeTexture||b.mapping===oe)?(void 0===c&&(c=new qi(new Ji(1,1,1),new io({name:"BackgroundCubeMaterial",uniforms:Zi(nl.backgroundCube.uniforms),vertexShader:nl.backgroundCube.vertexShader,fragmentShader:nl.backgroundCube.fragmentShader,side:f,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&!1===b.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=b.colorSpace!==Mt,d===b&&p===b.version&&m===e.toneMapping||(c.material.needsUpdate=!0,d=b,p=b.version,m=e.toneMapping),c.layers.enableAll(),o.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(void 0===l&&(l=new qi(new xo(2,2),new io({name:"BackgroundMaterial",uniforms:Zi(nl.background.uniforms),vertexShader:nl.background.vertexShader,fragmentShader:nl.background.fragmentShader,side:h,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=b,l.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,l.material.toneMapped=b.colorSpace!==Mt,!0===b.matrixAutoUpdate&&b.updateMatrix(),l.material.uniforms.uvTransform.value.copy(b.matrix),d===b&&p===b.version&&m===e.toneMapping||(l.material.needsUpdate=!0,d=b,p=b.version,m=e.toneMapping),l.layers.enableAll(),o.unshift(l,l.geometry,l.material,0,0,null))}function v(t,n){t.getRGB(rl,eo(e)),r.buffers.color.setClear(rl.r,rl.g,rl.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,v(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,v(s,u)},render:g}}function ol(e,t,n,r){const i=e.getParameter(e.MAX_VERTEX_ATTRIBS),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=g(null);let c=l,u=!1;function d(t,r,i,o,s){let l=!1;if(a){const e=m(o,i,r);c!==e&&(c=e,f(c.object)),l=v(t,o,i,s),l&&y(t,o,i,s)}else{const e=!0===r.wireframe;c.geometry===o.id&&c.program===i.id&&c.wireframe===e||(c.geometry=o.id,c.program=i.id,c.wireframe=e,l=!0)}null!==s&&n.update(s,e.ELEMENT_ARRAY_BUFFER),(l||u)&&(u=!1,E(t,r,i,o),null!==s&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(s).buffer))}function h(){return r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function f(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function p(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function m(e,t,n){const r=!0===n.wireframe;let i=s[e.id];void 0===i&&(i={},s[e.id]=i);let o=i[t.id];void 0===o&&(o={},i[t.id]=o);let a=o[r];return void 0===a&&(a=g(h()),o[r]=a),a}function g(e){const t=[],n=[],r=[];for(let o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function v(e,t,n,r){const i=c.attributes,o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){const t=s[l];if(t.location>=0){const t=i[l];let n=o[l];if(void 0===n&&("instanceMatrix"===l&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return c.attributesNum!==a||c.index!==r}function y(e,t,n,r){const i={},o=t.attributes;let a=0;const s=n.getAttributes();for(const l in s){const t=s[l];if(t.location>=0){let t=o[l];void 0===t&&("instanceMatrix"===l&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[l]=n,a++}}c.attributes=i,c.attributesNum=a,c.index=r}function b(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function _(e){w(e,0)}function w(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){const o=r.isWebGL2?e:t.get("ANGLE_instanced_arrays");o[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function x(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function S(t,n,r,i,o,a,s){!0===s?e.vertexAttribIPointer(t,n,r,o,a):e.vertexAttribPointer(t,n,r,i,o,a)}function E(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;b();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const o=c[t];if(o.location>=0){let a=l[t];if(void 0===a&&("instanceMatrix"===t&&i.instanceMatrix&&(a=i.instanceMatrix),"instanceColor"===t&&i.instanceColor&&(a=i.instanceColor)),void 0!==a){const t=a.normalized,l=a.itemSize,c=n.get(a);if(void 0===c)continue;const u=c.buffer,d=c.type,h=c.bytesPerElement,f=!0===r.isWebGL2&&(d===e.INT||d===e.UNSIGNED_INT||a.gpuType===be);if(a.isInterleavedBufferAttribute){const n=a.data,r=n.stride,c=a.offset;if(n.isInstancedInterleavedBuffer){for(let e=0;e<o.locationSize;e++)w(o.location+e,n.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)}else for(let e=0;e<o.locationSize;e++)_(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)S(o.location+e,l/o.locationSize,d,t,r*h,(c+l/o.locationSize*e)*h,f)}else{if(a.isInstancedBufferAttribute){for(let e=0;e<o.locationSize;e++)w(o.location+e,a.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=a.meshPerAttribute*a.count)}else for(let e=0;e<o.locationSize;e++)_(o.location+e);e.bindBuffer(e.ARRAY_BUFFER,u);for(let e=0;e<o.locationSize;e++)S(o.location+e,l/o.locationSize,d,t,l*h,l/o.locationSize*e*h,f)}}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(o.location,n);break;case 3:e.vertexAttrib3fv(o.location,n);break;case 4:e.vertexAttrib4fv(o.location,n);break;default:e.vertexAttrib1fv(o.location,n)}}}}x()}function T(){A();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)p(n[e].object),delete n[e];delete t[e]}delete s[e]}}function M(e){if(void 0===s[e.id])return;const t=s[e.id];for(const n in t){const e=t[n];for(const t in e)p(e[t].object),delete e[t];delete t[n]}delete s[e.id]}function C(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)p(r[e].object),delete r[e];delete n[e.id]}}function A(){R(),u=!0,c!==l&&(c=l,f(c.object))}function R(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:A,resetDefaultState:R,dispose:T,releaseStatesOfGeometry:M,releaseStatesOfProgram:C,initAttributes:b,enableAttribute:_,disableUnusedAttributes:x}}function al(e,t,n,r){const i=r.isWebGL2;let o;function a(e){o=e}function s(t,r){e.drawArrays(o,t,r),n.update(r,o,1)}function l(r,a,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}this.setMode=a,this.render=s,this.renderInstances=l}function sl(e,t,n){let r;function i(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name;let s=void 0!==n.precision?n.precision:"highp";const l=o(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);const c=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,d=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),p=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),m=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),v=e.getParameter(e.MAX_VARYING_VECTORS),y=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,_=a||t.has("OES_texture_float"),w=b&&_,x=a?e.getParameter(e.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:o,precision:s,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:w,maxSamples:x}}function ll(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new go,s=new _n,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(e[n]).applyMatrix4(i,s),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(t,a,s){const d=t.clippingPlanes,h=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===d||0===d.length||o&&!f)o?u(null):c();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(d,a,t,s);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=e}}}function cl(e){let t=new WeakMap;function n(e,t){return t===re?e.mapping=te:t===ie&&(e.mapping=ne),e}function r(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const o=r.mapping;if(o===re||o===ie){if(t.has(r)){const e=t.get(r).texture;return n(e,r.mapping)}{const o=r.image;if(o&&o.height>0){const a=new ho(o.height/2);return a.fromEquirectangularTexture(e,r),t.set(r,a),r.addEventListener("dispose",i),n(a.texture,r.mapping)}return null}}}return r}function i(e){const n=e.target;n.removeEventListener("dispose",i);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function o(){t=new WeakMap}return{get:r,dispose:o}}class ul extends oo{constructor(e=-1,t=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const dl=4,hl=[.125,.215,.35,.446,.526,.582],fl=20,pl=new ul,ml=new fi;let gl=null;const vl=(1+Math.sqrt(5))/2,yl=1/vl,bl=[new qn(1,1,1),new qn(-1,1,1),new qn(1,1,-1),new qn(-1,1,-1),new qn(0,vl,yl),new qn(0,vl,-yl),new qn(yl,0,vl),new qn(-yl,0,vl),new qn(vl,yl,0),new qn(-vl,yl,0)];class _l{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){gl=this._renderer.getRenderTarget(),this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Ml(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Tl(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(gl),e.scissorTest=!1,Sl(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===te||e.mapping===ne?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),gl=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:he,minFilter:he,generateMipmaps:!1,type:xe,format:Ce,colorSpace:Ct,depthBuffer:!1},r=xl(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=xl(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=wl(r)),this._blurMaterial=El(r,e,t)}return r}_compileMaterial(e){const t=new qi(this._lodPlanes[0],e);this._renderer.compile(t,pl)}_sceneToCubeUV(e,t,n,r){const i=90,o=1,a=new ao(i,o,t,n),s=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.autoClear,d=c.toneMapping;c.getClearColor(ml),c.toneMapping=X,c.autoClear=!1;const h=new mi({name:"PMREM.Background",side:f,depthWrite:!1,depthTest:!1}),p=new qi(new Ji,h);let m=!1;const g=e.background;g?g.isColor&&(h.color.copy(g),e.background=null,m=!0):(h.color.copy(ml),m=!0);for(let f=0;f<6;f++){const t=f%3;0===t?(a.up.set(0,s[f],0),a.lookAt(l[f],0,0)):1===t?(a.up.set(0,0,s[f]),a.lookAt(0,l[f],0)):(a.up.set(0,s[f],0),a.lookAt(0,0,l[f]));const n=this._cubeSize;Sl(r,t*n,f>2?n:0,n,n),c.setRenderTarget(r),m&&c.render(p,a),c.render(e,a)}p.geometry.dispose(),p.material.dispose(),c.toneMapping=d,c.autoClear=u,e.background=g}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===te||e.mapping===ne;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Ml()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Tl());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new qi(this._lodPlanes[0],i),a=i.uniforms;a["envMap"].value=e;const s=this._cubeSize;Sl(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(o,pl)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const t=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),n=bl[(r-1)%bl.length];this._blur(e,r-1,r,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new qi(this._lodPlanes[r],l),d=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*fl-1),p=i/f,m=isFinite(i)?1+Math.floor(c*p):fl;m>fl&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${fl}`);const g=[];let v=0;for(let x=0;x<fl;++x){const e=x/p,t=Math.exp(-e*e/2);g.push(t),0===x?v+=t:x<m&&(v+=2*t)}for(let x=0;x<g.length;x++)g[x]=g[x]/v;d["envMap"].value=e.texture,d["samples"].value=m,d["weights"].value=g,d["latitudinal"].value="latitudinal"===o,a&&(d["poleAxis"].value=a);const{_lodMax:y}=this;d["dTheta"].value=f,d["mipInt"].value=y-n;const b=this._sizeLods[r],_=3*b*(r>y-dl?r-y+dl:0),w=4*(this._cubeSize-b);Sl(t,_,w,3*b,2*b),s.setRenderTarget(t),s.render(u,pl)}}function wl(e){const t=[],n=[],r=[];let i=e;const o=e-dl+1+hl.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>e-dl?s=hl[a-e+dl-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,g=1,v=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(g*f*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*f*e),y.set(d,m*f*e);const i=[e,e,e,e,e,e];b.set(i,g*f*e)}const _=new Ri;_.setAttribute("position",new yi(v,p)),_.setAttribute("uv",new yi(y,m)),_.setAttribute("faceIndex",new yi(b,g)),t.push(_),i>dl&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}function xl(e,t,n){const r=new Hn(e,t,n);return r.texture.mapping=oe,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Sl(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function El(e,t,n){const r=new Float32Array(fl),i=new qn(0,1,0),o=new io({name:"SphericalGaussianBlur",defines:{n:fl,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Cl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1});return o}function Tl(){return new io({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Cl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Ml(){return new io({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Cl(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Cl(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Al(e){let t=new WeakMap,n=null;function r(r){if(r&&r.isTexture){const a=r.mapping,s=a===re||a===ie,l=a===te||a===ne;if(s||l){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let i=t.get(r);return null===n&&(n=new _l(e)),i=s?n.fromEquirectangular(r,i):n.fromCubemap(r,i),t.set(r,i),i.texture}if(t.has(r))return t.get(r).texture;{const a=r.image;if(s&&a&&a.height>0||l&&a&&i(a)){null===n&&(n=new _l(e));const i=s?n.fromEquirectangular(r):n.fromCubemap(r);return t.set(r,i),r.addEventListener("dispose",o),i.texture}return null}}}return r}function i(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}function o(e){const n=e.target;n.removeEventListener("dispose",o);const r=t.get(n);void 0!==r&&(t.delete(n),r.dispose())}function a(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}return{get:r,dispose:a}}function Rl(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){const t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function kl(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);for(const n in s.morphAttributes){const e=s.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t}function l(n){const r=n.attributes;for(const o in r)t.update(r[o],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}}function c(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(xn(n)?_i:bi)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}function u(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&c(e)}else c(e);return o.get(e)}return{get:s,update:l,getWireframeAttribute:u}}function Ol(e,t,n,r){const i=r.isWebGL2;let o,a,s;function l(e){o=e}function c(e){a=e.type,s=e.bytesPerElement}function u(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)}function d(r,l,c){if(0===c)return;let u,d;if(i)u=e,d="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[d](o,l,a,r*s,c),n.update(l,o,c)}this.setMode=l,this.setIndex=c,this.render=u,this.renderInstances=d}function Ll(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(t,r,i){switch(n.calls++,r){case e.TRIANGLES:n.triangles+=i*(t/3);break;case e.LINES:n.lines+=i*(t/2);break;case e.LINE_STRIP:n.lines+=i*(t-1);break;case e.LINE_LOOP:n.lines+=i*t;break;case e.POINTS:n.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Il(e,t){return e[0]-t[0]}function Pl(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Dl(e,t,n){const r={},i=new Float32Array(8),o=new WeakMap,a=new zn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function l(l,c,u){const d=l.morphTargetInfluences;if(!0===t.isWebGL2){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,f=void 0!==h?h.length:0;let p=o.get(c);if(void 0===p||p.count!==f){void 0!==p&&p.texture.dispose();const v=void 0!==c.morphAttributes.position,y=void 0!==c.morphAttributes.normal,b=void 0!==c.morphAttributes.color,_=c.morphAttributes.position||[],w=c.morphAttributes.normal||[],x=c.morphAttributes.color||[];let S=0;!0===v&&(S=1),!0===y&&(S=2),!0===b&&(S=3);let E=c.attributes.position.count*S,T=1;E>t.maxTextureSize&&(T=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);const M=new Float32Array(E*T*4*f),C=new Wn(M,E,T,f);C.type=we,C.needsUpdate=!0;const A=4*S;for(let k=0;k<f;k++){const O=_[k],L=w[k],I=x[k],P=E*T*4*k;for(let D=0;D<O.count;D++){const N=D*A;!0===v&&(a.fromBufferAttribute(O,D),M[P+N+0]=a.x,M[P+N+1]=a.y,M[P+N+2]=a.z,M[P+N+3]=0),!0===y&&(a.fromBufferAttribute(L,D),M[P+N+4]=a.x,M[P+N+5]=a.y,M[P+N+6]=a.z,M[P+N+7]=0),!0===b&&(a.fromBufferAttribute(I,D),M[P+N+8]=a.x,M[P+N+9]=a.y,M[P+N+10]=a.z,M[P+N+11]=4===I.itemSize?a.w:1)}}function R(){C.dispose(),o.delete(c),c.removeEventListener("dispose",R)}p={count:f,texture:C,size:new bn(E,T)},o.set(c,p),c.addEventListener("dispose",R)}let m=0;for(let U=0;U<d.length;U++)m+=d[U];const g=c.morphTargetsRelative?1:1-m;u.getUniforms().setValue(e,"morphTargetBaseInfluence",g),u.getUniforms().setValue(e,"morphTargetInfluences",d),u.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),u.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{const F=void 0===d?0:d.length;let B=r[c.id];if(void 0===B||B.length!==F){B=[];for(let W=0;W<F;W++)B[W]=[W,0];r[c.id]=B}for(let G=0;G<F;G++){const $=B[G];$[0]=G,$[1]=d[G]}B.sort(Pl);for(let q=0;q<8;q++)q<F&&B[q][1]?(s[q][0]=B[q][0],s[q][1]=B[q][1]):(s[q][0]=Number.MAX_SAFE_INTEGER,s[q][1]=0);s.sort(Il);const j=c.morphAttributes.position,V=c.morphAttributes.normal;let z=0;for(let X=0;X<8;X++){const Y=s[X],J=Y[0],Z=Y[1];J!==Number.MAX_SAFE_INTEGER&&Z?(j&&c.getAttribute("morphTarget"+X)!==j[J]&&c.setAttribute("morphTarget"+X,j[J]),V&&c.getAttribute("morphNormal"+X)!==V[J]&&c.setAttribute("morphNormal"+X,V[J]),i[X]=Z,z+=Z):(j&&!0===c.hasAttribute("morphTarget"+X)&&c.deleteAttribute("morphTarget"+X),V&&!0===c.hasAttribute("morphNormal"+X)&&c.deleteAttribute("morphNormal"+X),i[X]=0)}const H=c.morphTargetsRelative?1:1-z;u.getUniforms().setValue(e,"morphTargetBaseInfluence",H),u.getUniforms().setValue(e,"morphTargetInfluences",i)}}return{update:l}}function Nl(e,t,n,r){let i=new WeakMap;function o(o){const a=r.render.frame,l=o.geometry,c=t.get(o,l);if(i.get(c)!==a&&(t.update(c),i.set(c,a)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",s)&&o.addEventListener("dispose",s),i.get(o)!==a&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,a))),o.isSkinnedMesh){const e=o.skeleton;i.get(e)!==a&&(e.update(),i.set(e,a))}return c}function a(){i=new WeakMap}function s(e){const t=e.target;t.removeEventListener("dispose",s),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:o,dispose:a}}const Ul=new Vn,Fl=new Wn,Bl=new Gn,jl=new uo,Vl=[],zl=[],Hl=new Float32Array(16),Wl=new Float32Array(9),Gl=new Float32Array(4);function $l(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Vl[i];if(void 0===o&&(o=new Float32Array(i),Vl[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function ql(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Xl(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Yl(e,t){let n=zl[t];void 0===n&&(n=new Int32Array(t),zl[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Jl(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Zl(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ql(n,t))return;e.uniform2fv(this.addr,t),Xl(n,t)}}function Kl(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ql(n,t))return;e.uniform3fv(this.addr,t),Xl(n,t)}}function Ql(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ql(n,t))return;e.uniform4fv(this.addr,t),Xl(n,t)}}function ec(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ql(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Xl(n,t)}else{if(ql(n,r))return;Gl.set(r),e.uniformMatrix2fv(this.addr,!1,Gl),Xl(n,r)}}function tc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ql(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Xl(n,t)}else{if(ql(n,r))return;Wl.set(r),e.uniformMatrix3fv(this.addr,!1,Wl),Xl(n,r)}}function nc(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(ql(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Xl(n,t)}else{if(ql(n,r))return;Hl.set(r),e.uniformMatrix4fv(this.addr,!1,Hl),Xl(n,r)}}function rc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ic(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ql(n,t))return;e.uniform2iv(this.addr,t),Xl(n,t)}}function oc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ql(n,t))return;e.uniform3iv(this.addr,t),Xl(n,t)}}function ac(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ql(n,t))return;e.uniform4iv(this.addr,t),Xl(n,t)}}function sc(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function lc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ql(n,t))return;e.uniform2uiv(this.addr,t),Xl(n,t)}}function cc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(ql(n,t))return;e.uniform3uiv(this.addr,t),Xl(n,t)}}function uc(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ql(n,t))return;e.uniform4uiv(this.addr,t),Xl(n,t)}}function dc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||Ul,i)}function hc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||Bl,i)}function fc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||jl,i)}function pc(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Fl,i)}function mc(e){switch(e){case 5126:return Jl;case 35664:return Zl;case 35665:return Kl;case 35666:return Ql;case 35674:return ec;case 35675:return tc;case 35676:return nc;case 5124:case 35670:return rc;case 35667:case 35671:return ic;case 35668:case 35672:return oc;case 35669:case 35673:return ac;case 5125:return sc;case 36294:return lc;case 36295:return cc;case 36296:return uc;case 35678:case 36198:case 36298:case 36306:case 35682:return dc;case 35679:case 36299:case 36307:return hc;case 35680:case 36300:case 36308:case 36293:return fc;case 36289:case 36303:case 36311:case 36292:return pc}}function gc(e,t){e.uniform1fv(this.addr,t)}function vc(e,t){const n=$l(t,this.size,2);e.uniform2fv(this.addr,n)}function yc(e,t){const n=$l(t,this.size,3);e.uniform3fv(this.addr,n)}function bc(e,t){const n=$l(t,this.size,4);e.uniform4fv(this.addr,n)}function _c(e,t){const n=$l(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function wc(e,t){const n=$l(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function xc(e,t){const n=$l(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Sc(e,t){e.uniform1iv(this.addr,t)}function Ec(e,t){e.uniform2iv(this.addr,t)}function Tc(e,t){e.uniform3iv(this.addr,t)}function Mc(e,t){e.uniform4iv(this.addr,t)}function Cc(e,t){e.uniform1uiv(this.addr,t)}function Ac(e,t){e.uniform2uiv(this.addr,t)}function Rc(e,t){e.uniform3uiv(this.addr,t)}function kc(e,t){e.uniform4uiv(this.addr,t)}function Oc(e,t,n){const r=this.cache,i=t.length,o=Yl(n,i);ql(r,o)||(e.uniform1iv(this.addr,o),Xl(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||Ul,o[a])}function Lc(e,t,n){const r=this.cache,i=t.length,o=Yl(n,i);ql(r,o)||(e.uniform1iv(this.addr,o),Xl(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||Bl,o[a])}function Ic(e,t,n){const r=this.cache,i=t.length,o=Yl(n,i);ql(r,o)||(e.uniform1iv(this.addr,o),Xl(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||jl,o[a])}function Pc(e,t,n){const r=this.cache,i=t.length,o=Yl(n,i);ql(r,o)||(e.uniform1iv(this.addr,o),Xl(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||Fl,o[a])}function Dc(e){switch(e){case 5126:return gc;case 35664:return vc;case 35665:return yc;case 35666:return bc;case 35674:return _c;case 35675:return wc;case 35676:return xc;case 5124:case 35670:return Sc;case 35667:case 35671:return Ec;case 35668:case 35672:return Tc;case 35669:case 35673:return Mc;case 5125:return Cc;case 36294:return Ac;case 36295:return Rc;case 36296:return kc;case 35678:case 36198:case 36298:case 36306:case 35682:return Oc;case 35679:case 36299:case 36307:return Lc;case 35680:case 36300:case 36308:case 36293:return Ic;case 36289:case 36303:case 36311:case 36292:return Pc}}class Nc{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=mc(t.type)}}class Uc{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=Dc(t.type)}}class Fc{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const Bc=/(\w+)(\])?(\[|\.)?/g;function jc(e,t){e.seq.push(t),e.map[t.id]=t}function Vc(e,t,n){const r=e.name,i=r.length;Bc.lastIndex=0;while(1){const o=Bc.exec(r),a=Bc.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){jc(n,void 0===c?new Nc(s,e,t):new Uc(s,e,t));break}{const e=n.map;let t=e[s];void 0===t&&(t=new Fc(s),jc(n,t)),n=t}}}class zc{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r),i=e.getUniformLocation(t,n.name);Vc(n,i,this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Hc(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Wc=0;function Gc(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const e=a+1;r.push(`${e===t?">":" "} ${e}: ${n[a]}`)}return r.join("\n")}function $c(e){switch(e){case Ct:return["Linear","( value )"];case Mt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}function qc(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+Gc(e.getShaderSource(t),r)}return i}function Xc(e,t){const n=$c(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Yc(e,t){let n;switch(t){case Y:n="Linear";break;case J:n="Reinhard";break;case Z:n="OptimizedCineon";break;case K:n="ACESFilmic";break;case Q:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Jc(e){const t=[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return t.filter(Qc).join("\n")}function Zc(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}function Kc(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}function Qc(e){return""!==e}function eu(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function tu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const nu=/^[ \t]*#include +<([\w\d./]+)>/gm;function ru(e){return e.replace(nu,ou)}const iu=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function ou(e,t){let n=el[t];if(void 0===n){const e=iu.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=el[e],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,e)}return ru(n)}const au=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function su(e){return e.replace(au,lu)}function lu(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function cu(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function uu(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===c?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===u?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===d&&(t="SHADOWMAP_TYPE_VSM"),t}function du(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case te:case ne:t="ENVMAP_TYPE_CUBE";break;case oe:t="ENVMAP_TYPE_CUBE_UV";break}return t}function hu(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ne:t="ENVMAP_MODE_REFRACTION";break}return t}function fu(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case G:t="ENVMAP_BLENDING_MULTIPLY";break;case $:t="ENVMAP_BLENDING_MIX";break;case q:t="ENVMAP_BLENDING_ADD";break}return t}function pu(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t,i=1/(3*Math.max(Math.pow(2,n),112));return{texelWidth:i,texelHeight:r,maxMip:n}}function mu(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=uu(n),c=du(n),u=hu(n),d=fu(n),h=pu(n),f=n.isWebGL2?"":Jc(n),p=Zc(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Qc).join("\n"),g.length>0&&(g+="\n"),v=[f,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Qc).join("\n"),v.length>0&&(v+="\n")):(g=[cu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qc).join("\n"),v=[f,cu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==X?"#define TONE_MAPPING":"",n.toneMapping!==X?el["tonemapping_pars_fragment"]:"",n.toneMapping!==X?Yc("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",el["colorspace_pars_fragment"],Xc("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Qc).join("\n")),a=ru(a),a=eu(a,n),a=tu(a,n),s=ru(s),s=eu(s,n),s=tu(s,n),a=su(a),s=su(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===jt?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jt?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+g+a,_=y+v+s,w=Hc(i,i.VERTEX_SHADER,b),x=Hc(i,i.FRAGMENT_SHADER,_);if(i.attachShader(m,w),i.attachShader(m,x),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const t=i.getProgramInfoLog(m).trim(),n=i.getShaderInfoLog(w).trim(),r=i.getShaderInfoLog(x).trim();let o=!0,a=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(o=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(i,m,w,x);else{const e=qc(i,w,"vertex"),n=qc(i,x,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+"\n\nProgram Info Log: "+t+"\n"+e+"\n"+n)}else""!==t?console.warn("THREE.WebGLProgram: Program Info Log:",t):""!==n&&""!==r||(a=!1);a&&(this.diagnostics={runnable:o,programLog:t,vertexShader:{log:n,prefix:g},fragmentShader:{log:r,prefix:v}})}let S,E;return i.deleteShader(w),i.deleteShader(x),this.getUniforms=function(){return void 0===S&&(S=new zc(i,m)),S},this.getAttributes=function(){return void 0===E&&(E=Kc(i,m)),E},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Wc++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=x,this}let gu=0;class vu{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new yu(e),t.set(e,n)),n}}class yu{constructor(e){this.id=gu++,this.code=e,this.usedTimes=0}}function bu(e,t,n,r,i,o,a){const s=new Pr,l=new vu,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(e){return 0===e?"uv":`uv${e}`}function b(o,s,c,b,_){const w=b.fog,x=_.geometry,S=o.isMeshStandardMaterial?b.environment:null,E=(o.isMeshStandardMaterial?n:t).get(o.envMap||S),T=E&&E.mapping===oe?E.image.height:null,M=v[o.type];null!==o.precision&&(m=i.getMaxPrecision(o.precision),m!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead."));const C=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,A=void 0!==C?C.length:0;let R,k,O,L,I=0;if(void 0!==x.morphAttributes.position&&(I=1),void 0!==x.morphAttributes.normal&&(I=2),void 0!==x.morphAttributes.color&&(I=3),M){const e=nl[M];R=e.vertexShader,k=e.fragmentShader}else R=o.vertexShader,k=o.fragmentShader,l.update(o),O=l.getVertexShaderID(o),L=l.getFragmentShaderID(o);const P=e.getRenderTarget(),D=!0===_.isInstancedMesh,N=!!o.map,U=!!o.matcap,F=!!E,B=!!o.aoMap,j=!!o.lightMap,V=!!o.bumpMap,z=!!o.normalMap,H=!!o.displacementMap,W=!!o.emissiveMap,G=!!o.metalnessMap,$=!!o.roughnessMap,q=o.anisotropy>0,Y=o.clearcoat>0,J=o.iridescence>0,Z=o.sheen>0,K=o.transmission>0,Q=q&&!!o.anisotropyMap,ee=Y&&!!o.clearcoatMap,te=Y&&!!o.clearcoatNormalMap,ne=Y&&!!o.clearcoatRoughnessMap,re=J&&!!o.iridescenceMap,ie=J&&!!o.iridescenceThicknessMap,ae=Z&&!!o.sheenColorMap,se=Z&&!!o.sheenRoughnessMap,le=!!o.specularMap,ce=!!o.specularColorMap,ue=!!o.specularIntensityMap,de=K&&!!o.transmissionMap,he=K&&!!o.thicknessMap,fe=!!o.gradientMap,pe=!!o.alphaMap,me=o.alphaTest>0,ge=!!o.alphaHash,ve=!!o.extensions,ye=!!x.attributes.uv1,be=!!x.attributes.uv2,_e=!!x.attributes.uv3,we={isWebGL2:u,shaderID:M,shaderType:o.type,shaderName:o.name,vertexShader:R,fragmentShader:k,defines:o.defines,customVertexShaderID:O,customFragmentShaderID:L,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,instancing:D,instancingColor:D&&null!==_.instanceColor,supportsVertexTextures:h,outputColorSpace:null===P?e.outputColorSpace:!0===P.isXRRenderTarget?P.texture.colorSpace:Ct,map:N,matcap:U,envMap:F,envMapMode:F&&E.mapping,envMapCubeUVHeight:T,aoMap:B,lightMap:j,bumpMap:V,normalMap:z,displacementMap:h&&H,emissiveMap:W,normalMapObjectSpace:z&&o.normalMapType===Et,normalMapTangentSpace:z&&o.normalMapType===St,metalnessMap:G,roughnessMap:$,anisotropy:q,anisotropyMap:Q,clearcoat:Y,clearcoatMap:ee,clearcoatNormalMap:te,clearcoatRoughnessMap:ne,iridescence:J,iridescenceMap:re,iridescenceThicknessMap:ie,sheen:Z,sheenColorMap:ae,sheenRoughnessMap:se,specularMap:le,specularColorMap:ce,specularIntensityMap:ue,transmission:K,transmissionMap:de,thicknessMap:he,gradientMap:fe,opaque:!1===o.transparent&&o.blending===g,alphaMap:pe,alphaTest:me,alphaHash:ge,combine:o.combine,mapUv:N&&y(o.map.channel),aoMapUv:B&&y(o.aoMap.channel),lightMapUv:j&&y(o.lightMap.channel),bumpMapUv:V&&y(o.bumpMap.channel),normalMapUv:z&&y(o.normalMap.channel),displacementMapUv:H&&y(o.displacementMap.channel),emissiveMapUv:W&&y(o.emissiveMap.channel),metalnessMapUv:G&&y(o.metalnessMap.channel),roughnessMapUv:$&&y(o.roughnessMap.channel),anisotropyMapUv:Q&&y(o.anisotropyMap.channel),clearcoatMapUv:ee&&y(o.clearcoatMap.channel),clearcoatNormalMapUv:te&&y(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ne&&y(o.clearcoatRoughnessMap.channel),iridescenceMapUv:re&&y(o.iridescenceMap.channel),iridescenceThicknessMapUv:ie&&y(o.iridescenceThicknessMap.channel),sheenColorMapUv:ae&&y(o.sheenColorMap.channel),sheenRoughnessMapUv:se&&y(o.sheenRoughnessMap.channel),specularMapUv:le&&y(o.specularMap.channel),specularColorMapUv:ce&&y(o.specularColorMap.channel),specularIntensityMapUv:ue&&y(o.specularIntensityMap.channel),transmissionMapUv:de&&y(o.transmissionMap.channel),thicknessMapUv:he&&y(o.thicknessMap.channel),alphaMapUv:pe&&y(o.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(z||q),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUv1s:ye,vertexUv2s:be,vertexUv3s:_e,pointsUvs:!0===_.isPoints&&!!x.attributes.uv&&(N||pe),fog:!!w,useFog:!0===o.fog,fogExp2:w&&w.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===_.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:A,morphTextureStride:I,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:X,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:o.side===p,flipSided:o.side===f,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:ve&&!0===o.extensions.derivatives,extensionFragDepth:ve&&!0===o.extensions.fragDepth,extensionDrawBuffers:ve&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:ve&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()};return we}function _(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(w(n,t),x(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()}function w(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}function x(e,t){s.disableAll(),t.isWebGL2&&s.enable(0),t.supportsVertexTextures&&s.enable(1),t.instancing&&s.enable(2),t.instancingColor&&s.enable(3),t.matcap&&s.enable(4),t.envMap&&s.enable(5),t.normalMapObjectSpace&&s.enable(6),t.normalMapTangentSpace&&s.enable(7),t.clearcoat&&s.enable(8),t.iridescence&&s.enable(9),t.alphaTest&&s.enable(10),t.vertexColors&&s.enable(11),t.vertexAlphas&&s.enable(12),t.vertexUv1s&&s.enable(13),t.vertexUv2s&&s.enable(14),t.vertexUv3s&&s.enable(15),t.vertexTangents&&s.enable(16),t.anisotropy&&s.enable(17),e.push(s.mask),s.disableAll(),t.fog&&s.enable(0),t.useFog&&s.enable(1),t.flatShading&&s.enable(2),t.logarithmicDepthBuffer&&s.enable(3),t.skinning&&s.enable(4),t.morphTargets&&s.enable(5),t.morphNormals&&s.enable(6),t.morphColors&&s.enable(7),t.premultipliedAlpha&&s.enable(8),t.shadowMapEnabled&&s.enable(9),t.useLegacyLights&&s.enable(10),t.doubleSided&&s.enable(11),t.flipSided&&s.enable(12),t.useDepthPacking&&s.enable(13),t.dithering&&s.enable(14),t.transmission&&s.enable(15),t.sheen&&s.enable(16),t.opaque&&s.enable(17),t.pointsUvs&&s.enable(18),e.push(s.mask)}function S(e){const t=v[e.type];let n;if(t){const e=nl[t];n=to.clone(e.uniforms)}else n=e.uniforms;return n}function E(t,n){let r;for(let e=0,i=c.length;e<i;e++){const t=c[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new mu(e,n,t,o),c.push(r)),r}function T(e){if(0===--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}}function M(e){l.remove(e)}function C(){l.dispose()}return{getParameters:b,getProgramCacheKey:_,getUniforms:S,acquireProgram:E,releaseProgram:T,releaseShaderCache:M,programs:c,dispose:C}}function _u(){let e=new WeakMap;function t(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n}function n(t){e.delete(t)}function r(t,n,r){e.get(t)[n]=r}function i(){e=new WeakMap}return{get:t,remove:n,update:r,dispose:i}}function wu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function xu(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Su(){const e=[];let t=0;const n=[],r=[],i=[];function o(){t=0,n.length=0,r.length=0,i.length=0}function a(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}function s(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.push(u):!0===o.transparent?i.push(u):n.push(u)}function l(e,t,o,s,l,c){const u=a(e,t,o,s,l,c);o.transmission>0?r.unshift(u):!0===o.transparent?i.unshift(u):n.unshift(u)}function c(e,t){n.length>1&&n.sort(e||wu),r.length>1&&r.sort(t||xu),i.length>1&&i.sort(t||xu)}function u(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:u,sort:c}}function Eu(){let e=new WeakMap;function t(t,n){const r=e.get(t);let i;return void 0===r?(i=new Su,e.set(t,[i])):n>=r.length?(i=new Su,r.push(i)):i=r[n],i}function n(){e=new WeakMap}return{get:t,dispose:n}}function Tu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new qn,color:new fi};break;case"SpotLight":n={position:new qn,direction:new qn,color:new fi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new qn,color:new fi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new qn,skyColor:new fi,groundColor:new fi};break;case"RectAreaLight":n={color:new fi,position:new qn,halfWidth:new qn,halfHeight:new qn};break}return e[t.id]=n,n}}}function Mu(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new bn,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let Cu=0;function Au(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function Ru(e,t){const n=new Tu,r=Mu(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new qn);const o=new qn,a=new Sr,s=new Sr;function l(o,a){let s=0,l=0,c=0;for(let e=0;e<9;e++)i.probe[e].set(0,0,0);let u=0,d=0,h=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0;o.sort(Au);const _=!0===a?Math.PI:1;for(let e=0,t=o.length;e<t;e++){const t=o[e],a=t.color,w=t.intensity,x=t.distance,S=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)s+=a.r*w*_,l+=a.g*w*_,c+=a.b*w*_;else if(t.isLightProbe)for(let e=0;e<9;e++)i.probe[e].addScaledVector(t.sh.coefficients[e],w);else if(t.isDirectionalLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,i.directionalShadow[u]=n,i.directionalShadowMap[u]=S,i.directionalShadowMatrix[u]=t.shadow.matrix,m++}i.directional[u]=e,u++}else if(t.isSpotLight){const e=n.get(t);e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(w*_),e.distance=x,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,i.spot[h]=e;const o=t.shadow;if(t.map&&(i.spotLightMap[y]=t.map,y++,o.updateMatrices(t),t.castShadow&&b++),i.spotLightMatrix[h]=o.matrix,t.castShadow){const e=r.get(t);e.shadowBias=o.bias,e.shadowNormalBias=o.normalBias,e.shadowRadius=o.radius,e.shadowMapSize=o.mapSize,i.spotShadow[h]=e,i.spotShadowMap[h]=S,v++}h++}else if(t.isRectAreaLight){const e=n.get(t);e.color.copy(a).multiplyScalar(w),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),i.rectArea[f]=e,f++}else if(t.isPointLight){const e=n.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*_),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,n=r.get(t);n.shadowBias=e.bias,n.shadowNormalBias=e.normalBias,n.shadowRadius=e.radius,n.shadowMapSize=e.mapSize,n.shadowCameraNear=e.camera.near,n.shadowCameraFar=e.camera.far,i.pointShadow[d]=n,i.pointShadowMap[d]=S,i.pointShadowMatrix[d]=t.shadow.matrix,g++}i.point[d]=e,d++}else if(t.isHemisphereLight){const e=n.get(t);e.skyColor.copy(t.color).multiplyScalar(w*_),e.groundColor.copy(t.groundColor).multiplyScalar(w*_),i.hemi[p]=e,p++}}f>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=tl.LTC_FLOAT_1,i.rectAreaLTC2=tl.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=tl.LTC_HALF_1,i.rectAreaLTC2=tl.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=c;const w=i.hash;w.directionalLength===u&&w.pointLength===d&&w.spotLength===h&&w.rectAreaLength===f&&w.hemiLength===p&&w.numDirectionalShadows===m&&w.numPointShadows===g&&w.numSpotShadows===v&&w.numSpotMaps===y||(i.directional.length=u,i.spot.length=h,i.rectArea.length=f,i.point.length=d,i.hemi.length=p,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=v,i.spotShadowMap.length=v,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotLightMatrix.length=v+y-b,i.spotLightMap.length=y,i.numSpotLightShadowsWithMaps=b,w.directionalLength=u,w.pointLength=d,w.spotLength=h,w.rectAreaLength=f,w.hemiLength=p,w.numDirectionalShadows=m,w.numPointShadows=g,w.numSpotShadows=v,w.numSpotMaps=y,i.version=Cu++)}function c(e,t){let n=0,r=0,l=0,c=0,u=0;const d=t.matrixWorldInverse;for(let h=0,f=e.length;h<f;h++){const t=e[h];if(t.isDirectionalLight){const e=i.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),n++}else if(t.isSpotLight){const e=i.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(t.matrixWorld),o.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(o),e.direction.transformDirection(d),l++}else if(t.isRectAreaLight){const e=i.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),s.identity(),a.copy(t.matrixWorld),a.premultiply(d),s.extractRotation(a),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=i.point[r];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(d),r++}else if(t.isHemisphereLight){const e=i.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(d),u++}}}return{setup:l,setupView:c,state:i}}function ku(e,t){const n=new Ru(e,t),r=[],i=[];function o(){r.length=0,i.length=0}function a(e){r.push(e)}function s(e){i.push(e)}function l(e){n.setup(r,e)}function c(e){n.setupView(r,e)}const u={lightsArray:r,shadowsArray:i,lights:n};return{init:o,state:u,setupLights:l,setupLightsView:c,pushLight:a,pushShadow:s}}function Ou(e,t){let n=new WeakMap;function r(r,i=0){const o=n.get(r);let a;return void 0===o?(a=new ku(e,t),n.set(r,[a])):i>=o.length?(a=new ku(e,t),o.push(a)):a=o[i],a}function i(){n=new WeakMap}return{get:r,dispose:i}}class Lu extends li{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=wt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Iu extends li{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Pu="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Du="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function Nu(e,t,n){let r=new bo;const i=new bn,o=new bn,a=new zn,s=new Lu({depthPacking:xt}),l=new Iu,u={},g=n.maxTextureSize,v={[h]:f,[f]:h,[p]:p},y=new io({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new bn},radius:{value:4}},vertexShader:Pu,fragmentShader:Du}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const _=new Ri;_.setAttribute("position",new yi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new qi(_,y),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c;let S=this.type;function E(n,r){const o=t.update(w);y.defines.VSM_SAMPLES!==n.blurSamples&&(y.defines.VSM_SAMPLES=n.blurSamples,b.defines.VSM_SAMPLES=n.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new Hn(i.x,i.y)),y.uniforms.shadow_pass.value=n.map.texture,y.uniforms.resolution.value=n.mapSize,y.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,y,w,null),b.uniforms.shadow_pass.value=n.mapPass.texture,b.uniforms.resolution.value=n.mapSize,b.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,b,w,null)}function T(t,n,r,i){let o=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=u[e];void 0===r&&(r={},u[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=i===d?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:v[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){const t=e.properties.get(o);t.light=r}return o}function M(n,i,o,a,s){if(!1===n.visible)return;const l=n.layers.test(i.layers);if(l&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===d)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=T(n,u,a,s);e.renderBufferDirect(o,null,r,t,n,c)}}}else if(i.visible){const t=T(n,i,a,s);e.renderBufferDirect(o,null,r,t,n,null)}}const c=n.children;for(let e=0,t=c.length;e<t;e++)M(c[e],i,o,a,s)}this.render=function(t,n,s){if(!1===x.enabled)return;if(!1===x.autoUpdate&&!1===x.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),u=e.getActiveMipmapLevel(),h=e.state;h.setBlending(m),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const f=S!==d&&this.type===d,p=S===d&&this.type!==d;for(let m=0,v=t.length;m<v;m++){const l=t[m],c=l.shadow;if(void 0===c){console.warn("THREE.WebGLShadowMap:",l,"has no shadow.");continue}if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const u=c.getFrameExtents();if(i.multiply(u),o.copy(c.mapSize),(i.x>g||i.y>g)&&(i.x>g&&(o.x=Math.floor(g/u.x),i.x=o.x*u.x,c.mapSize.x=o.x),i.y>g&&(o.y=Math.floor(g/u.y),i.y=o.y*u.y,c.mapSize.y=o.y)),null===c.map||!0===f||!0===p){const e=this.type!==d?{minFilter:ce,magFilter:ce}:{};null!==c.map&&c.map.dispose(),c.map=new Hn(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const v=c.getViewportCount();for(let e=0;e<v;e++){const t=c.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),h.viewport(a),c.updateMatrices(l,e),r=c.getFrustum(),M(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&this.type===d&&E(c,s),c.needsUpdate=!1}S=this.type,x.needsUpdate=!1,e.setRenderTarget(l,c,u)}}function Uu(e,t,n){const r=n.isWebGL2;function i(){let t=!1;const n=new zn;let r=null;const i=new zn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}}function o(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?Ee(e.DEPTH_TEST):Te(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case U:e.depthFunc(e.NEVER);break;case F:e.depthFunc(e.ALWAYS);break;case B:e.depthFunc(e.LESS);break;case j:e.depthFunc(e.LEQUAL);break;case V:e.depthFunc(e.EQUAL);break;case z:e.depthFunc(e.GEQUAL);break;case H:e.depthFunc(e.GREATER);break;case W:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}}function c(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?Ee(e.STENCIL_TEST):Te(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}}const u=new i,d=new o,h=new c,G=new WeakMap,$=new WeakMap;let q={},X={},Y=new WeakMap,J=[],Z=null,K=!1,Q=null,ee=null,te=null,ne=null,re=null,ie=null,oe=null,ae=!1,se=null,le=null,ce=null,ue=null,de=null;const he=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let fe=!1,pe=0;const me=e.getParameter(e.VERSION);-1!==me.indexOf("WebGL")?(pe=parseFloat(/^WebGL (\d)/.exec(me)[1]),fe=pe>=1):-1!==me.indexOf("OpenGL ES")&&(pe=parseFloat(/^OpenGL ES (\d)/.exec(me)[1]),fe=pe>=2);let ge=null,ve={};const ye=e.getParameter(e.SCISSOR_BOX),be=e.getParameter(e.VIEWPORT),_e=(new zn).fromArray(ye),we=(new zn).fromArray(be);function xe(t,n,i,o){const a=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let l=0;l<i;l++)!r||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,a):e.texImage3D(n,0,e.RGBA,1,1,o,0,e.RGBA,e.UNSIGNED_BYTE,a);return s}const Se={};function Ee(t){!0!==q[t]&&(e.enable(t),q[t]=!0)}function Te(t){!1!==q[t]&&(e.disable(t),q[t]=!1)}function Me(t,n){return X[t]!==n&&(e.bindFramebuffer(t,n),X[t]=n,r&&(t===e.DRAW_FRAMEBUFFER&&(X[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(X[e.DRAW_FRAMEBUFFER]=n)),!0)}function Ce(r,i){let o=J,a=!1;if(r)if(o=Y.get(i),void 0===o&&(o=[],Y.set(i,o)),r.isWebGLMultipleRenderTargets){const t=r.texture;if(o.length!==t.length||o[0]!==e.COLOR_ATTACHMENT0){for(let n=0,r=t.length;n<r;n++)o[n]=e.COLOR_ATTACHMENT0+n;o.length=t.length,a=!0}}else o[0]!==e.COLOR_ATTACHMENT0&&(o[0]=e.COLOR_ATTACHMENT0,a=!0);else o[0]!==e.BACK&&(o[0]=e.BACK,a=!0);a&&(n.isWebGL2?e.drawBuffers(o):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(o))}function Ae(t){return Z!==t&&(e.useProgram(t),Z=t,!0)}Se[e.TEXTURE_2D]=xe(e.TEXTURE_2D,e.TEXTURE_2D,1),Se[e.TEXTURE_CUBE_MAP]=xe(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Se[e.TEXTURE_2D_ARRAY]=xe(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),Se[e.TEXTURE_3D]=xe(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),u.setClear(0,0,0,1),d.setClear(1),h.setClear(0),Ee(e.DEPTH_TEST),d.setFunc(j),Ie(!1),Pe(s),Ee(e.CULL_FACE),Oe(m);const Re={[w]:e.FUNC_ADD,[x]:e.FUNC_SUBTRACT,[S]:e.FUNC_REVERSE_SUBTRACT};if(r)Re[E]=e.MIN,Re[T]=e.MAX;else{const e=t.get("EXT_blend_minmax");null!==e&&(Re[E]=e.MIN_EXT,Re[T]=e.MAX_EXT)}const ke={[M]:e.ZERO,[C]:e.ONE,[A]:e.SRC_COLOR,[k]:e.SRC_ALPHA,[N]:e.SRC_ALPHA_SATURATE,[P]:e.DST_COLOR,[L]:e.DST_ALPHA,[R]:e.ONE_MINUS_SRC_COLOR,[O]:e.ONE_MINUS_SRC_ALPHA,[D]:e.ONE_MINUS_DST_COLOR,[I]:e.ONE_MINUS_DST_ALPHA};function Oe(t,n,r,i,o,a,s,l){if(t!==m){if(!1===K&&(Ee(e.BLEND),K=!0),t===_)o=o||n,a=a||r,s=s||i,n===ee&&o===re||(e.blendEquationSeparate(Re[n],Re[o]),ee=n,re=o),r===te&&i===ne&&a===ie&&s===oe||(e.blendFuncSeparate(ke[r],ke[i],ke[a],ke[s]),te=r,ne=i,ie=a,oe=s),Q=t,ae=!1;else if(t!==Q||l!==ae){if(ee===w&&re===w||(e.blendEquation(e.FUNC_ADD),ee=w,re=w),l)switch(t){case g:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case v:e.blendFunc(e.ONE,e.ONE);break;case y:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case b:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}else switch(t){case g:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case v:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case y:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case b:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t);break}te=null,ne=null,ie=null,oe=null,Q=t,ae=l}}else!0===K&&(Te(e.BLEND),K=!1)}function Le(t,n){t.side===p?Te(e.CULL_FACE):Ee(e.CULL_FACE);let r=t.side===f;n&&(r=!r),Ie(r),t.blending===g&&!1===t.transparent?Oe(m):Oe(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),d.setFunc(t.depthFunc),d.setTest(t.depthTest),d.setMask(t.depthWrite),u.setMask(t.colorWrite);const i=t.stencilWrite;h.setTest(i),i&&(h.setMask(t.stencilWriteMask),h.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),h.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Ne(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Ee(e.SAMPLE_ALPHA_TO_COVERAGE):Te(e.SAMPLE_ALPHA_TO_COVERAGE)}function Ie(t){se!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),se=t)}function Pe(t){t!==a?(Ee(e.CULL_FACE),t!==le&&(t===s?e.cullFace(e.BACK):t===l?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):Te(e.CULL_FACE),le=t}function De(t){t!==ce&&(fe&&e.lineWidth(t),ce=t)}function Ne(t,n,r){t?(Ee(e.POLYGON_OFFSET_FILL),ue===n&&de===r||(e.polygonOffset(n,r),ue=n,de=r)):Te(e.POLYGON_OFFSET_FILL)}function Ue(t){t?Ee(e.SCISSOR_TEST):Te(e.SCISSOR_TEST)}function Fe(t){void 0===t&&(t=e.TEXTURE0+he-1),ge!==t&&(e.activeTexture(t),ge=t)}function Be(t,n,r){void 0===r&&(r=null===ge?e.TEXTURE0+he-1:ge);let i=ve[r];void 0===i&&(i={type:void 0,texture:void 0},ve[r]=i),i.type===t&&i.texture===n||(ge!==r&&(e.activeTexture(r),ge=r),e.bindTexture(t,n||Se[t]),i.type=t,i.texture=n)}function je(){const t=ve[ge];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)}function Ve(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function ze(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function He(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function We(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ge(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function $e(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function qe(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Xe(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ye(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Je(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function Ze(t){!1===_e.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),_e.copy(t))}function Ke(t){!1===we.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),we.copy(t))}function Qe(t,n){let r=$.get(n);void 0===r&&(r=new WeakMap,$.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))}function et(t,n){const r=$.get(n),i=r.get(t);G.get(n)!==i&&(e.uniformBlockBinding(n,i,t.__bindingPointIndex),G.set(n,i))}function tt(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===r&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),q={},ge=null,ve={},X={},Y=new WeakMap,J=[],Z=null,K=!1,Q=null,ee=null,te=null,ne=null,re=null,ie=null,oe=null,ae=!1,se=null,le=null,ce=null,ue=null,de=null,_e.set(0,0,e.canvas.width,e.canvas.height),we.set(0,0,e.canvas.width,e.canvas.height),u.reset(),d.reset(),h.reset()}return{buffers:{color:u,depth:d,stencil:h},enable:Ee,disable:Te,bindFramebuffer:Me,drawBuffers:Ce,useProgram:Ae,setBlending:Oe,setMaterial:Le,setFlipSided:Ie,setCullFace:Pe,setLineWidth:De,setPolygonOffset:Ne,setScissorTest:Ue,activeTexture:Fe,bindTexture:Be,unbindTexture:je,compressedTexImage2D:Ve,compressedTexImage3D:ze,texImage2D:Ye,texImage3D:Je,updateUBOMapping:Qe,uniformBlockBinding:et,texStorage2D:qe,texStorage3D:Xe,texSubImage2D:He,texSubImage3D:We,compressedTexSubImage2D:Ge,compressedTexSubImage3D:$e,scissor:Ze,viewport:Ke,reset:tt}}function Fu(e,t,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let v=!1;try{v="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(oe){}function y(e,t){return v?new OffscreenCanvas(e,t):Sn("canvas")}function b(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?pn:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===m&&(m=y(o,a));const s=n?y(o,a):m;s.width=o,s.height=a;const l=s.getContext("2d");return l.drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return hn(e.width)&&hn(e.height)}function w(e){return!s&&(e.wrapS!==se||e.wrapT!==se||e.minFilter!==ce&&e.minFilter!==he)}function x(e,t){return e.generateMipmaps&&t&&e.minFilter!==ce&&e.minFilter!==he}function S(t){e.generateMipmap(t)}function E(n,r,i,o,a=!1){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let l=r;return r===e.RED&&(i===e.FLOAT&&(l=e.R32F),i===e.HALF_FLOAT&&(l=e.R16F),i===e.UNSIGNED_BYTE&&(l=e.R8)),r===e.RG&&(i===e.FLOAT&&(l=e.RG32F),i===e.HALF_FLOAT&&(l=e.RG16F),i===e.UNSIGNED_BYTE&&(l=e.RG8)),r===e.RGBA&&(i===e.FLOAT&&(l=e.RGBA32F),i===e.HALF_FLOAT&&(l=e.RGBA16F),i===e.UNSIGNED_BYTE&&(l=o===Mt&&!1===a?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(l=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(l=e.RGB5_A1)),l!==e.R16F&&l!==e.R32F&&l!==e.RG16F&&l!==e.RG32F&&l!==e.RGBA16F&&l!==e.RGBA32F||t.get("EXT_color_buffer_float"),l}function T(e,t,n){return!0===x(e,n)||e.isFramebufferTexture&&e.minFilter!==ce&&e.minFilter!==he?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function M(t){return t===ce||t===ue||t===de?e.NEAREST:e.LINEAR}function C(e){const t=e.target;t.removeEventListener("dispose",C),R(t),t.isVideoTexture&&p.delete(t)}function A(e){const t=e.target;t.removeEventListener("dispose",A),O(t)}function R(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=g.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&k(e),0===Object.keys(i).length&&g.delete(n)}r.remove(e)}function k(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source,o=g.get(i);delete o[n.__cacheKey],a.memory.textures--}function O(t){const n=t.texture,i=r.get(t),o=r.get(n);if(void 0!==o.__webglTexture&&(e.deleteTexture(o.__webglTexture),a.memory.textures--),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++)e.deleteFramebuffer(i.__webglFramebuffer[r]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[r]);else{if(e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(let t=0;t<i.__webglColorRenderbuffer.length;t++)i.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[t]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(let s=0,l=n.length;s<l;s++){const t=r.get(n[s]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}let L=0;function I(){L=0}function P(){const e=L;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),L+=1,e}function D(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}function N(t,i){const o=r.get(t);if(t.isVideoTexture&&re(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==e.complete)return void G(o,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}function U(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?G(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)}function F(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?G(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)}function B(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?$(o,t,i):n.bindTexture(e.TEXTURE_CUBE_MAP,o.__webglTexture,e.TEXTURE0+i)}const j={[ae]:e.REPEAT,[se]:e.CLAMP_TO_EDGE,[le]:e.MIRRORED_REPEAT},V={[ce]:e.NEAREST,[ue]:e.NEAREST_MIPMAP_NEAREST,[de]:e.NEAREST_MIPMAP_LINEAR,[he]:e.LINEAR,[fe]:e.LINEAR_MIPMAP_NEAREST,[pe]:e.LINEAR_MIPMAP_LINEAR},z={[Ot]:e.NEVER,[Ft]:e.ALWAYS,[Lt]:e.LESS,[Pt]:e.LEQUAL,[It]:e.EQUAL,[Ut]:e.GEQUAL,[Dt]:e.GREATER,[Nt]:e.NOTEQUAL};function H(n,o,a){if(a?(e.texParameteri(n,e.TEXTURE_WRAP_S,j[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,j[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,j[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,V[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,V[o.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),o.wrapS===se&&o.wrapT===se||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M(o.minFilter)),o.minFilter!==ce&&o.minFilter!==he&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,z[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(o.magFilter===ce)return;if(o.minFilter!==de&&o.minFilter!==pe)return;if(o.type===we&&!1===t.has("OES_texture_float_linear"))return;if(!1===s&&o.type===xe&&!1===t.has("OES_texture_half_float_linear"))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function W(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",C));const i=n.source;let o=g.get(i);void 0===o&&(o={},g.set(i,o));const s=D(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&k(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function G(t,i,a){let l=e.TEXTURE_2D;(i.isDataArrayTexture||i.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),i.isData3DTexture&&(l=e.TEXTURE_3D);const c=W(t,i),d=i.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const h=r.get(d);if(d.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+a),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=w(i)&&!1===_(i.image);let r=b(i.image,t,!1,u);r=ie(i,r);const f=_(r)||s,p=o.convert(i.format,i.colorSpace);let m,g=o.convert(i.type),v=E(i.internalFormat,p,g,i.colorSpace);H(l,i,f);const y=i.mipmaps,M=s&&!0!==i.isVideoTexture,C=void 0===h.__version||!0===c,A=T(i,r,f);if(i.isDepthTexture)v=e.DEPTH_COMPONENT,s?v=i.type===we?e.DEPTH_COMPONENT32F:i.type===_e?e.DEPTH_COMPONENT24:i.type===Te?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:i.type===we&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===ke&&v===e.DEPTH_COMPONENT&&i.type!==ye&&i.type!==_e&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=_e,g=o.convert(i.type)),i.format===Oe&&v===e.DEPTH_COMPONENT&&(v=e.DEPTH_STENCIL,i.type!==Te&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Te,g=o.convert(i.type))),C&&(M?n.texStorage2D(e.TEXTURE_2D,1,v,r.width,r.height):n.texImage2D(e.TEXTURE_2D,0,v,r.width,r.height,0,p,g,null));else if(i.isDataTexture)if(y.length>0&&f){M&&C&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,r=y.length;t<r;t++)m=y[t],M?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,g,m.data):n.texImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,p,g,m.data);i.generateMipmaps=!1}else M?(C&&n.texStorage2D(e.TEXTURE_2D,A,v,r.width,r.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,p,g,r.data)):n.texImage2D(e.TEXTURE_2D,0,v,r.width,r.height,0,p,g,r.data);else if(i.isCompressedTexture)if(i.isCompressedArrayTexture){M&&C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,v,y[0].width,y[0].height,r.depth);for(let t=0,o=y.length;t<o;t++)m=y[t],i.format!==Ce?null!==p?M?n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,r.depth,p,m.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,v,m.width,m.height,r.depth,0,m.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,m.width,m.height,r.depth,p,g,m.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,v,m.width,m.height,r.depth,0,p,g,m.data)}else{M&&C&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,r=y.length;t<r;t++)m=y[t],i.format!==Ce?null!==p?M?n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,m.data):n.compressedTexImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):M?n.texSubImage2D(e.TEXTURE_2D,t,0,0,m.width,m.height,p,g,m.data):n.texImage2D(e.TEXTURE_2D,t,v,m.width,m.height,0,p,g,m.data)}else if(i.isDataArrayTexture)M?(C&&n.texStorage3D(e.TEXTURE_2D_ARRAY,A,v,r.width,r.height,r.depth),n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isData3DTexture)M?(C&&n.texStorage3D(e.TEXTURE_3D,A,v,r.width,r.height,r.depth),n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,r.width,r.height,r.depth,p,g,r.data)):n.texImage3D(e.TEXTURE_3D,0,v,r.width,r.height,r.depth,0,p,g,r.data);else if(i.isFramebufferTexture){if(C)if(M)n.texStorage2D(e.TEXTURE_2D,A,v,r.width,r.height);else{let t=r.width,i=r.height;for(let r=0;r<A;r++)n.texImage2D(e.TEXTURE_2D,r,v,t,i,0,p,g,null),t>>=1,i>>=1}}else if(y.length>0&&f){M&&C&&n.texStorage2D(e.TEXTURE_2D,A,v,y[0].width,y[0].height);for(let t=0,r=y.length;t<r;t++)m=y[t],M?n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,g,m):n.texImage2D(e.TEXTURE_2D,t,v,p,g,m);i.generateMipmaps=!1}else M?(C&&n.texStorage2D(e.TEXTURE_2D,A,v,r.width,r.height),n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,g,r)):n.texImage2D(e.TEXTURE_2D,0,v,p,g,r);x(i,f)&&S(l),h.__version=d.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function $(t,i,a){if(6!==i.image.length)return;const l=W(t,i),u=i.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const d=r.get(u);if(u.version!==d.__version||!0===l){n.activeTexture(e.TEXTURE0+a),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,i.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,i.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);const t=i.isCompressedTexture||i.image[0].isCompressedTexture,r=i.image[0]&&i.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=t||r?r?i.image[e].image:i.image[e]:b(i.image[e],!1,!0,c),h[e]=ie(i,h[e]);const f=h[0],p=_(f)||s,m=o.convert(i.format,i.colorSpace),g=o.convert(i.type),v=E(i.internalFormat,m,g,i.colorSpace),y=s&&!0!==i.isVideoTexture,w=void 0===d.__version||!0===l;let M,C=T(i,f,p);if(H(e.TEXTURE_CUBE_MAP,i,p),t){y&&w&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,v,f.width,f.height);for(let t=0;t<6;t++){M=h[t].mipmaps;for(let r=0;r<M.length;r++){const o=M[r];i.format!==Ce?null!==m?y?n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,m,o.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,v,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,o.width,o.height,m,g,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,v,o.width,o.height,0,m,g,o.data)}}}else{M=i.mipmaps,y&&w&&(M.length>0&&C++,n.texStorage2D(e.TEXTURE_CUBE_MAP,C,v,h[0].width,h[0].height));for(let t=0;t<6;t++)if(r){y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,h[t].width,h[t].height,m,g,h[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,v,h[t].width,h[t].height,0,m,g,h[t].data);for(let r=0;r<M.length;r++){const i=M[r],o=i.image[t].image;y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,o.width,o.height,m,g,o.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,v,o.width,o.height,0,m,g,o.data)}}else{y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,m,g,h[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,v,m,g,h[t]);for(let r=0;r<M.length;r++){const i=M[r];y?n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,m,g,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,v,m,g,i.image[t])}}}x(i,p)&&S(e.TEXTURE_CUBE_MAP),d.__version=u.version,i.onUpdate&&i.onUpdate(i)}t.__version=i.version}function q(t,i,a,s,l){const c=o.convert(a.format,a.colorSpace),u=o.convert(a.type),d=E(a.internalFormat,c,u,a.colorSpace),f=r.get(i);f.__hasExternalTextures||(l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,0,d,i.width,i.height,i.depth,0,c,u,null):n.texImage2D(l,0,d,i.width,i.height,0,c,u,null)),n.bindFramebuffer(e.FRAMEBUFFER,t),ne(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(a).__webglTexture,0,te(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(a).__webglTexture,0),n.bindFramebuffer(e.FRAMEBUFFER,null)}function X(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){let i=e.DEPTH_COMPONENT16;if(r||ne(n)){const t=n.depthTexture;t&&t.isDepthTexture&&(t.type===we?i=e.DEPTH_COMPONENT32F:t.type===_e&&(i=e.DEPTH_COMPONENT24));const r=te(n);ne(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,r,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,r,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){const i=te(n);r&&!1===ne(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):ne(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,i,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{const t=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let i=0;i<t.length;i++){const a=t[i],s=o.convert(a.format,a.colorSpace),l=o.convert(a.type),c=E(a.internalFormat,s,l,a.colorSpace),u=te(n);r&&!1===ne(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,c,n.width,n.height):ne(n)?h.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,c,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,c,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function Y(t,i){const o=i&&i.isWebGLCubeRenderTarget;if(o)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),N(i.depthTexture,0);const a=r.get(i.depthTexture).__webglTexture,s=te(i);if(i.depthTexture.format===ke)ne(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==Oe)throw new Error("Unknown depthTexture format");ne(i)?h.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}function J(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");Y(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),X(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),X(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function Z(t,n,i){const o=r.get(t);void 0!==n&&q(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==i&&J(t)}function K(t){const l=t.texture,c=r.get(t),u=r.get(l);t.addEventListener("dispose",A),!0!==t.isWebGLMultipleRenderTargets&&(void 0===u.__webglTexture&&(u.__webglTexture=e.createTexture()),u.__version=l.version,a.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,f=_(t)||s;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else{if(c.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers){const n=t.texture;for(let t=0,i=n.length;t<i;t++){const i=r.get(n[t]);void 0===i.__webglTexture&&(i.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&t.samples>0&&!1===ne(t)){const r=h?l:[l];c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,c.__webglMultisampledFramebuffer);for(let n=0;n<r.length;n++){const i=r[n];c.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,c.__webglColorRenderbuffer[n]);const a=o.convert(i.format,i.colorSpace),s=o.convert(i.type),l=E(i.internalFormat,a,s,i.colorSpace,!0===t.isXRRenderTarget),u=te(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,c.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),X(c.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(d){n.bindTexture(e.TEXTURE_CUBE_MAP,u.__webglTexture),H(e.TEXTURE_CUBE_MAP,l,f);for(let n=0;n<6;n++)q(c.__webglFramebuffer[n],t,l,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n);x(l,f)&&S(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){const i=t.texture;for(let o=0,a=i.length;o<a;o++){const a=i[o],s=r.get(a);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),H(e.TEXTURE_2D,a,f),q(c.__webglFramebuffer,t,a,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D),x(a,f)&&S(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(s?r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(r,u.__webglTexture),H(r,l,f),q(c.__webglFramebuffer,t,l,e.COLOR_ATTACHMENT0,r),x(l,f)&&S(r),n.unbindTexture()}t.depthBuffer&&J(t)}function Q(t){const i=_(t)||s,o=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture];for(let a=0,s=o.length;a<s;a++){const s=o[a];if(x(s,i)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),S(i),n.unbindTexture()}}}function ee(t){if(s&&t.samples>0&&!1===ne(t)){const i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const l=[],c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){l.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&l.push(c);const h=void 0!==u.__ignoreDepthValues&&u.__ignoreDepthValues;if(!1===h&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]),!0===h&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[c]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[c])),d){const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),f&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,l)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}}function te(e){return Math.min(d,e.samples)}function ne(e){const n=r.get(e);return s&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function re(e){const t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}function ie(e,n){const r=e.colorSpace,i=e.format,o=e.type;return!0===e.isCompressedTexture||e.format===Vt||r!==Ct&&r!==Tt&&(r===Mt?!1===s?!0===t.has("EXT_sRGB")&&i===Ce?(e.format=Vt,e.minFilter=he,e.generateMipmaps=!1):n=Nn.sRGBToLinear(n):i===Ce&&o===me||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=P,this.resetTextureUnits=I,this.setTexture2D=N,this.setTexture2DArray=U,this.setTexture3D=F,this.setTextureCube=B,this.rebindTextures=Z,this.setupRenderTarget=K,this.updateRenderTargetMipmap=Q,this.updateMultisampleRenderTarget=ee,this.setupDepthRenderbuffer=J,this.setupFrameBufferTexture=q,this.useMultisampledRTT=ne}function Bu(e,t,n){const r=n.isWebGL2;function i(n,i=Tt){let o;if(n===me)return e.UNSIGNED_BYTE;if(n===Se)return e.UNSIGNED_SHORT_4_4_4_4;if(n===Ee)return e.UNSIGNED_SHORT_5_5_5_1;if(n===ge)return e.BYTE;if(n===ve)return e.SHORT;if(n===ye)return e.UNSIGNED_SHORT;if(n===be)return e.INT;if(n===_e)return e.UNSIGNED_INT;if(n===we)return e.FLOAT;if(n===xe)return r?e.HALF_FLOAT:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(n===Me)return e.ALPHA;if(n===Ce)return e.RGBA;if(n===Ae)return e.LUMINANCE;if(n===Re)return e.LUMINANCE_ALPHA;if(n===ke)return e.DEPTH_COMPONENT;if(n===Oe)return e.DEPTH_STENCIL;if(n===Vt)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(n===Le)return e.RED;if(n===Ie)return e.RED_INTEGER;if(n===Pe)return e.RG;if(n===De)return e.RG_INTEGER;if(n===Ne)return e.RGBA_INTEGER;if(n===Ue||n===Fe||n===Be||n===je)if(i===Mt){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(n===Ue)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Fe)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Be)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===je)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(n===Ue)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Fe)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Be)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===je)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Ve||n===ze||n===He||n===We){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(n===Ve)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===ze)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===He)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===We)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Ge)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(n===$e||n===qe){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(n===$e)return i===Mt?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(n===qe)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(n===Xe||n===Ye||n===Je||n===Ze||n===Ke||n===Qe||n===et||n===tt||n===nt||n===rt||n===it||n===ot||n===at||n===st){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(n===Xe)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ye)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Je)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Ze)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ke)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Qe)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===et)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===tt)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===nt)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===rt)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===it)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===ot)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===at)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===st)return i===Mt?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===lt){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(n===lt)return i===Mt?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(n===ct||n===ut||n===dt||n===ht){if(o=t.get("EXT_texture_compression_rgtc"),null===o)return null;if(n===lt)return o.COMPRESSED_RED_RGTC1_EXT;if(n===ut)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===dt)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===ht)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Te?r?e.UNSIGNED_INT_24_8:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0!==e[n]?e[n]:null}return{convert:i}}class ju extends ao{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Vu extends Xr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const zu={type:"move"};class Hu{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Vu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Vu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new qn,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new qn),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Vu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new qn,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new qn),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(zu)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Vu;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Wu extends Vn{constructor(e,t,n,r,i,o,a,s,l,c){if(c=void 0!==c?c:ke,c!==ke&&c!==Oe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===ke&&(n=_e),void 0===n&&c===Oe&&(n=Te),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:ce,this.minFilter=void 0!==s?s:ce,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Gu extends Wt{constructor(e,t){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,d=null,h=null,f=null;const p=t.getContextAttributes();let m=null,g=null;const v=[],y=[],b=new ao;b.layers.enable(1),b.viewport=new zn;const _=new ao;_.layers.enable(2),_.viewport=new zn;const w=[b,_],x=new ju;x.layers.enable(1),x.layers.enable(2);let S=null,E=null;function T(e){const t=y.indexOf(e.inputSource);if(-1===t)return;const n=v[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function M(){r.removeEventListener("select",T),r.removeEventListener("selectstart",T),r.removeEventListener("selectend",T),r.removeEventListener("squeeze",T),r.removeEventListener("squeezestart",T),r.removeEventListener("squeezeend",T),r.removeEventListener("end",M),r.removeEventListener("inputsourceschange",C);for(let e=0;e<v.length;e++){const t=y[e];null!==t&&(y[e]=null,v[e].disconnect(t))}S=null,E=null,e.setRenderTarget(m),h=null,d=null,u=null,r=null,g=null,D.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function C(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=y.indexOf(n);r>=0&&(y[r]=null,v[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=y.indexOf(n);if(-1===r){for(let e=0;e<v.length;e++){if(e>=y.length){y.push(n),r=e;break}if(null===y[e]){y[e]=n,r=e;break}}if(-1===r)break}const i=v[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=v[e];return void 0===t&&(t=new Hu,v[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=v[e];return void 0===t&&(t=new Hu,v[e]=t),t.getGripSpace()},this.getHand=function(e){let t=v[e];return void 0===t&&(t=new Hu,v[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(m=e.getRenderTarget(),r.addEventListener("select",T),r.addEventListener("selectstart",T),r.addEventListener("selectend",T),r.addEventListener("squeeze",T),r.addEventListener("squeezestart",T),r.addEventListener("squeezeend",T),r.addEventListener("end",M),r.addEventListener("inputsourceschange",C),!0!==p.xrCompatible&&await t.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){const n={antialias:void 0!==r.renderState.layers||p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:h}),g=new Hn(h.framebufferWidth,h.framebufferHeight,{format:Ce,type:me,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil})}else{let n=null,o=null,a=null;p.depth&&(a=p.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=p.stencil?Oe:ke,o=p.stencil?Te:_e);const s={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,t),d=u.createProjectionLayer(s),r.updateRenderState({layers:[d]}),g=new Hn(d.textureWidth,d.textureHeight,{format:Ce,type:me,depthTexture:new Wu(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0});const l=e.properties.get(g);l.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await r.requestReferenceSpace(a),D.setContext(r),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const A=new qn,R=new qn;function k(e,t,n){A.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);const r=A.distanceTo(R),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],d=(o[8]+1)/o[0],h=a*u,f=a*d,p=r/(-u+d),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+p,v=s+p,y=h-m,b=f+(r-m),_=l*s/v*g,w=c*s/v*g;e.projectionMatrix.makePerspective(y,b,_,w,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}function O(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}function L(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);const r=e.children;for(let i=0,o=r.length;i<o;i++)r[i].updateMatrixWorld(!0);e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Xt*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}this.updateCamera=function(e){if(null===r)return;x.near=_.near=b.near=e.near,x.far=_.far=b.far=e.far,S===x.near&&E===x.far||(r.updateRenderState({depthNear:x.near,depthFar:x.far}),S=x.near,E=x.far);const t=e.parent,n=x.cameras;O(x,t);for(let r=0;r<n.length;r++)O(n[r],t);2===n.length?k(x,b,_):x.projectionMatrix.copy(b.projectionMatrix),L(e,x,t)},this.getCamera=function(){return x},this.getFoveation=function(){if(null!==d||null!==h)return s},this.setFoveation=function(e){s=e,null!==d&&(d.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let I=null;function P(t,r){if(c=r.getViewerPose(l||o),f=r,null!==c){const t=c.views;null!==h&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let n=!1;t.length!==x.cameras.length&&(x.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==h)o=h.getViewport(i);else{const t=u.getViewSubImage(d,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(g,t.colorTexture,d.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(g))}let a=w[r];void 0===a&&(a=new ao,a.layers.enable(r),a.viewport=new zn,w[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(x.matrix.copy(a.matrix),x.matrix.decompose(x.position,x.quaternion,x.scale)),!0===n&&x.cameras.push(a)}}for(let e=0;e<v.length;e++){const t=y[e],n=v[e];null!==t&&void 0!==n&&n.update(t,r,l||o)}I&&I(t,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),f=null}const D=new _o;D.setAnimationLoop(P),this.setAnimationLoop=function(e){I=e},this.dispose=function(){}}}function $u(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(t,n){n.color.getRGB(t.fogColor.value,eo(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)}function i(e,t,n,r,i){t.isMeshBasicMaterial||t.isMeshLambertMaterial?o(e,t):t.isMeshToonMaterial?(o(e,t),d(e,t)):t.isMeshPhongMaterial?(o(e,t),u(e,t)):t.isMeshStandardMaterial?(o(e,t),h(e,t),t.isMeshPhysicalMaterial&&p(e,t,i)):t.isMeshMatcapMaterial?(o(e,t),m(e,t)):t.isMeshDepthMaterial?o(e,t):t.isMeshDistanceMaterial?(o(e,t),g(e,t)):t.isMeshNormalMaterial?o(e,t):t.isLineBasicMaterial?(a(e,t),t.isLineDashedMaterial&&s(e,t)):t.isPointsMaterial?l(e,t,n,r):t.isSpriteMaterial?c(e,t):t.isShadowMaterial?(e.color.value.copy(t.color),e.opacity.value=t.opacity):t.isShaderMaterial&&(t.uniformsNeedUpdate=!1)}function o(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===f&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===f&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);const o=t.get(i).envMap;if(o&&(r.envMap.value=o,r.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;const t=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*t,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}function a(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}function s(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function l(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function c(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform)),t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform)),t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}function u(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}function d(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}function h(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform)),e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));const i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}function p(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform))),t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===f&&e.clearcoatNormalScale.value.negate())),t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform))),t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor)),t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform))),e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform)),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}function m(e,t){t.matcap&&(e.matcap.value=t.matcap)}function g(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function qu(e,t,n,r){let i={},o={},a=[];const s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t){const n=t.program;r.uniformBlockBinding(e,n)}function c(e,n){let a=i[e.id];void 0===a&&(p(e),a=u(e),i[e.id]=a,e.addEventListener("dispose",g));const s=n.program;r.updateUBOMapping(e,s);const l=t.render.frame;o[e.id]!==l&&(h(e),o[e.id]=l)}function u(t){const n=d();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}function d(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=r[i];if(!0===f(t,i,o)){const n=t.__offset,r=Array.isArray(t.value)?t.value:[t.value];let i=0;for(let o=0;o<r.length;o++){const a=r[o],s=m(a);"number"===typeof a?(t.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,n+i,t.__data)):a.isMatrix3?(t.__data[0]=a.elements[0],t.__data[1]=a.elements[1],t.__data[2]=a.elements[2],t.__data[3]=a.elements[0],t.__data[4]=a.elements[3],t.__data[5]=a.elements[4],t.__data[6]=a.elements[5],t.__data[7]=a.elements[0],t.__data[8]=a.elements[6],t.__data[9]=a.elements[7],t.__data[10]=a.elements[8],t.__data[11]=a.elements[0]):(a.toArray(t.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,n,t.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}function f(e,t,n){const r=e.value;if(void 0===n[t]){if("number"===typeof r)n[t]=r;else{const e=Array.isArray(r)?r:[r],i=[];for(let t=0;t<e.length;t++)i.push(e[t].clone());n[t]=i}return!0}if("number"===typeof r){if(n[t]!==r)return n[t]=r,!0}else{const e=Array.isArray(n[t])?n[t]:[n[t]],i=Array.isArray(r)?r:[r];for(let t=0;t<e.length;t++){const n=e[t];if(!1===n.equals(i[t]))return n.copy(i[t]),!0}}return!1}function p(e){const t=e.uniforms;let n=0;const r=16;let i=0;for(let o=0,a=t.length;o<a;o++){const e=t[o],a={boundary:0,storage:0},s=Array.isArray(e.value)?e.value:[e.value];for(let t=0,n=s.length;t<n;t++){const e=s[t],n=m(e);a.boundary+=n.boundary,a.storage+=n.storage}if(e.__data=new Float32Array(a.storage/Float32Array.BYTES_PER_ELEMENT),e.__offset=n,o>0){i=n%r;const t=r-i;0!==i&&t-a.boundary<0&&(n+=r-i,e.__offset=n)}n+=a.storage}return i=n%r,i>0&&(n+=r-i),e.__size=n,e.__cache={},this}function m(e){const t={boundary:0,storage:0};return"number"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function g(t){const n=t.target;n.removeEventListener("dispose",g);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}function v(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}return{bind:l,update:c,dispose:v}}function Xu(){const e=Sn("canvas");return e.style.display="block",e}class Yu{constructor(e={}){const{canvas:t=Xu(),context:n=null,depth:i=!0,stencil:o=!0,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let m;this.isWebGLRenderer=!0,m=null!==n?n.getContextAttributes().alpha:a;const g=new Uint32Array(4),v=new Int32Array(4);let y=null,b=null;const _=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Mt,this.useLegacyLights=!0,this.toneMapping=X,this.toneMappingExposure=1;const x=this;let S=!1,E=0,T=0,M=null,C=-1,A=null;const R=new zn,k=new zn;let O=null;const L=new fi(0);let I=0,P=t.width,D=t.height,N=1,U=null,F=null;const B=new zn(0,0,P,D),j=new zn(0,0,P,D);let V=!1;const z=new bo;let H=!1,W=!1,G=null;const $=new Sr,q=new bn,Y=new qn,J={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return null===M?N:1}let K,Q,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,he,fe,ge,ve,be,Me,Ae,Re,ke,Oe,Le=n;function Pe(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${r}`),t.addEventListener("webglcontextlost",Be,!1),t.addEventListener("webglcontextrestored",je,!1),t.addEventListener("webglcontextcreationerror",Ve,!1),null===Le){const t=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&t.shift(),Le=Pe(t,e),null===Le)throw Pe(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Le instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Le.getShaderPrecisionFormat&&(Le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(at){throw console.error("THREE.WebGLRenderer: "+at.message),at}function Ue(){K=new Rl(Le),Q=new sl(Le,K,e),K.init(Q),Re=new Bu(Le,K,Q),ee=new Uu(Le,K,Q),te=new Ll(Le),ne=new _u,re=new Fu(Le,K,ee,ne,Q,Re,te),ie=new cl(x),oe=new Al(x),ae=new wo(Le,Q),ke=new ol(Le,K,ae,Q),se=new kl(Le,ae,te,ke),le=new Nl(Le,se,ae,te),be=new Dl(Le,Q,re),fe=new ll(ne),ce=new bu(x,ie,oe,K,Q,ke,fe),ue=new $u(x,ne),de=new Eu,he=new Ou(K,Q),ve=new il(x,ie,oe,ee,le,m,l),ge=new Nu(x,le,Q),Oe=new qu(Le,te,Q,ee),Me=new al(Le,K,te,Q),Ae=new Ol(Le,K,te,Q),te.programs=ce.programs,x.capabilities=Q,x.extensions=K,x.properties=ne,x.renderLists=de,x.shadowMap=ge,x.state=ee,x.info=te}Ue();const Fe=new Gu(x,Le);function Be(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function je(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const e=te.autoReset,t=ge.enabled,n=ge.autoUpdate,r=ge.needsUpdate,i=ge.type;Ue(),te.autoReset=e,ge.enabled=t,ge.autoUpdate=n,ge.needsUpdate=r,ge.type=i}function Ve(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function ze(e){const t=e.target;t.removeEventListener("dispose",ze),He(t)}function He(e){We(e),ne.remove(e)}function We(e){const t=ne.get(e).programs;void 0!==t&&(t.forEach((function(e){ce.releaseProgram(e)})),e.isShaderMaterial&&ce.releaseShaderCache(e))}this.xr=Fe,this.getContext=function(){return Le},this.getContextAttributes=function(){return Le.getContextAttributes()},this.forceContextLoss=function(){const e=K.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=K.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return N},this.setPixelRatio=function(e){void 0!==e&&(N=e,this.setSize(P,D,!1))},this.getSize=function(e){return e.set(P,D)},this.setSize=function(e,n,r=!0){Fe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(P=e,D=n,t.width=Math.floor(e*N),t.height=Math.floor(n*N),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(P*N,D*N).floor()},this.setDrawingBufferSize=function(e,n,r){P=e,D=n,N=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(R)},this.getViewport=function(e){return e.copy(B)},this.setViewport=function(e,t,n,r){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,n,r),ee.viewport(R.copy(B).multiplyScalar(N).floor())},this.getScissor=function(e){return e.copy(j)},this.setScissor=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),ee.scissor(k.copy(j).multiplyScalar(N).floor())},this.getScissorTest=function(){return V},this.setScissorTest=function(e){ee.setScissorTest(V=e)},this.setOpaqueSort=function(e){U=e},this.setTransparentSort=function(e){F=e},this.getClearColor=function(e){return e.copy(ve.getClearColor())},this.setClearColor=function(){ve.setClearColor.apply(ve,arguments)},this.getClearAlpha=function(){return ve.getClearAlpha()},this.setClearAlpha=function(){ve.setClearAlpha.apply(ve,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==M){const t=M.texture.format;e=t===Ne||t===De||t===Ie}if(e){const e=M.texture.type,t=e===me||e===_e||e===ye||e===Te||e===Se||e===Ee,n=ve.getClearColor(),r=ve.getClearAlpha(),i=n.r,o=n.g,a=n.b;t?(g[0]=i,g[1]=o,g[2]=a,g[3]=r,Le.clearBufferuiv(Le.COLOR,0,g)):(v[0]=i,v[1]=o,v[2]=a,v[3]=r,Le.clearBufferiv(Le.COLOR,0,v))}else r|=Le.COLOR_BUFFER_BIT}t&&(r|=Le.DEPTH_BUFFER_BIT),n&&(r|=Le.STENCIL_BUFFER_BIT),Le.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Be,!1),t.removeEventListener("webglcontextrestored",je,!1),t.removeEventListener("webglcontextcreationerror",Ve,!1),de.dispose(),he.dispose(),ne.dispose(),ie.dispose(),oe.dispose(),le.dispose(),ke.dispose(),Oe.dispose(),ce.dispose(),Fe.dispose(),Fe.removeEventListener("sessionstart",qe),Fe.removeEventListener("sessionend",Xe),G&&(G.dispose(),G=null),Ye.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=J);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=rt(e,t,n,r,i);ee.setMaterial(r,a);let l=n.index,c=1;!0===r.wireframe&&(l=se.getWireframeAttribute(n),c=2);const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==o&&(h=Math.max(h,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):void 0!==d&&null!==d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;ke.setup(i,r,s,n,l);let g=Me;if(null!==l&&(m=ae.get(l),g=Ae,g.setIndex(m)),i.isMesh)!0===r.wireframe?(ee.setLineWidth(r.wireframeLinewidth*Z()),g.setMode(Le.LINES)):g.setMode(Le.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),ee.setLineWidth(e*Z()),i.isLineSegments?g.setMode(Le.LINES):i.isLineLoop?g.setMode(Le.LINE_LOOP):g.setMode(Le.LINE_STRIP)}else i.isPoints?g.setMode(Le.POINTS):i.isSprite&&g.setMode(Le.TRIANGLES);if(i.isInstancedMesh)g.renderInstances(h,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);g.renderInstances(h,p,t)}else g.render(h,p)},this.compile=function(e,t){function n(e,t,n){!0===e.transparent&&e.side===p&&!1===e.forceSinglePass?(e.side=f,e.needsUpdate=!0,tt(e,t,n),e.side=h,e.needsUpdate=!0,tt(e,t,n),e.side=p):tt(e,t,n)}b=he.get(e),b.init(),w.push(b),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(b.pushLight(e),e.castShadow&&b.pushShadow(e))})),b.setupLights(x.useLegacyLights),e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];n(o,e,t)}else n(r,e,t)})),w.pop(),b=null};let Ge=null;function $e(e){Ge&&Ge(e)}function qe(){Ye.stop()}function Xe(){Ye.start()}const Ye=new _o;function Je(e,t,n,r){if(!1===e.visible)return;const i=e.layers.test(t.layers);if(i)if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)b.pushLight(e),e.castShadow&&b.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||z.intersectsSprite(e)){r&&Y.setFromMatrixPosition(e.matrixWorld).applyMatrix4($);const t=le.update(e),i=e.material;i.visible&&y.push(e,t,i,n,Y.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||z.intersectsObject(e))){const t=le.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),Y.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),Y.copy(t.boundingSphere.center)),Y.applyMatrix4(e.matrixWorld).applyMatrix4($)),Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&y.push(e,t,s,n,Y.z,a)}}else i.visible&&y.push(e,t,i,n,Y.z,null)}const o=e.children;for(let a=0,s=o.length;a<s;a++)Je(o[a],t,n,r)}function Ze(e,t,n,r){const i=e.opaque,o=e.transmissive,a=e.transparent;b.setupLightsView(n),!0===H&&fe.setGlobalState(x.clippingPlanes,n),o.length>0&&Ke(i,o,t,n),r&&ee.viewport(R.copy(r)),i.length>0&&Qe(i,t,n),o.length>0&&Qe(o,t,n),a.length>0&&Qe(a,t,n),ee.buffers.depth.setTest(!0),ee.buffers.depth.setMask(!0),ee.buffers.color.setMask(!0),ee.setPolygonOffset(!1)}function Ke(e,t,n,r){const i=Q.isWebGL2;null===G&&(G=new Hn(1,1,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")?xe:me,minFilter:pe,samples:i?4:0})),x.getDrawingBufferSize(q),i?G.setSize(q.x,q.y):G.setSize(pn(q.x),pn(q.y));const o=x.getRenderTarget();x.setRenderTarget(G),x.getClearColor(L),I=x.getClearAlpha(),I<1&&x.setClearColor(16777215,.5),x.clear();const a=x.toneMapping;x.toneMapping=X,Qe(e,n,r),re.updateMultisampleRenderTarget(G),re.updateRenderTargetMipmap(G);let s=!1;for(let l=0,c=t.length;l<c;l++){const e=t[l],i=e.object,o=e.geometry,a=e.material,c=e.group;if(a.side===p&&i.layers.test(r.layers)){const e=a.side;a.side=f,a.needsUpdate=!0,et(i,n,r,o,a,c),a.side=e,a.needsUpdate=!0,s=!0}}!0===s&&(re.updateMultisampleRenderTarget(G),re.updateRenderTargetMipmap(G)),x.setRenderTarget(o),x.setClearColor(L,I),x.toneMapping=a}function Qe(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&et(a,t,n,s,l,c)}}function et(e,t,n,r,i,o){e.onBeforeRender(x,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(x,t,n,r,e,o),!0===i.transparent&&i.side===p&&!1===i.forceSinglePass?(i.side=f,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,o),i.side=h,i.needsUpdate=!0,x.renderBufferDirect(n,t,r,i,e,o),i.side=p):x.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(x,t,n,r,i,o)}function tt(e,t,n){!0!==t.isScene&&(t=J);const r=ne.get(e),i=b.state.lights,o=b.state.shadowsArray,a=i.state.version,s=ce.getParameters(e,i.state,o,t,n),l=ce.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?oe:ie).get(e.envMap||r.environment),void 0===c&&(e.addEventListener("dispose",ze),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return nt(e,s),u}else s.uniforms=ce.getUniforms(e),e.onBuild(n,s,x),e.onBeforeCompile(s,x),u=ce.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const d=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=fe.uniform),nt(e,s),r.needsLights=ot(e),r.lightsStateVersion=a,r.needsLights&&(d.ambientLightColor.value=i.state.ambient,d.lightProbe.value=i.state.probe,d.directionalLights.value=i.state.directional,d.directionalLightShadows.value=i.state.directionalShadow,d.spotLights.value=i.state.spot,d.spotLightShadows.value=i.state.spotShadow,d.rectAreaLights.value=i.state.rectArea,d.ltc_1.value=i.state.rectAreaLTC1,d.ltc_2.value=i.state.rectAreaLTC2,d.pointLights.value=i.state.point,d.pointLightShadows.value=i.state.pointShadow,d.hemisphereLights.value=i.state.hemi,d.directionalShadowMap.value=i.state.directionalShadowMap,d.directionalShadowMatrix.value=i.state.directionalShadowMatrix,d.spotShadowMap.value=i.state.spotShadowMap,d.spotLightMatrix.value=i.state.spotLightMatrix,d.spotLightMap.value=i.state.spotLightMap,d.pointShadowMap.value=i.state.pointShadowMap,d.pointShadowMatrix.value=i.state.pointShadowMatrix);const h=u.getUniforms(),f=zc.seqWithValue(h.seq,d);return r.currentProgram=u,r.uniformsList=f,u}function nt(e,t){const n=ne.get(e);n.outputColorSpace=t.outputColorSpace,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function rt(e,t,n,r,i){!0!==t.isScene&&(t=J),re.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===M?x.outputColorSpace:!0===M.isXRRenderTarget?M.texture.colorSpace:Ct,l=(r.isMeshStandardMaterial?oe:ie).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color,p=r.toneMapped?x.toneMapping:X,m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,v=ne.get(r),y=b.state.lights;if(!0===H&&(!0===W||e!==A)){const t=e===A&&r.id===C;fe.setState(r,e,t)}let _=!1;r.version===v.__version?v.needsLights&&v.lightsStateVersion!==y.state.version||v.outputColorSpace!==s||i.isInstancedMesh&&!1===v.instancing?_=!0:i.isInstancedMesh||!0!==v.instancing?i.isSkinnedMesh&&!1===v.skinning?_=!0:i.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||!0===r.fog&&v.fog!==o?_=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===fe.numPlanes&&v.numIntersection===fe.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==u||v.morphTargets!==d||v.morphNormals!==h||v.morphColors!==f||v.toneMapping!==p||!0===Q.isWebGL2&&v.morphTargetsCount!==g)&&(_=!0):_=!0:_=!0:_=!0:(_=!0,v.__version=r.version);let w=v.currentProgram;!0===_&&(w=tt(r,t,i));let S=!1,E=!1,T=!1;const R=w.getUniforms(),k=v.uniforms;if(ee.useProgram(w.program)&&(S=!0,E=!0,T=!0),r.id!==C&&(C=r.id,E=!0),S||A!==e){if(R.setValue(Le,"projectionMatrix",e.projectionMatrix),Q.logarithmicDepthBuffer&&R.setValue(Le,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),A!==e&&(A=e,E=!0,T=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){const t=R.map.cameraPosition;void 0!==t&&t.setValue(Le,Y.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&R.setValue(Le,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&R.setValue(Le,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){R.setOptional(Le,i,"bindMatrix"),R.setOptional(Le,i,"bindMatrixInverse");const e=i.skeleton;e&&(Q.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),R.setValue(Le,"boneTexture",e.boneTexture,re),R.setValue(Le,"boneTextureSize",e.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const O=n.morphAttributes;if((void 0!==O.position||void 0!==O.normal||void 0!==O.color&&!0===Q.isWebGL2)&&be.update(i,n,w),(E||v.receiveShadow!==i.receiveShadow)&&(v.receiveShadow=i.receiveShadow,R.setValue(Le,"receiveShadow",i.receiveShadow)),r.isMeshGouraudMaterial&&null!==r.envMap&&(k.envMap.value=l,k.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1),E&&(R.setValue(Le,"toneMappingExposure",x.toneMappingExposure),v.needsLights&&it(k,T),o&&!0===r.fog&&ue.refreshFogUniforms(k,o),ue.refreshMaterialUniforms(k,r,N,D,G),zc.upload(Le,v.uniformsList,k,re)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(zc.upload(Le,v.uniformsList,k,re),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&R.setValue(Le,"center",i.center),R.setValue(Le,"modelViewMatrix",i.modelViewMatrix),R.setValue(Le,"normalMatrix",i.normalMatrix),R.setValue(Le,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++)if(Q.isWebGL2){const n=e[t];Oe.update(n,w),Oe.bind(n,w)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return w}function it(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function ot(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Ye.setAnimationLoop($e),"undefined"!==typeof self&&Ye.setContext(self),this.setAnimationLoop=function(e){Ge=e,Fe.setAnimationLoop(e),null===e?Ye.stop():Ye.start()},Fe.addEventListener("sessionstart",qe),Fe.addEventListener("sessionend",Xe),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===S)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Fe.enabled&&!0===Fe.isPresenting&&(!0===Fe.cameraAutoUpdate&&Fe.updateCamera(t),t=Fe.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,M),b=he.get(e,w.length),b.init(),w.push(b),$.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),z.setFromProjectionMatrix($),W=this.localClippingEnabled,H=fe.init(this.clippingPlanes,W),y=de.get(e,_.length),y.init(),_.push(y),Je(e,t,0,x.sortObjects),y.finish(),!0===x.sortObjects&&y.sort(U,F),this.info.render.frame++,!0===H&&fe.beginShadows();const n=b.state.shadowsArray;if(ge.render(n,e,t),!0===H&&fe.endShadows(),!0===this.info.autoReset&&this.info.reset(),ve.render(y,e),b.setupLights(x.useLegacyLights),t.isArrayCamera){const n=t.cameras;for(let t=0,r=n.length;t<r;t++){const r=n[t];Ze(y,e,r,r.viewport)}}else Ze(y,e,t);null!==M&&(re.updateMultisampleRenderTarget(M),re.updateRenderTargetMipmap(M)),!0===e.isScene&&e.onAfterRender(x,e,t),ke.resetDefaultState(),C=-1,A=null,w.pop(),b=w.length>0?w[w.length-1]:null,_.pop(),y=_.length>0?_[_.length-1]:null},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(e,t,n){ne.get(e.texture).__webglTexture=t,ne.get(e.depthTexture).__webglTexture=n;const r=ne.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===K.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const n=ne.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){M=e,E=t,T=n;let r=!0,i=null,o=!1,a=!1;if(e){const n=ne.get(e);void 0!==n.__useDefaultFramebuffer?(ee.bindFramebuffer(Le.FRAMEBUFFER,null),r=!1):void 0===n.__webglFramebuffer?re.setupRenderTarget(e):n.__hasExternalTextures&&re.rebindTextures(e,ne.get(e.texture).__webglTexture,ne.get(e.depthTexture).__webglTexture);const s=e.texture;(s.isData3DTexture||s.isDataArrayTexture||s.isCompressedArrayTexture)&&(a=!0);const l=ne.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=l[t],o=!0):i=Q.isWebGL2&&e.samples>0&&!1===re.useMultisampledRTT(e)?ne.get(e).__webglMultisampledFramebuffer:l,R.copy(e.viewport),k.copy(e.scissor),O=e.scissorTest}else R.copy(B).multiplyScalar(N).floor(),k.copy(j).multiplyScalar(N).floor(),O=V;const s=ee.bindFramebuffer(Le.FRAMEBUFFER,i);if(s&&Q.drawBuffers&&r&&ee.drawBuffers(e,i),ee.viewport(R),ee.scissor(k),ee.setScissorTest(O),o){const r=ne.get(e.texture);Le.framebufferTexture2D(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,Le.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=ne.get(e.texture),i=t||0;Le.framebufferTextureLayer(Le.FRAMEBUFFER,Le.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}C=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=ne.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){ee.bindFramebuffer(Le.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(s!==Ce&&Re.convert(s)!==Le.getParameter(Le.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===xe&&(K.has("EXT_color_buffer_half_float")||Q.isWebGL2&&K.has("EXT_color_buffer_float"));if(l!==me&&Re.convert(l)!==Le.getParameter(Le.IMPLEMENTATION_COLOR_READ_TYPE)&&(l!==we||!(Q.isWebGL2||K.has("OES_texture_float")||K.has("WEBGL_color_buffer_float")))&&!c)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Le.readPixels(t,n,r,i,Re.convert(s),Re.convert(l),o)}finally{const e=null!==M?ne.get(M).__webglFramebuffer:null;ee.bindFramebuffer(Le.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t,n=0){const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r);re.setTexture2D(t,0),Le.copyTexSubImage2D(Le.TEXTURE_2D,n,0,0,e.x,e.y,i,o),ee.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r=0){const i=t.image.width,o=t.image.height,a=Re.convert(n.format),s=Re.convert(n.type);re.setTexture2D(n,0),Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL,n.flipY),Le.pixelStorei(Le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Le.pixelStorei(Le.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Le.texSubImage2D(Le.TEXTURE_2D,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?Le.compressedTexSubImage2D(Le.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):Le.texSubImage2D(Le.TEXTURE_2D,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&Le.generateMipmap(Le.TEXTURE_2D),ee.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r,i=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const o=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=Re.convert(r.format),c=Re.convert(r.type);let u;if(r.isData3DTexture)re.setTexture3D(r,0),u=Le.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");re.setTexture2DArray(r,0),u=Le.TEXTURE_2D_ARRAY}Le.pixelStorei(Le.UNPACK_FLIP_Y_WEBGL,r.flipY),Le.pixelStorei(Le.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Le.pixelStorei(Le.UNPACK_ALIGNMENT,r.unpackAlignment);const d=Le.getParameter(Le.UNPACK_ROW_LENGTH),h=Le.getParameter(Le.UNPACK_IMAGE_HEIGHT),f=Le.getParameter(Le.UNPACK_SKIP_PIXELS),p=Le.getParameter(Le.UNPACK_SKIP_ROWS),m=Le.getParameter(Le.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[0]:n.image;Le.pixelStorei(Le.UNPACK_ROW_LENGTH,g.width),Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT,g.height),Le.pixelStorei(Le.UNPACK_SKIP_PIXELS,e.min.x),Le.pixelStorei(Le.UNPACK_SKIP_ROWS,e.min.y),Le.pixelStorei(Le.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Le.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Le.compressedTexSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,g.data)):Le.texSubImage3D(u,i,t.x,t.y,t.z,o,a,s,l,c,g),Le.pixelStorei(Le.UNPACK_ROW_LENGTH,d),Le.pixelStorei(Le.UNPACK_IMAGE_HEIGHT,h),Le.pixelStorei(Le.UNPACK_SKIP_PIXELS,f),Le.pixelStorei(Le.UNPACK_SKIP_ROWS,p),Le.pixelStorei(Le.UNPACK_SKIP_IMAGES,m),0===i&&r.generateMipmaps&&Le.generateMipmap(u),ee.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?re.setTextureCube(e,0):e.isData3DTexture?re.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?re.setTexture2DArray(e,0):re.setTexture2D(e,0),ee.unbindTexture()},this.resetState=function(){E=0,T=0,M=null,ee.reset(),ke.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return zt}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Mt?_t:bt}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===_t?Mt:Ct}}class Ju extends Yu{}Ju.prototype.isWebGL1Renderer=!0;class Zu extends Xr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Ku{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Bt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yt()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Qu=new qn;class ed{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Qu.fromBufferAttribute(this,t),Qu.applyMatrix4(e),this.setXYZ(t,Qu.x,Qu.y,Qu.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Qu.fromBufferAttribute(this,t),Qu.applyNormalMatrix(e),this.setXYZ(t,Qu.x,Qu.y,Qu.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Qu.fromBufferAttribute(this,t),Qu.transformDirection(e),this.setXYZ(t,Qu.x,Qu.y,Qu.z);return this}setX(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=vn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=gn(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=gn(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=gn(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=gn(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=vn(t,this.array),n=vn(n,this.array),r=vn(r,this.array),i=vn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new yi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ed(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class td extends li{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new fi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let nd;const rd=new qn,id=new qn,od=new qn,ad=new bn,sd=new bn,ld=new Sr,cd=new qn,ud=new qn,dd=new qn,hd=new bn,fd=new bn,pd=new bn;class md extends Xr{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===nd){nd=new Ri;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Ku(e,5);nd.setIndex([0,1,2,0,2,3]),nd.setAttribute("position",new ed(t,3,0,!1)),nd.setAttribute("uv",new ed(t,2,3,!1))}this.geometry=nd,this.material=void 0!==e?e:new td,this.center=new bn(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),id.setFromMatrixScale(this.matrixWorld),ld.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),od.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&id.multiplyScalar(-od.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;gd(cd.set(-.5,-.5,0),od,o,id,r,i),gd(ud.set(.5,-.5,0),od,o,id,r,i),gd(dd.set(.5,.5,0),od,o,id,r,i),hd.set(0,0),fd.set(1,0),pd.set(1,1);let a=e.ray.intersectTriangle(cd,ud,dd,!1,rd);if(null===a&&(gd(ud.set(-.5,.5,0),od,o,id,r,i),fd.set(0,1),a=e.ray.intersectTriangle(cd,dd,ud,!1,rd),null===a))return;const s=e.ray.origin.distanceTo(rd);s<e.near||s>e.far||t.push({distance:s,point:rd.clone(),uv:ai.getInterpolation(rd,cd,ud,dd,hd,fd,pd,new bn),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function gd(e,t,n,r,i,o){ad.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(sd.x=o*ad.x-i*ad.y,sd.y=i*ad.x+o*ad.y):sd.copy(ad),e.copy(t),e.x+=sd.x,e.y+=sd.y,e.applyMatrix4(ld)}class vd extends li{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new fi(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const yd=new qn,bd=new qn,_d=new Sr,wd=new xr,xd=new pr;class Sd extends Xr{constructor(e=new Ri,t=new vd){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)yd.fromBufferAttribute(t,e-1),bd.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=yd.distanceTo(bd);e.setAttribute("lineDistance",new wi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),xd.copy(n.boundingSphere),xd.applyMatrix4(r),xd.radius+=i,!1===e.ray.intersectsSphere(xd))return;_d.copy(r).invert(),wd.copy(e.ray).applyMatrix4(_d);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=new qn,c=new qn,u=new qn,d=new qn,h=this.isLineSegments?2:1,f=n.index,p=n.attributes,m=p.position;if(null!==f){const n=Math.max(0,o.start),r=Math.min(f.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=h){const n=f.getX(i),r=f.getX(i+1);l.fromBufferAttribute(m,n),c.fromBufferAttribute(m,r);const o=wd.distanceSqToSegment(l,c,d,u);if(o>s)continue;d.applyMatrix4(this.matrixWorld);const a=e.ray.origin.distanceTo(d);a<e.near||a>e.far||t.push({distance:a,point:u.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{const n=Math.max(0,o.start),r=Math.min(m.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=h){l.fromBufferAttribute(m,i),c.fromBufferAttribute(m,i+1);const n=wd.distanceSqToSegment(l,c,d,u);if(n>s)continue;d.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(d);r<e.near||r>e.far||t.push({distance:r,point:u.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const e=this.geometry,t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}}class Ed{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;while(s<=l)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r],u=n[r+1],d=u-c,h=(o-c)/d,f=(r+h)/(i-1);return f}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new bn:new qn);return s.copy(a).sub(o).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new qn,r=[],i=[],o=[],a=new qn,s=new Sr;for(let h=0;h<=e;h++){const t=h/e;r[h]=this.getTangentAt(t,new qn)}i[0]=new qn,o[0]=new qn;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),a.crossVectors(r[h-1],r[h]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(Jt(r[h-1].dot(r[h]),-1,1));i[h].applyMatrix4(s.makeRotationAxis(a,e))}o[h].crossVectors(r[h],i[h])}if(!0===t){let t=Math.acos(Jt(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Td extends Ed{constructor(e=0,t=0,n=1,r=1,i=0,o=2*Math.PI,a=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e,t){const n=t||new bn,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;while(i<0)i+=r;while(i>r)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Md extends Td{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Cd(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i,a=o*i;return e+t*i+n*o+r*a}}}const Ad=new qn,Rd=new Cd,kd=new Cd,Od=new Cd;class Ld extends Ed{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new qn){const n=t,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?a=r[(l-1)%i]:(Ad.subVectors(r[0],r[1]).add(r[0]),a=Ad);const u=r[l%i],d=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(Ad.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=Ad),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(d),e),r=Math.pow(d.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),Rd.initNonuniformCatmullRom(a.x,u.x,d.x,s.x,t,n,r),kd.initNonuniformCatmullRom(a.y,u.y,d.y,s.y,t,n,r),Od.initNonuniformCatmullRom(a.z,u.z,d.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(Rd.initCatmullRom(a.x,u.x,d.x,s.x,this.tension),kd.initCatmullRom(a.y,u.y,d.y,s.y,this.tension),Od.initCatmullRom(a.z,u.z,d.z,s.z,this.tension));return n.set(Rd.calc(c),kd.calc(c),Od.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new qn).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Id(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e,l=e*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*e+n}function Pd(e,t){const n=1-e;return n*n*t}function Dd(e,t){return 2*(1-e)*e*t}function Nd(e,t){return e*e*t}function Ud(e,t,n,r){return Pd(e,t)+Dd(e,n)+Nd(e,r)}function Fd(e,t){const n=1-e;return n*n*n*t}function Bd(e,t){const n=1-e;return 3*n*n*e*t}function jd(e,t){return 3*(1-e)*e*e*t}function Vd(e,t){return e*e*e*t}function zd(e,t,n,r,i){return Fd(e,t)+Bd(e,n)+jd(e,r)+Vd(e,i)}class Hd extends Ed{constructor(e=new bn,t=new bn,n=new bn,r=new bn){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new bn){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(zd(e,r.x,i.x,o.x,a.x),zd(e,r.y,i.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Wd extends Ed{constructor(e=new qn,t=new qn,n=new qn,r=new qn){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new qn){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(zd(e,r.x,i.x,o.x,a.x),zd(e,r.y,i.y,o.y,a.y),zd(e,r.z,i.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Gd extends Ed{constructor(e=new bn,t=new bn){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new bn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new bn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $d extends Ed{constructor(e=new qn,t=new qn){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new qn){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new qn){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qd extends Ed{constructor(e=new bn,t=new bn,n=new bn){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new bn){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ud(e,r.x,i.x,o.x),Ud(e,r.y,i.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xd extends Ed{constructor(e=new qn,t=new qn,n=new qn){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new qn){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(Ud(e,r.x,i.x,o.x),Ud(e,r.y,i.y,o.y),Ud(e,r.z,i.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Yd extends Ed{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new bn){const n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(Id(a,s.x,l.x,c.x,u.x),Id(a,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new bn).fromArray(n))}return this}}var Jd=Object.freeze({__proto__:null,ArcCurve:Md,CatmullRomCurve3:Ld,CubicBezierCurve:Hd,CubicBezierCurve3:Wd,EllipseCurve:Td,LineCurve:Gd,LineCurve3:$d,QuadraticBezierCurve:qd,QuadraticBezierCurve3:Xd,SplineCurve:Yd});class Zd extends Ri{constructor(e=1,t=1,n=1,r=32,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let g=0;function v(){const o=new qn,v=new qn;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,b,p).normalize(),d.push(o.x,o.y,o.z),h.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}function y(n){const i=f,o=new bn,p=new qn;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const _=f;for(let e=0;e<=r;e++){const t=e/r,n=t*s+a,i=Math.cos(n),l=Math.sin(n);p.x=y*l,p.y=m*b,p.z=y*i,u.push(p.x,p.y,p.z),d.push(0,b,0),o.x=.5*i+.5,o.y=.5*l*b+.5,h.push(o.x,o.y),f++}for(let e=0;e<r;e++){const t=i+e,r=_+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}v(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new wi(u,3)),this.setAttribute("normal",new wi(d,3)),this.setAttribute("uv",new wi(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Zd(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kd extends Zd{constructor(e=1,t=1,n=32,r=1,i=!1,o=0,a=2*Math.PI){super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Kd(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Qd extends Ri{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new qn,d=new qn,h=[],f=[],p=[],m=[];for(let g=0;g<=n;g++){const h=[],v=g/n;let y=0;0===g&&0===o?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(s+y,1-v),h.push(l++)}c.push(h)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||o>0)&&h.push(t,r,a),(g!==n-1||s<Math.PI)&&h.push(r,i,a)}this.setIndex(h),this.setAttribute("position",new wi(f,3)),this.setAttribute("normal",new wi(p,3)),this.setAttribute("uv",new wi(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eh extends Ri{constructor(e=new Xd(new qn(-1,-1,0),new qn(-1,1,0),new qn(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new qn,s=new qn,l=new bn;let c=new qn;const u=[],d=[],h=[],f=[];function p(){for(let e=0;e<t;e++)m(e);m(!1===i?t:0),v(),g()}function m(i){c=e.getPointAt(i/t,c);const l=o.normals[i],h=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*h.x,s.y=o*l.y+i*h.y,s.z=o*l.z+i*h.z,s.normalize(),d.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}function g(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;f.push(n,i,a),f.push(i,o,a)}}function v(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,h.push(l.x,l.y)}p(),this.setIndex(f),this.setAttribute("position",new wi(u,3)),this.setAttribute("normal",new wi(d,3)),this.setAttribute("uv",new wi(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new eh((new Jd[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class th extends li{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new fi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new fi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=St,this.normalScale=new bn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=G,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function nh(e,t,n){return ih(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)}function rh(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function ih(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}class oh{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}while(n<o){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ah extends oh{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gt,endingEnd:gt}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case vt:i=e,a=2*t-n;break;case yt:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case vt:o=e,s=2*n-t;break;case yt:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-d*m+2*d*p-d*f,v=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let _=0;_!==a;++_)i[_]=g*o[c+_]+v*o[l+_]+y*o[s+_]+b*o[u+_];return i}}class sh extends oh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let d=0;d!==a;++d)i[d]=o[l+d]*u+o[s+d]*c;return i}}class lh extends oh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ch{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=rh(t,this.TimeBufferType),this.values=rh(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:rh(e.times,Array),values:rh(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new lh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new sh(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ah(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ft:t=this.InterpolantFactoryMethodDiscrete;break;case pt:t=this.InterpolantFactoryMethodLinear;break;case mt:t=this.InterpolantFactoryMethodSmooth;break}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ft;case this.InterpolantFactoryMethodLinear:return pt;case this.InterpolantFactoryMethodSmooth:return mt}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;while(i!==r&&n[i]<e)++i;while(-1!==o&&n[o]>t)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=nh(n,i,o),this.values=nh(this.values,i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"===typeof t&&isNaN(t)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,t),e=!1;break}if(null!==o&&o>t){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,t,o),e=!1;break}o=t}if(void 0!==r&&ih(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,t),e=!1;break}}return e}optimize(){const e=nh(this.times),t=nh(this.values),n=this.getValueSize(),r=this.getInterpolation()===mt,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a],l=e[a+1];if(s!==l&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=nh(e,0,o),this.values=nh(t,0,o*n)):(this.times=e,this.values=t),this}clone(){const e=nh(this.times,0),t=nh(this.values,0),n=this.constructor,r=new n(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ch.prototype.TimeBufferType=Float32Array,ch.prototype.ValueBufferType=Float32Array,ch.prototype.DefaultInterpolation=pt;class uh extends ch{}uh.prototype.ValueTypeName="bool",uh.prototype.ValueBufferType=Array,uh.prototype.DefaultInterpolation=ft,uh.prototype.InterpolantFactoryMethodLinear=void 0,uh.prototype.InterpolantFactoryMethodSmooth=void 0;class dh extends ch{}dh.prototype.ValueTypeName="color";class hh extends ch{}hh.prototype.ValueTypeName="number";class fh extends oh{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)$n.slerpFlat(i,0,o,l-a,o,l,s);return i}}class ph extends ch{InterpolantFactoryMethodLinear(e){return new fh(this.times,this.values,this.getValueSize(),e)}}ph.prototype.ValueTypeName="quaternion",ph.prototype.DefaultInterpolation=pt,ph.prototype.InterpolantFactoryMethodSmooth=void 0;class mh extends ch{}mh.prototype.ValueTypeName="string",mh.prototype.ValueBufferType=Array,mh.prototype.DefaultInterpolation=ft,mh.prototype.InterpolantFactoryMethodLinear=void 0,mh.prototype.InterpolantFactoryMethodSmooth=void 0;class gh extends ch{}gh.prototype.ValueTypeName="vector";const vh={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class yh{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const bh=new yh;class _h{constructor(e){this.manager=void 0!==e?e:bh,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}_h.DEFAULT_MATERIAL_NAME="__DEFAULT";class wh extends _h{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=vh.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=Sn("img");function s(){c(),vh.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class xh extends _h{constructor(e){super(e)}load(e,t,n,r){const i=new Vn,o=new wh(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}class Sh extends Xr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new fi(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const Eh=new Sr,Th=new qn,Mh=new qn;class Ch{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new bn(512,512),this.map=null,this.mapPass=null,this.matrix=new Sr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new bo,this._frameExtents=new bn(1,1),this._viewportCount=1,this._viewports=[new zn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;Th.setFromMatrixPosition(e.matrixWorld),t.position.copy(Th),Mh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Mh),t.updateMatrixWorld(),Eh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Eh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Eh)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ah extends Ch{constructor(){super(new ul(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Rh extends Sh{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xr.DEFAULT_UP),this.updateMatrix(),this.target=new Xr,this.shadow=new Ah}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kh extends Sh{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Oh{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Lh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Lh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Lh(){return("undefined"===typeof performance?Date:performance).now()}const Ih="\\[\\]\\.:\\/",Ph=new RegExp("["+Ih+"]","g"),Dh="[^"+Ih+"]",Nh="[^"+Ih.replace("\\.","")+"]",Uh=/((?:WC+[\/:])*)/.source.replace("WC",Dh),Fh=/(WCOD+)?/.source.replace("WCOD",Nh),Bh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Dh),jh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Dh),Vh=new RegExp("^"+Uh+Fh+Bh+jh+"$"),zh=["material","materials","bones","map"];class Hh{constructor(e,t,n){const r=n||Wh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Wh{constructor(e,t,n){this.path=t,this.parsedPath=n||Wh.parseTrackName(t),this.node=Wh.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Wh.Composite(e,t,n):new Wh(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ph,"")}static parseTrackName(e){const t=Vh.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==zh.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Wh.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Wh.Composite=Hh,Wh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Wh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Wh.prototype.GetterByBindingType=[Wh.prototype._getValue_direct,Wh.prototype._getValue_array,Wh.prototype._getValue_arrayElement,Wh.prototype._getValue_toArray],Wh.prototype.SetterByBindingTypeAndVersioning=[[Wh.prototype._setValue_direct,Wh.prototype._setValue_direct_setNeedsUpdate,Wh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wh.prototype._setValue_array,Wh.prototype._setValue_array_setNeedsUpdate,Wh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wh.prototype._setValue_arrayElement,Wh.prototype._setValue_arrayElement_setNeedsUpdate,Wh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wh.prototype._setValue_fromArray,Wh.prototype._setValue_fromArray_setNeedsUpdate,Wh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);class Gh{constructor(e,t,n=0,r=1/0){this.ray=new xr(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new Pr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,n=[]){return qh(e,this,n,t),n.sort($h),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)qh(e[r],this,n,t);return n.sort($h),n}}function $h(e,t){return e.distance-t.distance}function qh(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)qh(r[e],t,n,!0)}}class Xh{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Jt(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:r}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=r)},5209:function(e,t,n){"use strict";n.d(t,{M:function(){return u},j:function(){return i}});n(7658);var r=n(1114);class i extends r.Tme{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.FM8(.5,.5),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const o=new r.Pa4,a=new r.yGw,s=new r.yGw,l=new r.Pa4,c=new r.Pa4;class u{constructor(e={}){const t=this;let n,r,i,u;const d={objects:new WeakMap},h=void 0!==e.element?e.element:document.createElement("div");function f(e,n,r){if(e.isCSS2DObject){o.setFromMatrixPosition(e.matrixWorld),o.applyMatrix4(s);const a=!0===e.visible&&o.z>=-1&&o.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===a?"":"none",!0===a){e.onBeforeRender(t,n,r);const a=e.element;a.style.transform="translate("+-100*e.center.x+"%,"+-100*e.center.y+"%)translate("+(o.x*i+i)+"px,"+(-o.y*u+u)+"px)",a.parentNode!==h&&h.appendChild(a),e.onAfterRender(t,n,r)}const l={distanceToCameraSquared:p(r,e)};d.objects.set(e,l)}for(let t=0,i=e.children.length;t<i;t++)f(e.children[t],n,r)}function p(e,t){return l.setFromMatrixPosition(e.matrixWorld),c.setFromMatrixPosition(t.matrixWorld),l.distanceToSquared(c)}function m(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function g(e){const t=m(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=d.objects.get(e).distanceToCameraSquared,r=d.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,i=t.length;r<i;r++)t[r].element.style.zIndex=n-r}h.style.overflow="hidden",this.domElement=h,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),a.copy(t.matrixWorldInverse),s.multiplyMatrices(t.projectionMatrix,a),f(e,e,t),g(e)},this.setSize=function(e,t){n=e,r=t,i=n/2,u=r/2,h.style.width=e+"px",h.style.height=t+"px"}}}},2483:function(e,t,n){"use strict";n.d(t,{PO:function(){return B},p7:function(){return tt}});n(7658);var r=n(3396),i=n(4870);
/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function a(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const s=Object.assign;function l(e,t){const n={};for(const r in t){const i=t[r];n[r]=u(i)?i.map(e):e(i)}return n}const c=()=>{},u=Array.isArray;const d=/\/$/,h=e=>e.replace(d,"");function f(e,t,n="/"){let r,i={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,s>-1?s:t.length),i=e(o)),s>-1&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=w(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function p(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function m(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function g(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&v(t.matched[r],n.matched[i])&&y(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!b(e[n],t[n]))return!1;return!0}function b(e,t){return u(e)?_(e,t):u(t)?_(t,e):e===t}function _(e,t){return u(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function w(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let o,a,s=n.length-1;for(o=0;o<r.length;o++)if(a=r[o],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var x,S;(function(e){e["pop"]="pop",e["push"]="push"})(x||(x={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(S||(S={}));function E(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),h(e)}const T=/^[^#]+#/;function M(e,t){return e.replace(T,"#")+t}function C(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const A=()=>({left:window.pageXOffset,top:window.pageYOffset});function R(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=C(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function k(e,t){const n=history.state?history.state.position-t:-1;return n+e}const O=new Map;function L(e,t){O.set(e,t)}function I(e){const t=O.get(e);return O.delete(e),t}let P=()=>location.protocol+"//"+location.host;function D(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),m(n,"")}const a=m(n,e);return a+r+i}function N(e,t,n,r){let i=[],o=[],a=null;const l=({state:o})=>{const s=D(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=s,t.value=o,a&&a===l)return void(a=null);u=c?o.position-c.position:0}else r(s);i.forEach((e=>{e(n.value,l,{delta:u,type:x.pop,direction:u?u>0?S.forward:S.back:S.unknown})}))};function c(){a=n.value}function u(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function d(){const{history:e}=window;e.state&&e.replaceState(s({},e.state,{scroll:A()}),"")}function h(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:c,listen:u,destroy:h}}function U(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?A():null}}function F(e){const{history:t,location:n}=window,r={value:D(e,n)},i={value:t.state};function o(r,o,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:P()+e+r;try{t[a?"replaceState":"pushState"](o,"",l),i.value=o}catch(c){console.error(c),n[a?"replace":"assign"](l)}}function a(e,n){const a=s({},t.state,U(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,a,!0),r.value=e}function l(e,n){const a=s({},i.value,t.state,{forward:e,scroll:A()});o(a.current,a,!0);const l=s({},U(r.value,e,null),{position:a.position+1},n);o(e,l,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:a}}function B(e){e=E(e);const t=F(e),n=N(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=s({location:"",base:e,go:r,createHref:M.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function j(e){return"string"===typeof e||e&&"object"===typeof e}function V(e){return"string"===typeof e||"symbol"===typeof e}const z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},H=Symbol("");var W;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(W||(W={}));function G(e,t){return s(new Error,{type:e,[H]:!0},t)}function $(e,t){return e instanceof Error&&H in e&&(null==t||!!(e.type&t))}const q="[^/]+?",X={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function J(e,t){const n=s({},X,t),r=[];let i=n.start?"^":"";const o=[];for(const s of e){const e=s.length?[]:[90];n.strict&&!s.length&&(i+="/");for(let t=0;t<s.length;t++){const r=s[t];let a=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(Y,"\\$&"),a+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:c}=r;o.push({name:e,repeatable:n,optional:l});const u=c||q;if(u!==q){a+=10;try{new RegExp(`(${u})`)}catch(d){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+d.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=l&&s.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function c(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(u(l)&&!a)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}return{re:a,score:r,keys:o,parse:l,stringify:c}}function Z(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function K(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=Z(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(Q(r))return 1;if(Q(i))return-1}return i.length-r.length}function Q(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ee={type:0,value:""},te=/[a-zA-Z0-9_]/;function ne(e){if(!e)return[[]];if("/"===e)return[[ee]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,l=0,c="",u="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}while(l<e.length)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&d(),a()):":"===s?(d(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===s?n=2:te.test(s)?h():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),a(),i}function re(e,t,n){const r=J(ne(e.path),n);const i=s(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function ie(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,l=ae(e);l.aliasOf=r&&r.record;const d=ue(t,e),h=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)h.push(s({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let f,p;for(const t of h){const{path:s}=t;if(n&&"/"!==s[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(s&&r+s)}if(f=re(t,n,d),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!le(f)&&a(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],f,r&&r.children[t])}r=r||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&u(f)}return p?()=>{a(p)}:c}function a(e){if(V(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function l(){return n}function u(e){let t=0;while(t<n.length&&K(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!le(e)&&r.set(e.record.name,e)}function d(e,t){let i,o,a,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw G(1,{location:e});0,a=i.record.name,l=s(oe(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&oe(e.params,i.keys.map((e=>e.name)))),o=i.stringify(l)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(l=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw G(1,{location:e,currentLocation:t});a=i.record.name,l=s({},t.params,e.params),o=i.stringify(l)}const c=[];let u=i;while(u)c.unshift(u.record),u=u.parent;return{name:a,path:o,params:l,matched:c,meta:ce(c)}}return t=ue({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:i}}function oe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ae(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:se(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function se(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"===typeof n?n[r]:n;return t}function le(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ce(e){return e.reduce(((e,t)=>s(e,t.meta)),{})}function ue(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const he=/#/g,fe=/&/g,pe=/\//g,me=/=/g,ge=/\?/g,ve=/\+/g,ye=/%5B/g,be=/%5D/g,_e=/%5E/g,we=/%60/g,xe=/%7B/g,Se=/%7C/g,Ee=/%7D/g,Te=/%20/g;function Me(e){return encodeURI(""+e).replace(Se,"|").replace(ye,"[").replace(be,"]")}function Ce(e){return Me(e).replace(xe,"{").replace(Ee,"}").replace(_e,"^")}function Ae(e){return Me(e).replace(ve,"%2B").replace(Te,"+").replace(he,"%23").replace(fe,"%26").replace(we,"`").replace(xe,"{").replace(Ee,"}").replace(_e,"^")}function Re(e){return Ae(e).replace(me,"%3D")}function ke(e){return Me(e).replace(he,"%23").replace(ge,"%3F")}function Oe(e){return null==e?"":ke(e).replace(pe,"%2F")}function Le(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function Ie(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(ve," "),n=e.indexOf("="),o=Le(n<0?e:e.slice(0,n)),a=n<0?null:Le(e.slice(n+1));if(o in t){let e=t[o];u(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function Pe(e){let t="";for(let n in e){const r=e[n];if(n=Re(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=u(r)?r.map((e=>e&&Ae(e))):[r&&Ae(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function De(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=u(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Ne=Symbol(""),Ue=Symbol(""),Fe=Symbol(""),Be=Symbol(""),je=Symbol("");function Ve(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ze(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((a,s)=>{const l=e=>{!1===e?s(G(4,{from:n,to:t})):e instanceof Error?s(e):j(e)?s(G(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),a())},c=e.call(r&&r.instances[i],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function He(e,t,n,r){const i=[];for(const o of e){0;for(const e in o.components){let s=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(We(s)){const a=s.__vccOpts||s,l=a[t];l&&i.push(ze(l,n,r,o,e))}else{let l=s();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const s=a(i)?i.default:i;o.components[e]=s;const l=s.__vccOpts||s,c=l[t];return c&&ze(c,n,r,o,e)()}))))}}}return i}function We(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ge(e){const t=(0,r.f3)(Fe),n=(0,r.f3)(Be),o=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),a=(0,r.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const a=i.findIndex(v.bind(null,r));if(a>-1)return a;const s=Je(e[t-2]);return t>1&&Je(r)===s&&i[i.length-1].path!==s?i.findIndex(v.bind(null,e[t-2])):a})),s=(0,r.Fl)((()=>a.value>-1&&Ye(n.params,o.value.params))),l=(0,r.Fl)((()=>a.value>-1&&a.value===n.matched.length-1&&y(n.params,o.value.params)));function u(n={}){return Xe(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(c):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:s,isExactActive:l,navigate:u}}const $e=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ge,setup(e,{slots:t}){const n=(0,i.qj)(Ge(e)),{options:o}=(0,r.f3)(Fe),a=(0,r.Fl)((()=>({[Ze(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Ze(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:a.value},i)}}}),qe=$e;function Xe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!u(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Je(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ze=(e,t,n)=>null!=e?e:null!=t?t:n,Ke=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(je),a=(0,r.Fl)((()=>e.route||o.value)),l=(0,r.f3)(Ue,0),c=(0,r.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=a.value;let n;while((n=t[e])&&!n.components)e++;return e})),u=(0,r.Fl)((()=>a.value.matched[c.value]));(0,r.JJ)(Ue,(0,r.Fl)((()=>c.value+1))),(0,r.JJ)(Ne,u),(0,r.JJ)(je,a);const d=(0,i.iH)();return(0,r.YP)((()=>[d.value,u.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&v(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=a.value,o=e.name,l=u.value,c=l&&l.components[o];if(!c)return Qe(n.default,{Component:c,route:i});const h=l.props[o],f=h?!0===h?i.params:"function"===typeof h?h(i):h:null,p=e=>{e.component.isUnmounted&&(l.instances[o]=null)},m=(0,r.h)(c,s({},f,t,{onVnodeUnmounted:p,ref:d}));return Qe(n.default,{Component:m,route:i})||m}}});function Qe(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const et=Ke;function tt(e){const t=ie(e.routes,e),n=e.parseQuery||Ie,a=e.stringifyQuery||Pe,d=e.history;const h=Ve(),m=Ve(),v=Ve(),y=(0,i.XI)(z);let b=z;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _=l.bind(null,(e=>""+e)),w=l.bind(null,Oe),S=l.bind(null,Le);function E(e,n){let r,i;return V(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function T(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function M(){return t.getRoutes().map((e=>e.record))}function C(e){return!!t.getRecordMatcher(e)}function O(e,r){if(r=s({},r||y.value),"string"===typeof e){const i=f(n,e,r.path),o=t.resolve({path:i.path},r),a=d.createHref(i.fullPath);return s(i,o,{params:S(o.params),hash:Le(i.hash),redirectedFrom:void 0,href:a})}let i;if("path"in e)i=s({},e,{path:f(n,e.path,r.path).path});else{const t=s({},e.params);for(const e in t)null==t[e]&&delete t[e];i=s({},e,{params:w(t)}),r.params=w(r.params)}const o=t.resolve(i,r),l=e.hash||"";o.params=_(S(o.params));const c=p(a,s({},e,{hash:Ce(l),path:o.path})),u=d.createHref(c);return s({fullPath:c,hash:l,query:a===Pe?De(e.query):e.query||{}},o,{redirectedFrom:void 0,href:u})}function P(e){return"string"===typeof e?f(n,e,y.value.path):s({},e)}function D(e,t){if(b!==e)return G(8,{from:t,to:e})}function N(e){return B(e)}function U(e){return N(s(P(e),{replace:!0}))}function F(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=P(r):{path:r},r.params={}),s({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function B(e,t){const n=b=O(e),r=y.value,i=e.state,o=e.force,l=!0===e.replace,c=F(n);if(c)return B(s(P(c),{state:"object"===typeof c?s({},i,c.state):i,force:o,replace:l}),t||n);const u=n;let d;return u.redirectedFrom=t,!o&&g(a,r,n)&&(d=G(16,{to:u,from:r}),re(r,r,!0,!1)),(d?Promise.resolve(d):W(u,r)).catch((e=>$(e)?$(e,2)?e:ne(e):ee(e,u,r))).then((e=>{if(e){if($(e,2))return B(s({replace:l},P(e.to),{state:"object"===typeof e.to?s({},i,e.to.state):i,force:o}),t||u)}else e=X(u,r,!0,l,i);return q(u,r,e),e}))}function j(e,t){const n=D(e,t);return n?Promise.reject(n):Promise.resolve()}function H(e){const t=se.values().next().value;return t&&"function"===typeof t.runWithContext?t.runWithContext(e):e()}function W(e,t){let n;const[r,i,o]=nt(e,t);n=He(r.reverse(),"beforeRouteLeave",e,t);for(const s of r)s.leaveGuards.forEach((r=>{n.push(ze(r,e,t))}));const a=j.bind(null,e,t);return n.push(a),ce(n).then((()=>{n=[];for(const r of h.list())n.push(ze(r,e,t));return n.push(a),ce(n)})).then((()=>{n=He(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(ze(r,e,t))}));return n.push(a),ce(n)})).then((()=>{n=[];for(const r of o)if(r.beforeEnter)if(u(r.beforeEnter))for(const i of r.beforeEnter)n.push(ze(i,e,t));else n.push(ze(r.beforeEnter,e,t));return n.push(a),ce(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=He(o,"beforeRouteEnter",e,t),n.push(a),ce(n)))).then((()=>{n=[];for(const r of m.list())n.push(ze(r,e,t));return n.push(a),ce(n)})).catch((e=>$(e,8)?e:Promise.reject(e)))}function q(e,t,n){v.list().forEach((r=>H((()=>r(e,t,n)))))}function X(e,t,n,r,i){const a=D(e,t);if(a)return a;const l=t===z,c=o?history.state:{};n&&(r||l?d.replace(e.fullPath,s({scroll:l&&c&&c.scroll},i)):d.push(e.fullPath,i)),y.value=e,re(e,t,n,l),ne()}let Y;function J(){Y||(Y=d.listen(((e,t,n)=>{if(!le.listening)return;const r=O(e),i=F(r);if(i)return void B(s(i,{replace:!0}),r).catch(c);b=r;const a=y.value;o&&L(k(a.fullPath,n.delta),A()),W(r,a).catch((e=>$(e,12)?e:$(e,2)?(B(e.to,r).then((e=>{$(e,20)&&!n.delta&&n.type===x.pop&&d.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&d.go(-n.delta,!1),ee(e,r,a)))).then((e=>{e=e||X(r,a,!1),e&&(n.delta&&!$(e,8)?d.go(-n.delta,!1):n.type===x.pop&&$(e,20)&&d.go(-1,!1)),q(r,a,e)})).catch(c)})))}let Z,K=Ve(),Q=Ve();function ee(e,t,n){ne(e);const r=Q.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function te(){return Z&&y.value!==z?Promise.resolve():new Promise(((e,t)=>{K.add([e,t])}))}function ne(e){return Z||(Z=!e,J(),K.list().forEach((([t,n])=>e?n(e):t())),K.reset()),e}function re(t,n,i,a){const{scrollBehavior:s}=e;if(!o||!s)return Promise.resolve();const l=!i&&I(k(t.fullPath,0))||(a||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>s(t,n,l))).then((e=>e&&R(e))).catch((e=>ee(e,t,n)))}const oe=e=>d.go(e);let ae;const se=new Set,le={currentRoute:y,listening:!0,addRoute:E,removeRoute:T,hasRoute:C,getRoutes:M,resolve:O,options:e,push:N,replace:U,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:h.add,beforeResolve:m.add,afterEach:v.add,onError:Q.add,isReady:te,install(e){const t=this;e.component("RouterLink",qe),e.component("RouterView",et),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),o&&!ae&&y.value===z&&(ae=!0,N(d.location).catch((e=>{0})));const n={};for(const i in z)Object.defineProperty(n,i,{get:()=>y.value[i],enumerable:!0});e.provide(Fe,t),e.provide(Be,(0,i.Um)(n)),e.provide(je,y);const r=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(b=z,Y&&Y(),Y=null,y.value=z,ae=!1,Z=!1),r()}}};function ce(e){return e.reduce(((e,t)=>e.then((()=>H(t)))),Promise.resolve())}return le}function nt(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find((e=>v(e,o)))?r.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find((e=>v(e,s)))||i.push(s))}return[n,r,i]}},3089:function(e,t,n){"use strict";n.d(t,{H7:function(){return k}});var r=n(567),i=n(7244),o=n(6969);const a=e=>i.Ue(((t,n)=>{e.onerror=e=>n(new Error(e.target.error)),e.onsuccess=e=>t(e.target.result)})),s=(e,t)=>i.Ue(((n,r)=>{const i=indexedDB.open(e);i.onupgradeneeded=e=>t(e.target.result),i.onerror=e=>r(o.Ue(e.target.error)),i.onsuccess=e=>{const t=e.target.result;t.onversionchange=()=>{t.close()},"undefined"!==typeof addEventListener&&addEventListener("unload",(()=>t.close())),n(t)}})),l=e=>a(indexedDB.deleteDatabase(e)),c=(e,t)=>t.forEach((t=>e.createObjectStore.apply(e,t))),u=(e,t,n="readwrite")=>{const r=e.transaction(t,n);return t.map((e=>w(r,e)))},d=(e,t)=>a(e.count(t)),h=(e,t)=>a(e.get(t)),f=(e,t)=>a(e.delete(t)),p=(e,t,n)=>a(e.put(t,n)),m=(e,t)=>a(e.add(t)),g=(e,t,n)=>a(e.getAll(t,n)),v=(e,t,n)=>{let r=null;return _(e,t,(e=>(r=e,!1)),n).then((()=>r))},y=(e,t=null)=>v(e,t,"prev"),b=(e,t)=>i.Ue(((n,r)=>{e.onerror=r,e.onsuccess=async e=>{const r=e.target.result;if(null===r||!1===await t(r))return n();r.continue()}})),_=(e,t,n,r="next")=>b(e.openKeyCursor(t,r),(e=>n(e.key))),w=(e,t)=>e.objectStore(t),x=(e,t)=>IDBKeyRange.upperBound(e,t),S=(e,t)=>IDBKeyRange.lowerBound(e,t);var E=n(6055);const T="custom",M="updates",C=500,A=(e,t=(()=>{}),n=(()=>{}))=>{const[i]=u(e.db,[M]);return g(i,S(e._dbref,!1)).then((o=>{e._destroyed||(t(i),r.ay(e.doc,(()=>{o.forEach((t=>r.NG(e.doc,t)))}),e,!1),n(i))})).then((()=>y(i).then((t=>{e._dbref=t+1})))).then((()=>d(i).then((t=>{e._dbsize=t})))).then((()=>i))},R=(e,t=!0)=>A(e).then((n=>{(t||e._dbsize>=C)&&m(n,r.D$(e.doc)).then((()=>f(n,x(e._dbref,!0)))).then((()=>d(n).then((t=>{e._dbsize=t}))))}));class k extends E.y{constructor(e,t){super(),this.doc=t,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=s(e,(e=>c(e,[["updates",{autoIncrement:!0}],["custom"]]))),this.whenSynced=i.Ue((e=>this.on("synced",(()=>e(this))))),this._db.then((e=>{this.db=e;const n=e=>m(e,r.D$(t)),i=()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])};A(this,n,i)})),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(e,t)=>{if(this.db&&t!==this){const[t]=u(this.db,[M]);m(t,e),++this._dbsize>=C&&(null!==this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout((()=>{R(this,!1),this._storeTimeoutId=null}),this._storeTimeout))}},t.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then((e=>{e.close()}))}clearData(){return this.destroy().then((()=>{l(this.name)}))}get(e){return this._db.then((t=>{const[n]=u(t,[T],"readonly");return h(n,e)}))}set(e,t){return this._db.then((n=>{const[r]=u(n,[T]);return p(r,t,e)}))}del(e){return this._db.then((t=>{const[n]=u(t,[T]);return f(n,e)}))}}},114:function(e,t,n){"use strict";n.d(t,{Ag:function(){return d},GL:function(){return u},oy:function(){return f},xq:function(){return h}});n(7658);var r=n(8148),i=n(2294),o=n(313),a=n(1383),s=n(6055),l=n(7409);const c=3e4;class u extends s.y{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval((()=>{const e=o.ZG();null!==this.getLocalState()&&c/2<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach(((n,r)=>{r!==this.clientID&&c<=e-n.lastUpdated&&this.states.has(r)&&t.push(r)})),t.length>0&&d(this,t,"timeout")}),a.GW(c/10)),e.on("destroy",(()=>{this.destroy()})),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,n=this.meta.get(t),r=void 0===n?0:n.clock+1,i=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:r,lastUpdated:o.ZG()});const a=[],s=[],c=[],u=[];null===e?u.push(t):null==i?null!=e&&a.push(t):(s.push(t),l.Hi(i,e)||c.push(t)),(a.length>0||c.length>0||u.length>0)&&this.emit("change",[{added:a,updated:c,removed:u},"local"]),this.emit("update",[{added:a,updated:s,removed:u},"local"])}setLocalStateField(e,t){const n=this.getLocalState();null!==n&&this.setLocalState({...n,[e]:t})}getStates(){return this.states}}const d=(e,t,n)=>{const r=[];for(let i=0;i<t.length;i++){const n=t[i];if(e.states.has(n)){if(e.states.delete(n),n===e.clientID){const t=e.meta.get(n);e.meta.set(n,{clock:t.clock+1,lastUpdated:o.ZG()})}r.push(n)}}r.length>0&&(e.emit("change",[{added:[],updated:[],removed:r},n]),e.emit("update",[{added:[],updated:[],removed:r},n]))},h=(e,t,n=e.states)=>{const i=t.length,o=r.Mf();r.uE(o,i);for(let a=0;a<i;a++){const i=t[a],s=n.get(i)||null,l=e.meta.get(i).clock;r.uE(o,i),r.uE(o,l),r.uw(o,JSON.stringify(s))}return r._f(o)},f=(e,t,n)=>{const r=i.l1(t),a=o.ZG(),s=[],c=[],u=[],d=[],h=i.yg(r);for(let o=0;o<h;o++){const t=i.yg(r);let n=i.yg(r);const o=JSON.parse(i.kf(r)),h=e.meta.get(t),f=e.states.get(t),p=void 0===h?0:h.clock;(p<n||p===n&&null===o&&e.states.has(t))&&(null===o?t===e.clientID&&null!=e.getLocalState()?n++:e.states.delete(t):e.states.set(t,o),e.meta.set(t,{clock:n,lastUpdated:a}),void 0===h&&null!==o?s.push(t):void 0!==h&&null===o?d.push(t):null!==o&&(l.Hi(o,f)||u.push(t),c.push(t)))}(s.length>0||u.length>0||d.length>0)&&e.emit("change",[{added:s,updated:u,removed:d},n]),(s.length>0||c.length>0||d.length>0)&&e.emit("update",[{added:s,updated:c,removed:d},n])}},7034:function(e,t,n){"use strict";n.d(t,{K0:function(){return u},Px:function(){return s},Wh:function(){return a},_J:function(){return c},lr:function(){return f},zu:function(){return m}});var r=n(8148),i=n(2294),o=n(567);const a=0,s=1,l=2,c=(e,t)=>{r.uE(e,a);const n=o.gJ(t);r.mP(e,n)},u=(e,t,n)=>{r.uE(e,s),r.mP(e,o.D$(t,n))},d=(e,t,n)=>u(t,n,i.HN(e)),h=(e,t,n)=>{try{o.NG(t,i.HN(e),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},f=(e,t)=>{r.uE(e,l),r.mP(e,t)},p=h,m=(e,t,n,r)=>{const o=i.yg(e);switch(o){case a:d(e,t,n);break;case s:h(e,n,r);break;case l:p(e,n,r);break;default:throw new Error("Unknown message type")}return o}},9373:function(e,t,n){"use strict";n.d(t,{x$:function(){return K}});n(7658),n(1439),n(7585),n(5315);var r=n(6055),i=n(313),o=n(1383);const a=1200,s=2500,l=3e4,c=e=>{if(e.shouldConnect&&null===e.ws){const t=new WebSocket(e.url),n=e.binaryType;let r=null;n&&(t.binaryType=n),e.ws=t,e.connecting=!0,e.connected=!1,t.onmessage=t=>{e.lastMessageReceived=i.ZG();const n=t.data,o="string"===typeof n?JSON.parse(n):n;o&&"pong"===o.type&&(clearTimeout(r),r=setTimeout(d,l/2)),e.emit("message",[o,e])};const u=t=>{null!==e.ws&&(e.ws=null,e.connecting=!1,e.connected?(e.connected=!1,e.emit("disconnect",[{type:"disconnect",error:t},e])):e.unsuccessfulReconnects++,setTimeout(c,o.VV(o.mv(e.unsuccessfulReconnects+1)*a,s),e)),clearTimeout(r)},d=()=>{e.ws===t&&e.send({type:"ping"})};t.onclose=()=>u(null),t.onerror=e=>u(e),t.onopen=()=>{e.lastMessageReceived=i.ZG(),e.connecting=!1,e.connected=!0,e.unsuccessfulReconnects=0,e.emit("connect",[{type:"connect"},e]),r=setTimeout(d,l/2)}}};class u extends r.y{constructor(e,{binaryType:t}={}){super(),this.url=e,this.ws=null,this.binaryType=t||null,this.connected=!1,this.connecting=!1,this.unsuccessfulReconnects=0,this.lastMessageReceived=0,this.shouldConnect=!0,this._checkInterval=setInterval((()=>{this.connected&&l<i.ZG()-this.lastMessageReceived&&this.ws.close()}),l/2),c(this)}send(e){this.ws&&this.ws.send(JSON.stringify(e))}destroy(){clearInterval(this._checkInterval),this.disconnect(),super.destroy()}disconnect(){this.shouldConnect=!1,null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.connected||null!==this.ws||c(this)}}var d=n(7862),h=n(6969),f=n(4373),p=n(8148),m=n(2294),g=n(6100),v=n(5409),y=n(7244),b=n(3924),_=n(3425);const w=()=>{let e=!0;return(t,n)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==n&&n()}};var x=n(4743),S=n(7034),E=n(114),T=n(654);const M=(e,t)=>{const n=T.lz(e).buffer,r=T.lz(t).buffer;return crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveKey"]).then((e=>crypto.subtle.deriveKey({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},e,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"])))},C=(e,t)=>{if(!t)return y.DB(e);const n=crypto.getRandomValues(new Uint8Array(12));return crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e).then((e=>{const t=p.Mf();return p.uw(t,"AES-GCM"),p.mP(t,n),p.mP(t,new Uint8Array(e)),p._f(t)}))},A=(e,t)=>{const n=p.Mf();return p.EM(n,e),C(p._f(n),t)},R=(e,t)=>{if(!t)return y.DB(e);const n=m.l1(e),r=m.kf(n);"AES-GCM"!==r&&y.d1(h.Ue("Unknown encryption algorithm"));const i=m.HN(n),o=m.HN(n);return crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,o).then((e=>new Uint8Array(e)))},k=(e,t)=>R(e,t).then((e=>m.v_(m.l1(new Uint8Array(e))))),O=g.YX("y-webrtc"),L=0,I=3,P=1,D=4,N=new Map,U=new Map,F=e=>{let t=!0;e.webrtcConns.forEach((e=>{e.synced||(t=!1)})),(!t&&e.synced||t&&!e.synced)&&(e.synced=t,e.provider.emit("synced",[{synced:t}]),O("synced ",v.Pl,e.name,v.YW," with all peers"))},B=(e,t,n)=>{const r=m.l1(t),i=p.Mf(),o=m.yg(r);if(void 0===e)return null;const a=e.awareness,s=e.doc;let l=!1;switch(o){case L:{p.uE(i,L);const t=S.zu(r,i,s,e);t!==S.Px||e.synced||n(),t===S.Wh&&(l=!0);break}case I:p.uE(i,P),p.mP(i,E.xq(a,Array.from(a.getStates().keys()))),l=!0;break;case P:E.oy(a,m.HN(r),e);break;case D:{const t=1===m.kj(r),n=m.kf(r);if(n!==e.peerId&&(e.bcConns.has(n)&&!t||!e.bcConns.has(n)&&t)){const r=[],i=[];t?(e.bcConns.add(n),i.push(n)):(e.bcConns.delete(n),r.push(n)),e.provider.emit("peers",[{added:i,removed:r,webrtcPeers:Array.from(e.webrtcConns.keys()),bcPeers:Array.from(e.bcConns)}]),q(e)}break}default:return console.error("Unable to compute message"),i}return l?i:null},j=(e,t)=>{const n=e.room;return O("received message from ",v.Pl,e.remotePeerId,v.s7," (",n.name,")",v.YW,v.WO),B(n,t,(()=>{e.synced=!0,O("synced ",v.Pl,n.name,v.YW," with ",v.Pl,e.remotePeerId),F(n)}))},V=(e,t)=>{O("send message to ",v.Pl,e.remotePeerId,v.YW,v.s7," (",e.room.name,")",v.WO);try{e.peer.send(p._f(t))}catch(n){}},z=(e,t)=>{O("broadcast message in ",v.Pl,e.name,v.YW),e.webrtcConns.forEach((e=>{try{e.peer.send(t)}catch(n){}}))};class H{constructor(e,t,n,r){O("establishing connection to ",v.Pl,n),this.room=r,this.remotePeerId=n,this.closed=!1,this.connected=!1,this.synced=!1,this.peer=new x({initiator:t,...r.provider.peerOpts}),this.peer.on("signal",(t=>{J(e,r,{to:n,from:r.peerId,type:"signal",signal:t})})),this.peer.on("connect",(()=>{O("connected to ",v.Pl,n),this.connected=!0;const e=r.provider,t=e.doc,i=r.awareness,o=p.Mf();p.uE(o,L),S._J(o,t),V(this,o);const a=i.getStates();if(a.size>0){const e=p.Mf();p.uE(e,P),p.mP(e,E.xq(i,Array.from(a.keys()))),V(this,e)}})),this.peer.on("close",(()=>{this.connected=!1,this.closed=!0,r.webrtcConns.has(this.remotePeerId)&&(r.webrtcConns.delete(this.remotePeerId),r.provider.emit("peers",[{removed:[this.remotePeerId],added:[],webrtcPeers:Array.from(r.webrtcConns.keys()),bcPeers:Array.from(r.bcConns)}])),F(r),this.peer.destroy(),O("closed connection to ",v.Pl,n),$(r)})),this.peer.on("error",(e=>{O("Error in connection to ",v.Pl,n,": ",e),$(r)})),this.peer.on("data",(e=>{const t=j(this,e);null!==t&&V(this,t)}))}destroy(){this.peer.destroy()}}const W=(e,t)=>C(t,e.key).then((t=>e.mux((()=>b.nY(e.name,t))))),G=(e,t)=>{e.bcconnected&&W(e,t),z(e,t)},$=e=>{N.forEach((t=>{t.connected&&(t.send({type:"subscribe",topics:[e.name]}),e.webrtcConns.size<e.provider.maxConns&&J(t,e,{type:"announce",from:e.peerId}))}))},q=e=>{if(e.provider.filterBcConns){const t=p.Mf();p.uE(t,D),p.$F(t,1),p.uw(t,e.peerId),W(e,p._f(t))}};class X{constructor(e,t,n,r){this.peerId=f.k$(),this.doc=e,this.awareness=t.awareness,this.provider=t,this.synced=!1,this.name=n,this.key=r,this.webrtcConns=new Map,this.bcConns=new Set,this.mux=w(),this.bcconnected=!1,this._bcSubscriber=e=>R(new Uint8Array(e),r).then((e=>this.mux((()=>{const t=B(this,e,(()=>{}));t&&W(this,p._f(t))})))),this._docUpdateHandler=(e,t)=>{const n=p.Mf();p.uE(n,L),S.lr(n,e),G(this,p._f(n))},this._awarenessUpdateHandler=({added:e,updated:t,removed:n},r)=>{const i=e.concat(t).concat(n),o=p.Mf();p.uE(o,P),p.mP(o,E.xq(this.awareness,i)),G(this,p._f(o))},this._beforeUnloadHandler=()=>{E.Ag(this.awareness,[e.clientID],"window unload"),U.forEach((e=>{e.disconnect()}))},"undefined"!==typeof window?window.addEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.on("exit",this._beforeUnloadHandler)}connect(){this.doc.on("update",this._docUpdateHandler),this.awareness.on("update",this._awarenessUpdateHandler),$(this);const e=this.name;b.Ld(e,this._bcSubscriber),this.bcconnected=!0,q(this);const t=p.Mf();p.uE(t,L),S._J(t,this.doc),W(this,p._f(t));const n=p.Mf();p.uE(n,L),S.K0(n,this.doc),W(this,p._f(n));const r=p.Mf();p.uE(r,I),W(this,p._f(r));const i=p.Mf();p.uE(i,P),p.mP(i,E.xq(this.awareness,[this.doc.clientID])),W(this,p._f(i))}disconnect(){N.forEach((e=>{e.connected&&e.send({type:"unsubscribe",topics:[this.name]})})),E.Ag(this.awareness,[this.doc.clientID],"disconnect");const e=p.Mf();p.uE(e,D),p.$F(e,0),p.uw(e,this.peerId),W(this,p._f(e)),b.r1(this.name,this._bcSubscriber),this.bcconnected=!1,this.doc.off("update",this._docUpdateHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.webrtcConns.forEach((e=>e.destroy()))}destroy(){this.disconnect(),"undefined"!==typeof window?window.removeEventListener("beforeunload",this._beforeUnloadHandler):"undefined"!==typeof process&&process.off("exit",this._beforeUnloadHandler)}}const Y=(e,t,n,r)=>{if(U.has(n))throw h.Ue(`A Yjs Doc connected to room "${n}" already exists!`);const i=new X(e,t,n,r);return U.set(n,i),i},J=(e,t,n)=>{t.key?A(n,t.key).then((n=>{e.send({type:"publish",topic:t.name,data:_.s3(n)})})):e.send({type:"publish",topic:t.name,data:n})};class Z extends u{constructor(e){super(e),this.providers=new Set,this.on("connect",(()=>{O(`connected (${e})`);const t=Array.from(U.keys());this.send({type:"subscribe",topics:t}),U.forEach((e=>J(this,e,{type:"announce",from:e.peerId})))})),this.on("message",(e=>{switch(e.type){case"publish":{const t=e.topic,n=U.get(t);if(null==n||"string"!==typeof t)return;const r=e=>{const t=n.webrtcConns,r=n.peerId;if(null==e||e.from===r||void 0!==e.to&&e.to!==r||n.bcConns.has(e.from))return;const i=t.has(e.from)?()=>{}:()=>n.provider.emit("peers",[{removed:[],added:[e.from],webrtcPeers:Array.from(n.webrtcConns.keys()),bcPeers:Array.from(n.bcConns)}]);switch(e.type){case"announce":t.size<n.provider.maxConns&&(d.Yu(t,e.from,(()=>new H(this,!0,e.from,n))),i());break;case"signal":e.to===r&&(d.Yu(t,e.from,(()=>new H(this,!1,e.from,n))).peer.signal(e.signal),i());break}};n.key?"string"===typeof e.data&&k(_.Gh(e.data),n.key).then(r):r(e.data)}}})),this.on("disconnect",(()=>O(`disconnect (${e})`)))}}class K extends r.y{constructor(e,t,{signaling:n=["wss://y-webrtc-eu.fly.dev"],password:r=null,awareness:i=new E.GL(t),maxConns:a=20+o.GW(15*f.TN()),filterBcConns:s=!0,peerOpts:l={}}={}){super(),this.roomName=e,this.doc=t,this.filterBcConns=s,this.awareness=i,this.shouldConnect=!1,this.signalingUrls=n,this.signalingConns=[],this.maxConns=a,this.peerOpts=l,this.key=r?M(r,e):y.DB(null),this.room=null,this.key.then((n=>{this.room=Y(t,this,e,n),this.shouldConnect?this.room.connect():this.room.disconnect()})),this.connect(),this.destroy=this.destroy.bind(this),t.on("destroy",this.destroy)}get connected(){return null!==this.room&&this.shouldConnect}connect(){this.shouldConnect=!0,this.signalingUrls.forEach((e=>{const t=d.Yu(N,e,(()=>new Z(e)));this.signalingConns.push(t),t.providers.add(this)})),this.room&&this.room.connect()}disconnect(){this.shouldConnect=!1,this.signalingConns.forEach((e=>{e.providers.delete(this),0===e.providers.size&&(e.destroy(),N.delete(e.url))})),this.room&&this.room.disconnect()}destroy(){this.doc.off("destroy",this.destroy),this.key.then((()=>{this.room.destroy(),U.delete(this.roomName)})),super.destroy()}}},567:function(e,t,n){"use strict";n.d(t,{QP:function(){return ut},mJ:function(){return Rt},QW:function(){return N},GC:function(){return dn},D5:function(){return Lt},xv:function(){return Jt},lt:function(){return tn},sI:function(){return Qt},yP:function(){return on},eI:function(){return sn},NG:function(){return K},D$:function(){return te},gJ:function(){return se},g4:function(){return Te},ay:function(){return je}});n(7658),n(1439),n(7585),n(5315);var r=n(6055),i=n(5989),o=n(1383),a=n(7862),s=n(8148),l=n(2294),c=n(4373),u=n(7244),d=n(3425),h=n(6969),f=n(3388),p=n(7409),m=n(893),g=n(6100),v=n(5409);const y=e=>({[Symbol.iterator](){return this},next:e}),b=(e,t)=>y((()=>{let n;do{n=e.next()}while(!n.done&&!t(n.value));return n})),_=(e,t)=>y((()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}}));var w=n(1370);class x{constructor(e,t){this.clock=e,this.len=t}}class S{constructor(){this.clients=new Map}}const E=(e,t,n)=>t.clients.forEach(((t,r)=>{const i=e.doc.store.clients.get(r);for(let o=0;o<t.length;o++){const r=t[o];Le(e,i,r.clock,r.len,n)}})),T=(e,t)=>{let n=0,r=e.length-1;while(n<=r){const i=o.GW((n+r)/2),a=e[i],s=a.clock;if(s<=t){if(t<s+a.len)return i;n=i+1}else r=i-1}return null},M=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==T(n,t.clock)},C=e=>{e.clients.forEach((e=>{let t,n;for(e.sort(((e,t)=>e.clock-t.clock)),t=1,n=1;t<e.length;t++){const r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=o.Fp(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},A=e=>{const t=new S;for(let n=0;n<e.length;n++)e[n].clients.forEach(((r,o)=>{if(!t.clients.has(o)){const a=r.slice();for(let t=n+1;t<e.length;t++)i.s7(a,e[t].clients.get(o)||[]);t.clients.set(o,a)}}));return C(t),t},R=(e,t,n,r)=>{a.Yu(e.clients,t,(()=>[])).push(new x(n,r))},k=()=>new S,O=e=>{const t=k();return e.clients.forEach(((e,n)=>{const r=[];for(let t=0;t<e.length;t++){const n=e[t];if(n.deleted){const i=n.id.clock;let o=n.length;if(t+1<e.length)for(let n=e[t+1];t+1<e.length&&n.deleted;n=e[1+ ++t])o+=n.length;r.push(new x(i,o))}}r.length>0&&t.clients.set(n,r)})),t},L=(e,t)=>{s.uE(e.restEncoder,t.clients.size),i.Dp(t.clients.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([t,n])=>{e.resetDsCurVal(),s.uE(e.restEncoder,t);const r=n.length;s.uE(e.restEncoder,r);for(let i=0;i<r;i++){const t=n[i];e.writeDsClock(t.clock),e.writeDsLen(t.len)}}))},I=e=>{const t=new S,n=l.yg(e.restDecoder);for(let r=0;r<n;r++){e.resetDsCurVal();const n=l.yg(e.restDecoder),r=l.yg(e.restDecoder);if(r>0){const i=a.Yu(t.clients,n,(()=>[]));for(let t=0;t<r;t++)i.push(new x(e.readDsClock(),e.readDsLen()))}}return t},P=(e,t,n)=>{const r=new S,i=l.yg(e.restDecoder);for(let o=0;o<i;o++){e.resetDsCurVal();const i=l.yg(e.restDecoder),o=l.yg(e.restDecoder),a=n.clients.get(i)||[],s=Se(n,i);for(let n=0;n<o;n++){const n=e.readDsClock(),o=n+e.readDsLen();if(n<s){s<o&&R(r,i,s,o-s);let e=Te(a,n),l=a[e];!l.deleted&&l.id.clock<n&&(a.splice(e+1,0,Bn(t,l,n-l.id.clock)),e++);while(e<a.length){if(l=a[e++],!(l.id.clock<o))break;l.deleted||(o<l.id.clock+l.length&&a.splice(e,0,Bn(t,l,o-l.id.clock)),l.delete(t))}}else R(r,i,n,o-n)}}if(r.clients.size>0){const e=new W;return s.uE(e.restEncoder,0),L(e,r),e.toUint8Array()}return null},D=c.U7;class N extends r.y{constructor({guid:e=c.k$(),collectionid:t=null,gc:n=!0,gcFilter:r=(()=>!0),meta:i=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=D(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new we,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=u.Ue((e=>{this.on("load",(()=>{this.isLoaded=!0,e(this)}))}));const s=()=>u.Ue((e=>{const t=n=>{void 0!==n&&!0!==n||(this.off("sync",t),e())};this.on("sync",t)}));this.on("sync",(e=>{!1===e&&this.isSynced&&(this.whenSynced=s()),this.isSynced=void 0===e||!0===e,this.isLoaded||this.emit("load",[])})),this.whenSynced=s()}load(){const e=this._item;null===e||this.shouldLoad||je(e.parent.doc,(e=>{e.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(i.Dp(this.subdocs).map((e=>e.guid)))}transact(e,t=null){return je(this,e,t)}get(e,t=ut){const n=a.Yu(this.share,e,(()=>{const e=new t;return e._integrate(this,null),e})),r=n.constructor;if(t!==ut&&r!==t){if(r===ut){const r=new t;r._map=n._map,n._map.forEach((e=>{for(;null!==e;e=e.left)e.parent=r})),r._start=n._start;for(let e=r._start;null!==e;e=e.right)e.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,Rt)}getText(e=""){return this.get(e,Jt)}getMap(e=""){return this.get(e,Lt)}getXmlFragment(e=""){return this.get(e,Qt)}toJSON(){const e={};return this.share.forEach(((t,n)=>{e[n]=t.toJSON()})),e}destroy(){i.Dp(this.subdocs).forEach((e=>e.destroy()));const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new N({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,je(e.parent.doc,(n=>{const r=t.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}on(e,t){super.on(e,t)}off(e,t){super.off(e,t)}}class U{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return l.yg(this.restDecoder)}readDsLen(){return l.yg(this.restDecoder)}}class F extends U{readLeftID(){return me(l.yg(this.restDecoder),l.yg(this.restDecoder))}readRightID(){return me(l.yg(this.restDecoder),l.yg(this.restDecoder))}readClient(){return l.yg(this.restDecoder)}readInfo(){return l.kj(this.restDecoder)}readString(){return l.kf(this.restDecoder)}readParentInfo(){return 1===l.yg(this.restDecoder)}readTypeRef(){return l.yg(this.restDecoder)}readLen(){return l.yg(this.restDecoder)}readAny(){return l.v_(this.restDecoder)}readBuf(){return d.f9(l.HN(this.restDecoder))}readJSON(){return JSON.parse(l.kf(this.restDecoder))}readKey(){return l.kf(this.restDecoder)}}class B{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=l.yg(this.restDecoder),this.dsCurrVal}readDsLen(){const e=l.yg(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class j extends B{constructor(e){super(e),this.keys=[],l.yg(e),this.keyClockDecoder=new l.dD(l.HN(e)),this.clientDecoder=new l.UF(l.HN(e)),this.leftClockDecoder=new l.dD(l.HN(e)),this.rightClockDecoder=new l.dD(l.HN(e)),this.infoDecoder=new l.XW(l.HN(e),l.kj),this.stringDecoder=new l.sO(l.HN(e)),this.parentInfoDecoder=new l.XW(l.HN(e),l.kj),this.typeRefDecoder=new l.UF(l.HN(e)),this.lenDecoder=new l.UF(l.HN(e))}readLeftID(){return new fe(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new fe(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return 1===this.parentInfoDecoder.read()}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return l.v_(this.restDecoder)}readBuf(){return l.HN(this.restDecoder)}readJSON(){return l.v_(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const e=this.stringDecoder.read();return this.keys.push(e),e}}}class V{constructor(){this.restEncoder=s.Mf()}toUint8Array(){return s._f(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){s.uE(this.restEncoder,e)}writeDsLen(e){s.uE(this.restEncoder,e)}}class z extends V{writeLeftID(e){s.uE(this.restEncoder,e.client),s.uE(this.restEncoder,e.clock)}writeRightID(e){s.uE(this.restEncoder,e.client),s.uE(this.restEncoder,e.clock)}writeClient(e){s.uE(this.restEncoder,e)}writeInfo(e){s.$F(this.restEncoder,e)}writeString(e){s.uw(this.restEncoder,e)}writeParentInfo(e){s.uE(this.restEncoder,e?1:0)}writeTypeRef(e){s.uE(this.restEncoder,e)}writeLen(e){s.uE(this.restEncoder,e)}writeAny(e){s.EM(this.restEncoder,e)}writeBuf(e){s.mP(this.restEncoder,e)}writeJSON(e){s.uw(this.restEncoder,JSON.stringify(e))}writeKey(e){s.uw(this.restEncoder,e)}}class H{constructor(){this.restEncoder=s.Mf(),this.dsCurrVal=0}toUint8Array(){return s._f(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,s.uE(this.restEncoder,t)}writeDsLen(e){0===e&&h.zR(),s.uE(this.restEncoder,e-1),this.dsCurrVal+=e}}class W extends H{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new s.sX,this.clientEncoder=new s.HE,this.leftClockEncoder=new s.sX,this.rightClockEncoder=new s.sX,this.infoEncoder=new s.GF(s.$F),this.stringEncoder=new s.TS,this.parentInfoEncoder=new s.GF(s.$F),this.typeRefEncoder=new s.HE,this.lenEncoder=new s.HE}toUint8Array(){const e=s.Mf();return s.uE(e,0),s.mP(e,this.keyClockEncoder.toUint8Array()),s.mP(e,this.clientEncoder.toUint8Array()),s.mP(e,this.leftClockEncoder.toUint8Array()),s.mP(e,this.rightClockEncoder.toUint8Array()),s.mP(e,s._f(this.infoEncoder)),s.mP(e,this.stringEncoder.toUint8Array()),s.mP(e,s._f(this.parentInfoEncoder)),s.mP(e,this.typeRefEncoder.toUint8Array()),s.mP(e,this.lenEncoder.toUint8Array()),s.HK(e,s._f(this.restEncoder)),s._f(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){s.EM(this.restEncoder,e)}writeBuf(e){s.mP(this.restEncoder,e)}writeJSON(e){s.EM(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}const G=(e,t,n,r)=>{r=o.Fp(r,t[0].id.clock);const i=Te(t,r);s.uE(e.restEncoder,t.length-i),e.writeClient(n),s.uE(e.restEncoder,r);const a=t[i];a.write(e,r-a.id.clock);for(let o=i+1;o<t.length;o++)t[o].write(e,0)},$=(e,t,n)=>{const r=new Map;n.forEach(((e,n)=>{Se(t,n)>e&&r.set(n,e)})),xe(t).forEach(((e,t)=>{n.has(t)||r.set(t,0)})),s.uE(e.restEncoder,r.size),i.Dp(r.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([n,r])=>{G(e,t.clients.get(n),n,r)}))},q=(e,t)=>{const n=a.Ue(),r=l.yg(e.restDecoder);for(let i=0;i<r;i++){const r=l.yg(e.restDecoder),i=new Array(r),o=e.readClient();let a=l.yg(e.restDecoder);n.set(o,{i:0,refs:i});for(let n=0;n<r;n++){const r=e.readInfo();switch(f.kr&r){case 0:{const t=e.readLen();i[n]=new dn(me(o,a),t),a+=t;break}case 10:{const t=l.yg(e.restDecoder);i[n]=new Wn(me(o,a),t),a+=t;break}default:{const s=0===(r&(f.rc|f.x1)),l=new jn(me(o,a),null,(r&f.x1)===f.x1?e.readLeftID():null,null,(r&f.rc)===f.rc?e.readRightID():null,s?e.readParentInfo()?t.get(e.readString()):e.readLeftID():null,s&&(r&f.cq)===f.cq?e.readString():null,Vn(e,r));i[n]=l,a+=l.length}}}}return n},X=(e,t,n)=>{const r=[];let o=i.Dp(n.keys()).sort(((e,t)=>e-t));if(0===o.length)return null;const l=()=>{if(0===o.length)return null;let e=n.get(o[o.length-1]);while(e.refs.length===e.i){if(o.pop(),!(o.length>0))return null;e=n.get(o[o.length-1])}return e};let c=l();if(null===c&&0===r.length)return null;const u=new we,d=new Map,h=(e,t)=>{const n=d.get(e);(null==n||n>t)&&d.set(e,t)};let f=c.refs[c.i++];const p=new Map,m=()=>{for(const e of r){const t=e.id.client,r=n.get(t);r?(r.i--,u.clients.set(t,r.refs.slice(r.i)),n.delete(t),r.i=0,r.refs=[]):u.clients.set(t,[e]),o=o.filter((e=>e!==t))}r.length=0};while(1){if(f.constructor!==Wn){const i=a.Yu(p,f.id.client,(()=>Se(t,f.id.client))),o=i-f.id.clock;if(o<0)r.push(f),h(f.id.client,f.id.clock-1),m();else{const i=f.getMissing(e,t);if(null!==i){r.push(f);const e=n.get(i)||{refs:[],i:0};if(e.refs.length!==e.i){f=e.refs[e.i++];continue}h(i,Se(t,i)),m()}else(0===o||o<f.length)&&(f.integrate(e,o),p.set(f.id.client,f.id.clock+f.length))}}if(r.length>0)f=r.pop();else if(null!==c&&c.i<c.refs.length)f=c.refs[c.i++];else{if(c=l(),null===c)break;f=c.refs[c.i++]}}if(u.clients.size>0){const e=new W;return $(e,u,new Map),s.uE(e.restEncoder,0),{missing:d,update:e.toUint8Array()}}return null},Y=(e,t)=>$(e,t.doc.store,t.beforeState),J=(e,t,n,r=new j(e))=>je(t,(e=>{e.local=!1;let t=!1;const n=e.doc,i=n.store,o=q(r,n),a=X(e,i,o),s=i.pendingStructs;if(s){for(const[e,n]of s.missing)if(n<Se(i,e)){t=!0;break}if(a){for(const[e,t]of a.missing){const n=s.missing.get(e);(null==n||n>t)&&s.missing.set(e,t)}s.update=$e([s.update,a.update])}}else i.pendingStructs=a;const c=P(r,e,i);if(i.pendingDs){const t=new j(l.l1(i.pendingDs));l.yg(t.restDecoder);const n=P(t,e,i);i.pendingDs=c&&n?$e([c,n]):c||n}else i.pendingDs=c;if(t){const t=i.pendingStructs.update;i.pendingStructs=null,Z(e.doc,t)}}),n,!1),Z=(e,t,n,r=j)=>{const i=l.l1(t);J(i,e,n,new r(i))},K=(e,t,n)=>Z(e,t,n,F),Q=(e,t,n=new Map)=>{$(e,t.store,n),L(e,O(t.store))},ee=(e,t=new Uint8Array([0]),n=new W)=>{const r=re(t);Q(n,e,r);const i=[n.toUint8Array()];if(e.store.pendingDs&&i.push(e.store.pendingDs),e.store.pendingStructs&&i.push(qe(e.store.pendingStructs.update,t)),i.length>1){if(n.constructor===z)return We(i.map(((e,t)=>0===t?e:Ke(e))));if(n.constructor===W)return $e(i)}return i[0]},te=(e,t)=>ee(e,t,new z),ne=e=>{const t=new Map,n=l.yg(e.restDecoder);for(let r=0;r<n;r++){const n=l.yg(e.restDecoder),r=l.yg(e.restDecoder);t.set(n,r)}return t},re=e=>ne(new U(l.l1(e))),ie=(e,t)=>(s.uE(e.restEncoder,t.size),i.Dp(t.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([t,n])=>{s.uE(e.restEncoder,t),s.uE(e.restEncoder,n)})),e),oe=(e,t)=>ie(e,xe(t.store)),ae=(e,t=new H)=>(e instanceof Map?ie(t,e):oe(t,e),t.toUint8Array()),se=e=>ae(e,new V);class le{constructor(){this.l=[]}}const ce=()=>new le,ue=(e,t)=>e.l.push(t),de=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter((e=>t!==e)),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},he=(e,t,n)=>p.PP(e.l,[t,n]);class fe{constructor(e,t){this.client=e,this.clock=t}}const pe=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,me=(e,t)=>new fe(e,t),ge=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw h.zR()};class ve{constructor(e,t){this.ds=e,this.sv=t}}const ye=(e,t)=>new ve(e,t),be=(ye(k(),new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!M(t.ds,e.id)),_e=(e,t)=>{const n=a.Yu(e.meta,_e,m.Ue),r=e.doc.store;n.has(t)||(t.sv.forEach(((t,n)=>{t<Se(r,n)&&Re(e,me(n,t))})),E(e,t.ds,(e=>{})),n.add(t))};class we{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const xe=e=>{const t=new Map;return e.clients.forEach(((e,n)=>{const r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},Se=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},Ee=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw h.zR()}n.push(t)},Te=(e,t)=>{let n=0,r=e.length-1,i=e[r],a=i.id.clock;if(a===t)return r;let s=o.GW(t/(a+i.length-1)*r);while(n<=r){if(i=e[s],a=i.id.clock,a<=t){if(t<a+i.length)return s;n=s+1}else r=s-1;s=o.GW((n+r)/2)}throw h.zR()},Me=(e,t)=>{const n=e.clients.get(t.client);return n[Te(n,t.clock)]},Ce=Me,Ae=(e,t,n)=>{const r=Te(t,n),i=t[r];return i.id.clock<n&&i instanceof jn?(t.splice(r+1,0,Bn(e,i,n-i.id.clock)),r+1):r},Re=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[Ae(e,n,t.clock)]},ke=(e,t,n)=>{const r=t.clients.get(n.client),i=Te(r,n.clock),o=r[i];return n.clock!==o.id.clock+o.length-1&&o.constructor!==dn&&r.splice(i+1,0,Bn(e,o,n.clock-o.id.clock+1)),o},Oe=(e,t,n)=>{const r=e.clients.get(t.id.client);r[Te(r,t.id.clock)]=n},Le=(e,t,n,r,i)=>{if(0===r)return;const o=n+r;let a,s=Ae(e,t,n);do{a=t[s++],o<a.id.clock+a.length&&Ae(e,t,o),i(a)}while(s<t.length&&t[s].id.clock<o)};class Ie{constructor(e,t,n){this.doc=e,this.deleteSet=new S,this.beforeState=xe(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Pe=(e,t)=>!(0===t.deleteSet.clients.size&&!a.Yj(t.afterState,((e,n)=>t.beforeState.get(n)!==e)))&&(C(t.deleteSet),Y(e,t),L(e,t.deleteSet),!0),De=(e,t,n)=>{const r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&a.Yu(e.changed,t,m.Ue).add(n)},Ne=(e,t)=>{const n=e[t-1],r=e[t];n.deleted===r.deleted&&n.constructor===r.constructor&&n.mergeWith(r)&&(e.splice(t,1),r instanceof jn&&null!==r.parentSub&&r.parent._map.get(r.parentSub)===r&&r.parent._map.set(r.parentSub,n))},Ue=(e,t,n)=>{for(const[r,i]of e.clients.entries()){const e=t.clients.get(r);for(let r=i.length-1;r>=0;r--){const o=i[r],a=o.clock+o.len;for(let r=Te(e,o.clock),i=e[r];r<e.length&&i.id.clock<a;i=e[++r]){const i=e[r];if(o.clock+o.len<=i.id.clock)break;i instanceof jn&&i.deleted&&!i.keep&&n(i)&&i.gc(t,!1)}}}},Fe=(e,t)=>{e.clients.forEach(((e,n)=>{const r=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t],i=o.VV(r.length-1,1+Te(r,n.clock+n.len-1));for(let e=i,t=r[e];e>0&&t.id.clock>=n.clock;t=r[--e])Ne(r,e)}}))},Be=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,a=n.deleteSet,s=n._mergeStructs;try{C(a),n.afterState=xe(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const e=[];n.changed.forEach(((t,r)=>e.push((()=>{null!==r._item&&r._item.deleted||r._callObserver(n,t)})))),e.push((()=>{n.changedParentTypes.forEach(((e,t)=>{t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&(e=e.filter((e=>null===e.target._item||!e.target._item.deleted)),e.forEach((e=>{e.currentTarget=t,e._path=null})),e.sort(((e,t)=>e.path.length-t.path.length)),he(t._dEH,e,n))}))})),e.push((()=>r.emit("afterTransaction",[n,r]))),(0,p.PP)(e,[]),n._needFormattingCleanup&&qt(n)}finally{r.gc&&Ue(a,i,r.gcFilter),Fe(a,i),n.afterState.forEach(((e,t)=>{const r=n.beforeState.get(t)||0;if(r!==e){const e=i.clients.get(t),n=o.Fp(Te(e,r),1);for(let t=e.length-1;t>=n;t--)Ne(e,t)}}));for(let e=0;e<s.length;e++){const{client:t,clock:n}=s[e].id,r=i.clients.get(t),o=Te(r,n);o+1<r.length&&Ne(r,o+1),o>0&&Ne(r,o)}if(n.local||n.afterState.get(r.clientID)===n.beforeState.get(r.clientID)||(g.S0(v.ud,v.Pl,"[yjs] ",v.YW,v.hM,"Changed the client-id because another client seems to be using it."),r.clientID=D()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const e=new z,t=Pe(e,n);t&&r.emit("update",[e.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const e=new W,t=Pe(e,n);t&&r.emit("updateV2",[e.toUint8Array(),n.origin,r,n])}const{subdocsAdded:l,subdocsLoaded:c,subdocsRemoved:u}=n;(l.size>0||u.size>0||c.size>0)&&(l.forEach((e=>{e.clientID=r.clientID,null==e.collectionid&&(e.collectionid=r.collectionid),r.subdocs.add(e)})),u.forEach((e=>r.subdocs.delete(e))),r.emit("subdocs",[{loaded:c,added:l,removed:u},r,n]),u.forEach((e=>e.destroy()))),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):Be(e,t+1)}}},je=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let o=!1,a=null;null===e._transaction&&(o=!0,e._transaction=new Ie(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{a=t(e._transaction)}finally{if(o){const t=e._transaction===i[0];e._transaction=null,t&&Be(i,0)}}return a};function*Ve(e){const t=l.yg(e.restDecoder);for(let n=0;n<t;n++){const t=l.yg(e.restDecoder),n=e.readClient();let r=l.yg(e.restDecoder);for(let i=0;i<t;i++){const t=e.readInfo();if(10===t){const t=l.yg(e.restDecoder);yield new Wn(me(n,r),t),r+=t}else if(0!==(f.kr&t)){const i=0===(t&(f.rc|f.x1)),o=new jn(me(n,r),null,(t&f.x1)===f.x1?e.readLeftID():null,null,(t&f.rc)===f.rc?e.readRightID():null,i?e.readParentInfo()?e.readString():e.readLeftID():null,i&&(t&f.cq)===f.cq?e.readString():null,Vn(e,t));yield o,r+=o.length}else{const t=e.readLen();yield new dn(me(n,r),t),r+=t}}}}class ze{constructor(e,t){this.gen=Ve(e),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do{this.curr=this.gen.next().value||null}while(this.filterSkips&&null!==this.curr&&this.curr.constructor===Wn);return this.curr}}class He{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const We=e=>$e(e,F,z),Ge=(e,t)=>{if(e.constructor===dn){const{client:n,clock:r}=e.id;return new dn(me(n,r+t),e.length-t)}if(e.constructor===Wn){const{client:n,clock:r}=e.id;return new Wn(me(n,r+t),e.length-t)}{const n=e,{client:r,clock:i}=n.id;return new jn(me(r,i+t),null,me(r,i+t-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(t))}},$e=(e,t=j,n=W)=>{if(1===e.length)return e[0];const r=e.map((e=>new t(l.l1(e))));let i=r.map((e=>new ze(e,!0))),o=null;const a=new n,s=new He(a);while(1){if(i=i.filter((e=>null!==e.curr)),i.sort(((e,t)=>{if(e.curr.id.client===t.curr.id.client){const n=e.curr.id.clock-t.curr.id.clock;return 0===n?e.curr.constructor===t.curr.constructor?0:e.curr.constructor===Wn?1:-1:n}return t.curr.id.client-e.curr.id.client})),0===i.length)break;const e=i[0],t=e.curr.id.client;if(null!==o){let n=e.curr,r=!1;while(null!==n&&n.id.clock+n.length<=o.struct.id.clock+o.struct.length&&n.id.client>=o.struct.id.client)n=e.next(),r=!0;if(null===n||n.id.client!==t||r&&n.id.clock>o.struct.id.clock+o.struct.length)continue;if(t!==o.struct.id.client)Ye(s,o.struct,o.offset),o={struct:n,offset:0},e.next();else if(o.struct.id.clock+o.struct.length<n.id.clock)if(o.struct.constructor===Wn)o.struct.length=n.id.clock+n.length-o.struct.id.clock;else{Ye(s,o.struct,o.offset);const e=n.id.clock-o.struct.id.clock-o.struct.length,r=new Wn(me(t,o.struct.id.clock+o.struct.length),e);o={struct:r,offset:0}}else{const t=o.struct.id.clock+o.struct.length-n.id.clock;t>0&&(o.struct.constructor===Wn?o.struct.length-=t:n=Ge(n,t)),o.struct.mergeWith(n)||(Ye(s,o.struct,o.offset),o={struct:n,offset:0},e.next())}}else o={struct:e.curr,offset:0},e.next();for(let n=e.curr;null!==n&&n.id.client===t&&n.id.clock===o.struct.id.clock+o.struct.length&&n.constructor!==Wn;n=e.next())Ye(s,o.struct,o.offset),o={struct:n,offset:0}}null!==o&&(Ye(s,o.struct,o.offset),o=null),Je(s);const c=r.map((e=>I(e))),u=A(c);return L(a,u),a.toUint8Array()},qe=(e,t,n=j,r=W)=>{const i=re(t),a=new r,s=new He(a),c=new n(l.l1(e)),u=new ze(c,!1);while(u.curr){const e=u.curr,t=e.id.client,n=i.get(t)||0;if(u.curr.constructor!==Wn)if(e.id.clock+e.length>n){Ye(s,e,o.Fp(n-e.id.clock,0)),u.next();while(u.curr&&u.curr.id.client===t)Ye(s,u.curr,0),u.next()}else while(u.curr&&u.curr.id.client===t&&u.curr.id.clock+u.curr.length<=n)u.next();else u.next()}Je(s);const d=I(c);return L(a,d),a.toUint8Array()},Xe=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:s._f(e.encoder.restEncoder)}),e.encoder.restEncoder=s.Mf(),e.written=0)},Ye=(e,t,n)=>{e.written>0&&e.currClient!==t.id.client&&Xe(e),0===e.written&&(e.currClient=t.id.client,e.encoder.writeClient(t.id.client),s.uE(e.encoder.restEncoder,t.id.clock+n)),t.write(e.encoder,n),e.written++},Je=e=>{Xe(e);const t=e.encoder.restEncoder;s.uE(t,e.clientStructs.length);for(let n=0;n<e.clientStructs.length;n++){const r=e.clientStructs[n];s.uE(t,r.written),s.HK(t,r.restEncoder)}},Ze=(e,t,n,r)=>{const i=new n(l.l1(e)),o=new ze(i,!1),a=new r,s=new He(a);for(let l=o.curr;null!==l;l=o.next())Ye(s,t(l),0);Je(s);const c=I(i);return L(a,c),a.toUint8Array()},Ke=e=>Ze(e,p.id,j,z);class Qe{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=et(this.currentTarget,this.target))}deletes(e){return M(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){const e=new Map,t=this.target,n=this.transaction.changed.get(t);n.forEach((n=>{if(null!==n){const r=t._map.get(n);let o,a;if(this.adds(r)){let e=r.left;while(null!==e&&this.adds(e))e=e.left;if(this.deletes(r)){if(null===e||!this.deletes(e))return;o="delete",a=i.Z$(e.content.getContent())}else null!==e&&this.deletes(e)?(o="update",a=i.Z$(e.content.getContent())):(o="add",a=void 0)}else{if(!this.deletes(r))return;o="delete",a=i.Z$(r.content.getContent())}e.set(n,{action:o,oldValue:a})}})),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){const t=this.target,n=m.Ue(),r=m.Ue(),i=[];e={added:n,deleted:r,delta:i,keys:this.keys};const o=this.transaction.changed.get(t);if(o.has(null)){let e=null;const o=()=>{e&&i.push(e)};for(let i=t._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==e&&void 0!==e.delete||(o(),e={delete:0}),e.delete+=i.length,r.add(i)):this.adds(i)?(null!==e&&void 0!==e.insert||(o(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),n.add(i)):(null!==e&&void 0!==e.retain||(o(),e={retain:0}),e.retain+=i.length);null!==e&&void 0===e.retain&&o()}this._changes=e}return e}}const et=(e,t)=>{const n=[];while(null!==t._item&&t!==e){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,r=t._item.parent._start;while(r!==t._item&&null!==r)r.deleted||e++,r=r.right;n.unshift(e)}t=t._item.parent}return n},tt=80;let nt=0;class rt{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=nt++}}const it=e=>{e.timestamp=nt++},ot=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=nt++},at=(e,t,n)=>{if(e.length>=tt){const r=e.reduce(((e,t)=>e.timestamp<t.timestamp?e:t));return ot(r,t,n),r}{const r=new rt(t,n);return e.push(r),r}},st=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce(((e,n)=>o.Wn(t-e.index)<o.Wn(t-n.index)?e:n));let r=e._start,i=0;null!==n&&(r=n.p,i=n.index,it(n));while(null!==r.right&&i<t){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}while(null!==r.left&&i>t)r=r.left,!r.deleted&&r.countable&&(i-=r.length);while(null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return null!==n&&o.Wn(n.index-i)<r.parent.length/tt?(ot(n,r,i),n):at(e._searchMarker,r,i)},lt=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let t=i.p;t.marker=!1;while(t&&(t.deleted||!t.countable))t=t.left,t&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){e.splice(r,1);continue}i.p=t,t.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=o.Fp(t,i.index+n))}},ct=(e,t,n)=>{const r=e,i=t.changedParentTypes;while(1){if(a.Yu(i,e,(()=>[])).push(n),null===e._item)break;e=e._item.parent}he(r._eH,n,t)};class ut{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ce(),this._dEH=ce(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw h.Nw()}clone(){throw h.Nw()}_write(e){}get _first(){let e=this._start;while(null!==e&&e.deleted)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){ue(this._eH,e)}observeDeep(e){ue(this._dEH,e)}unobserve(e){de(this._eH,e)}unobserveDeep(e){de(this._dEH,e)}toJSON(){}}const dt=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let o=e._start;while(null!==o&&r>0){if(o.countable&&!o.deleted){const e=o.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&r>0;n++)i.push(e[n]),r--;t=0}}o=o.right}return i},ht=e=>{const t=[];let n=e._start;while(null!==n){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},ft=(e,t)=>{let n=0,r=e._start;while(null!==r){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let r=0;r<i.length;r++)t(i[r],n++,e)}r=r.right}},pt=(e,t)=>{const n=[];return ft(e,((r,i)=>{n.push(t(r,i,e))})),n},mt=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){while(null!==t&&t.deleted)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const e=n[r++];return n.length<=r&&(n=null),{done:!1,value:e}}}},gt=(e,t)=>{const n=st(e,t);let r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},vt=(e,t,n,r)=>{let i=n;const o=e.doc,a=o.clientID,s=o.store,l=null===n?t._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new jn(me(a,Se(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Tn(c)),i.integrate(e,0),c=[])};r.forEach((n=>{if(null===n)c.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(n);break;default:switch(u(),n.constructor){case Uint8Array:case ArrayBuffer:i=new jn(me(a,Se(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new hn(new Uint8Array(n))),i.integrate(e,0);break;case N:i=new jn(me(a,Se(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new vn(n)),i.integrate(e,0);break;default:if(!(n instanceof ut))throw new Error("Unexpected content type in insert operation");i=new jn(me(a,Se(s,a)),i,i&&i.lastId,l,l&&l.id,t,null,new Un(n)),i.integrate(e,0)}}})),u()},yt=h.Ue("Length exceeded!"),bt=(e,t,n,r)=>{if(n>t._length)throw yt;if(0===n)return t._searchMarker&&lt(t._searchMarker,n,r.length),vt(e,t,null,r);const i=n,o=st(t,n);let a=t._start;for(null!==o&&(a=o.p,n-=o.index,0===n&&(a=a.prev,n+=a&&a.countable&&!a.deleted?a.length:0));null!==a;a=a.right)if(!a.deleted&&a.countable){if(n<=a.length){n<a.length&&Re(e,me(a.id.client,a.id.clock+n));break}n-=a.length}return t._searchMarker&&lt(t._searchMarker,i,r.length),vt(e,t,a,r)},_t=(e,t,n)=>{const r=(t._searchMarker||[]).reduce(((e,t)=>t.index>e.index?t:e),{index:0,p:t._start});let i=r.p;if(i)while(i.right)i=i.right;return vt(e,t,i,n)},wt=(e,t,n,r)=>{if(0===r)return;const i=n,o=r,a=st(t,n);let s=t._start;for(null!==a&&(s=a.p,n-=a.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&Re(e,me(s.id.client,s.id.clock+n)),n-=s.length);while(r>0&&null!==s)s.deleted||(r<s.length&&Re(e,me(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw yt;t._searchMarker&&lt(t._searchMarker,i,-o+r)},xt=(e,t,n)=>{const r=t._map.get(n);void 0!==r&&r.delete(e)},St=(e,t,n,r)=>{const i=t._map.get(n)||null,o=e.doc,a=o.clientID;let s;if(null==r)s=new Tn([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:s=new Tn([r]);break;case Uint8Array:s=new hn(r);break;case N:s=new vn(r);break;default:if(!(r instanceof ut))throw new Error("Unexpected content type");s=new Un(r)}new jn(me(a,Se(o.store,a)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},Et=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Tt=e=>{const t={};return e._map.forEach(((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},Mt=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Ct=e=>b(e.entries(),(e=>!e[1].deleted));class At extends Qe{constructor(e,t){super(e,t),this._transaction=t}}class Rt extends ut{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new Rt;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Rt}clone(){const e=new Rt;return e.insert(0,this.toArray().map((e=>e instanceof ut?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),ct(this,e,new At(this,e))}insert(e,t){null!==this.doc?je(this.doc,(n=>{bt(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?je(this.doc,(t=>{_t(t,this,e)})):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?je(this.doc,(n=>{wt(n,this,e,t)})):this._prelimContent.splice(e,t)}get(e){return gt(this,e)}toArray(){return ht(this)}slice(e=0,t=this.length){return dt(this,e,t)}toJSON(){return this.map((e=>e instanceof ut?e.toJSON():e))}map(e){return pt(this,e)}forEach(e){ft(this,e)}[Symbol.iterator](){return mt(this)}_write(e){e.writeTypeRef(kn)}}const kt=e=>new Rt;class Ot extends Qe{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Lt extends ut{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach(((e,t)=>{this.set(t,e)})),this._prelimContent=null}_copy(){return new Lt}clone(){const e=new Lt;return this.forEach(((t,n)=>{e.set(n,t instanceof ut?t.clone():t)})),e}_callObserver(e,t){ct(this,e,new Ot(this,e,t))}toJSON(){const e={};return this._map.forEach(((t,n)=>{if(!t.deleted){const r=t.content.getContent()[t.length-1];e[n]=r instanceof ut?r.toJSON():r}})),e}get size(){return[...Ct(this._map)].length}keys(){return _(Ct(this._map),(e=>e[0]))}values(){return _(Ct(this._map),(e=>e[1].content.getContent()[e[1].length-1]))}entries(){return _(Ct(this._map),(e=>[e[0],e[1].content.getContent()[e[1].length-1]]))}forEach(e){this._map.forEach(((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}))}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?je(this.doc,(t=>{xt(t,this,e)})):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?je(this.doc,(n=>{St(n,this,e,t)})):this._prelimContent.set(e,t),t}get(e){return Et(this,e)}has(e){return Mt(this,e)}clear(){null!==this.doc?je(this.doc,(e=>{this.forEach((function(t,n,r){xt(e,r,n)}))})):this._prelimContent.clear()}_write(e){e.writeTypeRef(On)}}const It=e=>new Lt,Pt=(e,t)=>e===t||"object"===typeof e&&"object"===typeof t&&e&&t&&w.$m(e,t);class Dt{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){switch(null===this.right&&h.zR(),this.right.content.constructor){case wn:this.right.deleted||Bt(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Nt=(e,t,n)=>{while(null!==t.right&&n>0){switch(t.right.content.constructor){case wn:t.right.deleted||Bt(t.currentAttributes,t.right.content);break;default:t.right.deleted||(n<t.right.length&&Re(e,me(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length);break}t.left=t.right,t.right=t.right.right}return t},Ut=(e,t,n)=>{const r=new Map,i=st(t,n);if(i){const t=new Dt(i.p.left,i.p,i.index,r);return Nt(e,t,n-i.index)}{const i=new Dt(null,t._start,0,r);return Nt(e,i,n)}},Ft=(e,t,n,r)=>{while(null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===wn&&Pt(r.get(n.right.content.key),n.right.content.value)))n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,o=i.clientID;r.forEach(((r,a)=>{const s=n.left,l=n.right,c=new jn(me(o,Se(i.store,o)),s,s&&s.lastId,l,l&&l.id,t,null,new wn(a,r));c.integrate(e,0),n.right=c,n.forward()}))},Bt=(e,t)=>{const{key:n,value:r}=t;null===r?e.delete(n):e.set(n,r)},jt=(e,t)=>{while(1){if(null===e.right)break;if(!(e.right.deleted||e.right.content.constructor===wn&&Pt(t[e.right.content.key]||null,e.right.content.value)))break;e.forward()}},Vt=(e,t,n,r)=>{const i=e.doc,o=i.clientID,a=new Map;for(const s in r){const l=r[s],c=n.currentAttributes.get(s)||null;if(!Pt(c,l)){a.set(s,c);const{left:r,right:u}=n;n.right=new jn(me(o,Se(i.store,o)),r,r&&r.lastId,u,u&&u.id,t,null,new wn(s,l)),n.right.integrate(e,0),n.forward()}}return a},zt=(e,t,n,r,i)=>{n.currentAttributes.forEach(((e,t)=>{void 0===i[t]&&(i[t]=null)}));const o=e.doc,a=o.clientID;jt(n,i);const s=Vt(e,t,n,i),l=r.constructor===String?new Cn(r):r instanceof ut?new Un(r):new bn(r);let{left:c,right:u,index:d}=n;t._searchMarker&&lt(t._searchMarker,n.index,l.getLength()),u=new jn(me(a,Se(o.store,a)),c,c&&c.lastId,u,u&&u.id,t,null,l),u.integrate(e,0),n.right=u,n.index=d,n.forward(),Ft(e,t,n,s)},Ht=(e,t,n,r,i)=>{const o=e.doc,a=o.clientID;jt(n,i);const s=Vt(e,t,n,i);e:while(null!==n.right&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===wn))){if(!n.right.deleted)switch(n.right.content.constructor){case wn:{const{key:t,value:o}=n.right.content,a=i[t];if(void 0!==a){if(Pt(a,o))s.delete(t);else{if(0===r)break e;s.set(t,o)}n.right.delete(e)}else n.currentAttributes.set(t,o);break}default:r<n.right.length&&Re(e,me(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let i="";for(;r>0;r--)i+="\n";n.right=new jn(me(a,Se(o.store,a)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Cn(i)),n.right.integrate(e,0),n.forward()}Ft(e,t,n,s)},Wt=(e,t,n,r,i)=>{let o=t;const s=a.Ue();while(o&&(!o.countable||o.deleted)){if(!o.deleted&&o.content.constructor===wn){const e=o.content;s.set(e.key,e)}o=o.right}let l=0,c=!1;while(t!==o){if(n===t&&(c=!0),!t.deleted){const n=t.content;switch(n.constructor){case wn:{const{key:o,value:a}=n,u=r.get(o)||null;s.get(o)===n&&u!==a||(t.delete(e),l++,c||(i.get(o)||null)!==a||u===a||(null===u?i.delete(o):i.set(o,u))),c||t.deleted||Bt(i,n);break}}}t=t.right}return l},Gt=(e,t)=>{while(t&&t.right&&(t.right.deleted||!t.right.countable))t=t.right;const n=new Set;while(t&&(t.deleted||!t.countable)){if(!t.deleted&&t.content.constructor===wn){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}},$t=e=>{let t=0;return je(e.doc,(n=>{let r=e._start,i=e._start,o=a.Ue();const s=a.JG(o);while(i){if(!1===i.deleted)switch(i.content.constructor){case wn:Bt(s,i.content);break;default:t+=Wt(n,r,i,o,s),o=a.JG(s),r=i;break}i=i.right}})),t},qt=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const o=e.beforeState.get(r)||0;i!==o&&Le(e,n.store.clients.get(r),o,i,(e=>{e.deleted||e.content.constructor!==wn||e.constructor===dn||t.add(e.parent)}))}je(n,(n=>{E(e,e.deleteSet,(e=>{if(e instanceof dn||!e.parent._hasFormatting||t.has(e.parent))return;const r=e.parent;e.content.constructor===wn?t.add(r):Gt(n,e)}));for(const e of t)$t(e)}))},Xt=(e,t,n)=>{const r=n,i=a.JG(t.currentAttributes),o=t.right;while(n>0&&null!==t.right){if(!1===t.right.deleted)switch(t.right.content.constructor){case Un:case bn:case Cn:n<t.right.length&&Re(e,me(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e);break}t.forward()}o&&Wt(e,o,t.right,i,t.currentAttributes);const s=(t.left||t.right).parent;return s._searchMarker&&lt(s._searchMarker,t.index,-r+n),t};class Yt extends Qe{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)}))}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];je(e,(e=>{const n=new Map,r=new Map;let i=this.target._start,o=null;const a={};let s="",l=0,c=0;const u=()=>{if(null!==o){let e=null;switch(o){case"delete":c>0&&(e={delete:c}),c=0;break;case"insert":("object"===typeof s||s.length>0)&&(e={insert:s},n.size>0&&(e.attributes={},n.forEach(((t,n)=>{null!==t&&(e.attributes[n]=t)})))),s="";break;case"retain":l>0&&(e={retain:l},w.xb(a)||(e.attributes=w.f0({},a))),l=0;break}e&&t.push(e),o=null}};while(null!==i){switch(i.content.constructor){case Un:case bn:this.adds(i)?this.deletes(i)||(u(),o="insert",s=i.content.getContent()[0],u()):this.deletes(i)?("delete"!==o&&(u(),o="delete"),c+=1):i.deleted||("retain"!==o&&(u(),o="retain"),l+=1);break;case Cn:this.adds(i)?this.deletes(i)||("insert"!==o&&(u(),o="insert"),s+=i.content.str):this.deletes(i)?("delete"!==o&&(u(),o="delete"),c+=i.length):i.deleted||("retain"!==o&&(u(),o="retain"),l+=i.length);break;case wn:{const{key:t,value:s}=i.content;if(this.adds(i)){if(!this.deletes(i)){const l=n.get(t)||null;Pt(l,s)?null!==s&&i.delete(e):("retain"===o&&u(),Pt(s,r.get(t)||null)?delete a[t]:a[t]=s)}}else if(this.deletes(i)){r.set(t,s);const e=n.get(t)||null;Pt(e,s)||("retain"===o&&u(),a[t]=e)}else if(!i.deleted){r.set(t,s);const n=a[t];void 0!==n&&(Pt(n,s)?null!==n&&i.delete(e):("retain"===o&&u(),null===s?delete a[t]:a[t]=s))}i.deleted||("insert"===o&&u(),Bt(n,i.content));break}}i=i.right}u();while(t.length>0){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}})),this._delta=t}return this._delta}}class Jt extends ut{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach((e=>e()))}catch(n){console.error(n)}this._pending=null}_copy(){return new Jt}clone(){const e=new Jt;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new Yt(this,e,t);ct(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",t=this._start;while(null!==t)!t.deleted&&t.countable&&t.content.constructor===Cn&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?je(this.doc,(n=>{const r=new Dt(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const o=e[i];if(void 0!==o.insert){const a=t||"string"!==typeof o.insert||i!==e.length-1||null!==r.right||"\n"!==o.insert.slice(-1)?o.insert:o.insert.slice(0,-1);("string"!==typeof a||a.length>0)&&zt(n,this,r,a,o.attributes||{})}else void 0!==o.retain?Ht(n,this,r,o.retain,o.attributes||{}):void 0!==o.delete&&Xt(n,r,o.delete)}})):this._pending.push((()=>this.applyDelta(e)))}toDelta(e,t,n){const r=[],i=new Map,o=this.doc;let a="",s=this._start;function l(){if(a.length>0){const e={};let t=!1;i.forEach(((n,r)=>{t=!0,e[r]=n}));const n={insert:a};t&&(n.attributes=e),r.push(n),a=""}}const c=()=>{while(null!==s){if(be(s,e)||void 0!==t&&be(s,t))switch(s.content.constructor){case Cn:{const r=i.get("ychange");void 0===e||be(s,e)?void 0===t||be(s,t)?void 0!==r&&(l(),i.delete("ychange")):void 0!==r&&r.user===s.id.client&&"added"===r.type||(l(),i.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==r&&r.user===s.id.client&&"removed"===r.type||(l(),i.set("ychange",n?n("removed",s.id):{type:"removed"})),a+=s.content.str;break}case Un:case bn:{l();const e={insert:s.content.getContent()[0]};if(i.size>0){const t={};e.attributes=t,i.forEach(((e,n)=>{t[n]=e}))}r.push(e);break}case wn:be(s,e)&&(l(),Bt(i,s.content));break}s=s.right}l()};return e||t?je(o,(n=>{e&&_e(n,e),t&&_e(n,t),c()}),"cleanup"):c(),r}insert(e,t,n){if(t.length<=0)return;const r=this.doc;null!==r?je(r,(r=>{const i=Ut(r,this,e);n||(n={},i.currentAttributes.forEach(((e,t)=>{n[t]=e}))),zt(r,this,i,t,n)})):this._pending.push((()=>this.insert(e,t,n)))}insertEmbed(e,t,n={}){const r=this.doc;null!==r?je(r,(r=>{const i=Ut(r,this,e);zt(r,this,i,t,n)})):this._pending.push((()=>this.insertEmbed(e,t,n)))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?je(n,(n=>{Xt(n,Ut(n,this,e),t)})):this._pending.push((()=>this.delete(e,t)))}format(e,t,n){if(0===t)return;const r=this.doc;null!==r?je(r,(r=>{const i=Ut(r,this,e);null!==i.right&&Ht(r,this,i,t,n)})):this._pending.push((()=>this.format(e,t,n)))}removeAttribute(e){null!==this.doc?je(this.doc,(t=>{xt(t,this,e)})):this._pending.push((()=>this.removeAttribute(e)))}setAttribute(e,t){null!==this.doc?je(this.doc,(n=>{St(n,this,e,t)})):this._pending.push((()=>this.setAttribute(e,t)))}getAttribute(e){return Et(this,e)}getAttributes(){return Tt(this)}_write(e){e.writeTypeRef(Ln)}}const Zt=e=>new Jt;class Kt{constructor(e,t=(()=>!0)){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==tn&&t.constructor!==Qt||null===t._start)while(null!==e){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Qt extends ut{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Qt}clone(){const e=new Qt;return e.insert(0,this.toArray().map((e=>e instanceof ut?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new Kt(this,e)}querySelector(e){e=e.toUpperCase();const t=new Kt(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)),n=t.next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),i.Dp(new Kt(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)))}_callObserver(e,t){ct(this,e,new rn(this,t,e))}toString(){return pt(this,(e=>e.toString())).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),ft(this,(i=>{r.insertBefore(i.toDOM(e,t,n),null)})),r}insert(e,t){null!==this.doc?je(this.doc,(n=>{bt(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)je(this.doc,(n=>{const r=e&&e instanceof ut?e._item:e;vt(n,this,r,t)}));else{const n=this._prelimContent,r=null===e?0:n.findIndex((t=>t===e))+1;if(0===r&&null!==e)throw h.Ue("Reference item not found");n.splice(r,0,...t)}}delete(e,t=1){null!==this.doc?je(this.doc,(n=>{wt(n,this,e,t)})):this._prelimContent.splice(e,t)}toArray(){return ht(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return gt(this,e)}slice(e=0,t=this.length){return dt(this,e,t)}forEach(e){ft(this,e)}_write(e){e.writeTypeRef(Pn)}}const en=e=>new Qt;class tn extends Qt{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach(((e,t)=>{this.setAttribute(t,e)})),this._prelimAttrs=null}_copy(){return new tn(this.nodeName)}clone(){const e=new tn(this.nodeName),t=this.getAttributes();return w.Ed(t,((t,n)=>{"string"===typeof t&&e.setAttribute(n,t)})),e.insert(0,this.toArray().map((e=>e instanceof ut?e.clone():e))),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const a in e)n.push(a);n.sort();const r=n.length;for(let a=0;a<r;a++){const r=n[a];t.push(r+'="'+e[r]+'"')}const i=this.nodeName.toLocaleLowerCase(),o=t.length>0?" "+t.join(" "):"";return`<${i}${o}>${super.toString()}</${i}>`}removeAttribute(e){null!==this.doc?je(this.doc,(t=>{xt(t,this,e)})):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?je(this.doc,(n=>{St(n,this,e,t)})):this._prelimAttrs.set(e,t)}getAttribute(e){return Et(this,e)}hasAttribute(e){return Mt(this,e)}getAttributes(){return Tt(this)}toDOM(e=document,t={},n){const r=e.createElement(this.nodeName),i=this.getAttributes();for(const o in i){const e=i[o];"string"===typeof e&&r.setAttribute(o,e)}return ft(this,(i=>{r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(In),e.writeKey(this.nodeName)}}const nn=e=>new tn(e.readKey());class rn extends Qe{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach((e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)}))}}class on extends Lt{constructor(e){super(),this.hookName=e}_copy(){return new on(this.hookName)}clone(){const e=new on(this.hookName);return this.forEach(((t,n)=>{e.set(n,t)})),e}toDOM(e=document,t={},n){const r=t[this.hookName];let i;return i=void 0!==r?r.createDom(this):document.createElement(this.hookName),i.setAttribute("data-yjs-hook",this.hookName),void 0!==n&&n._createAssociation(i,this),i}_write(e){e.writeTypeRef(Dn),e.writeKey(this.hookName)}}const an=e=>new on(e.readKey());class sn extends Jt{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new sn}clone(){const e=new sn;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const r=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(r,this),r}toString(){return this.toDelta().map((e=>{const t=[];for(const r in e.attributes){const n=[];for(const t in e.attributes[r])n.push({key:t,value:e.attributes[r][t]});n.sort(((e,t)=>e.key<t.key?-1:1)),t.push({nodeName:r,attrs:n})}t.sort(((e,t)=>e.nodeName<t.nodeName?-1:1));let n="";for(let r=0;r<t.length;r++){const e=t[r];n+=`<${e.nodeName}`;for(let t=0;t<e.attrs.length;t++){const r=e.attrs[t];n+=` ${r.key}="${r.value}"`}n+=">"}n+=e.insert;for(let r=t.length-1;r>=0;r--)n+=`</${t[r].nodeName}>`;return n})).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Nn)}}const ln=e=>new sn;class cn{constructor(e,t){this.id=e,this.length=t}get deleted(){throw h.Nw()}mergeWith(e){return!1}write(e,t,n){throw h.Nw()}integrate(e,t){throw h.Nw()}}const un=0;class dn extends cn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),Ee(e.doc.store,this)}write(e,t){e.writeInfo(un),e.writeLen(this.length-t)}getMissing(e,t){return null}}class hn{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new hn(this.content)}splice(e){throw h.Nw()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}const fn=e=>new hn(e.readBuf());class pn{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new pn(this.len)}splice(e){const t=new pn(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){R(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}const mn=e=>new pn(e.readLen()),gn=(e,t)=>new N({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1});class vn{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new vn(gn(this.doc.guid,this.opts))}splice(e){throw h.Nw()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const yn=e=>new vn(gn(e.readString(),e.readAny()));class bn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new bn(this.embed)}splice(e){throw h.Nw()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}const _n=e=>new bn(e.readJSON());class wn{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new wn(this.key,this.value)}splice(e){throw h.Nw()}mergeWith(e){return!1}integrate(e,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const xn=e=>new wn(e.readKey(),e.readJSON());class Sn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Sn(this.arr)}splice(e){const t=new Sn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeString(void 0===t?"undefined":JSON.stringify(t))}}getRef(){return 2}}const En=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++){const t=e.readString();"undefined"===t?n.push(void 0):n.push(JSON.parse(t))}return new Sn(n)};class Tn{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Tn(this.arr)}splice(e){const t=new Tn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeAny(t)}}getRef(){return 8}}const Mn=e=>{const t=e.readLen(),n=[];for(let r=0;r<t;r++)n.push(e.readAny());return new Tn(n)};class Cn{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Cn(this.str)}splice(e){const t=new Cn(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",t.str="�"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const An=e=>new Cn(e.readString()),Rn=[kt,It,Zt,nn,en,an,ln],kn=0,On=1,Ln=2,In=3,Pn=4,Dn=5,Nn=6;class Un{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Un(this.type._copy())}splice(e){throw h.Nw()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;while(null!==t)t.deleted?e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((t=>{t.deleted?e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}gc(e){let t=this.type._start;while(null!==t)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((t=>{while(null!==t)t.gc(e,!0),t=t.left})),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Fn=e=>new Un(Rn[e.readTypeRef()](e)),Bn=(e,t,n)=>{const{client:r,clock:i}=t.id,o=new jn(me(r,i+n),t,me(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&o.markDeleted(),t.keep&&(o.keep=!0),null!==t.redone&&(o.redone=me(t.redone.client,t.redone.clock+n)),t.right=o,null!==o.right&&(o.right.left=o),e._mergeStructs.push(o),null!==o.parentSub&&null===o.right&&o.parent._map.set(o.parentSub,o),t.length=n,o};class jn extends cn{constructor(e,t,n,r,i,o,a,s){super(e,s.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=i,this.parent=o,this.parentSub=a,this.redone=null,this.content=s,this.info=this.content.isCountable()?f.Qn:0}set marker(e){(this.info&f.Ko)>0!==e&&(this.info^=f.Ko)}get marker(){return(this.info&f.Ko)>0}get keep(){return(this.info&f.Vw)>0}set keep(e){this.keep!==e&&(this.info^=f.Vw)}get countable(){return(this.info&f.Qn)>0}get deleted(){return(this.info&f.CY)>0}set deleted(e){this.deleted!==e&&(this.info^=f.CY)}markDeleted(){this.info|=f.CY}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Se(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Se(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===fe&&this.id.client!==this.parent.client&&this.parent.clock>=Se(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ke(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Re(e,this.rightOrigin),this.rightOrigin=this.right.id),(this.left&&this.left.constructor===dn||this.right&&this.right.constructor===dn)&&(this.parent=null),this.parent){if(this.parent.constructor===fe){const e=Ce(t,this.parent);e.constructor===dn?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===jn&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===jn&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=ke(e,e.doc.store,me(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub){t=this.parent._map.get(this.parentSub)||null;while(null!==t&&null!==t.left)t=t.left}else t=this.parent._start;const r=new Set,i=new Set;while(null!==t&&t!==this.right){if(i.add(t),r.add(t),pe(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,r.clear();else if(pe(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!i.has(Ce(e.doc.store,t.origin)))break;r.has(Ce(e.doc.store,t.origin))||(n=t,r.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub){e=this.parent._map.get(this.parentSub)||null;while(null!==e&&null!==e.left)e=e.left}else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Ee(e.doc.store,this),this.content.integrate(e,this),De(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new dn(this.id,this.length).integrate(e,0)}get next(){let e=this.right;while(null!==e&&e.deleted)e=e.right;return e}get prev(){let e=this.left;while(null!==e&&e.deleted)e=e.left;return e}get lastId(){return 1===this.length?this.id:me(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&pe(e.origin,this.lastId)&&this.right===e&&pe(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach((t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),R(e.deleteSet,this.id.client,this.id.clock,this.length),De(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw h.zR();this.content.gc(e),t?Oe(e,this,new dn(this.id,this.length)):this.content=new pn(this.length)}write(e,t){const n=t>0?me(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,o=this.content.getRef()&f.kr|(null===n?0:f.x1)|(null===r?0:f.rc)|(null===i?0:f.cq);if(e.writeInfo(o),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=ge(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===fe?(e.writeParentInfo(!1),e.writeLeftID(t)):h.zR();null!==i&&e.writeString(i)}this.content.write(e,t)}}const Vn=(e,t)=>zn[t&f.kr](e),zn=[()=>{h.zR()},mn,En,fn,An,_n,xn,Fn,Mn,yn,()=>{h.zR()}],Hn=10;class Wn extends cn{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){h.zR()}write(e,t){e.writeInfo(Hn),s.uE(e.restEncoder,this.length-t)}getMissing(e,t){return null}}const Gn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:{},$n="__ $YJS$ __";!0===Gn[$n]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Gn[$n]=!0}}]);
//# sourceMappingURL=chunk-vendors.ef154354.js.map